76d28049123240182ea65c5d102fbb13
/* istanbul ignore next */
function cov_v304x8zb0() {
  var path = "/Users/mfarsx/dev/tripvar/tripvar-server/src/repositories/booking.repository.js";
  var hash = "7570ec8b0d49609ab166c03dc90826c066e0c0ac";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/mfarsx/dev/tripvar/tripvar-server/src/repositories/booking.repository.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 23
        },
        end: {
          line: 1,
          column: 51
        }
      },
      "1": {
        start: {
          line: 5,
          column: 4
        },
        end: {
          line: 5,
          column: 17
        }
      },
      "2": {
        start: {
          line: 10,
          column: 4
        },
        end: {
          line: 14,
          column: 5
        }
      },
      "3": {
        start: {
          line: 11,
          column: 6
        },
        end: {
          line: 11,
          column: 77
        }
      },
      "4": {
        start: {
          line: 13,
          column: 6
        },
        end: {
          line: 13,
          column: 18
        }
      },
      "5": {
        start: {
          line: 19,
          column: 4
        },
        end: {
          line: 23,
          column: 5
        }
      },
      "6": {
        start: {
          line: 20,
          column: 6
        },
        end: {
          line: 20,
          column: 84
        }
      },
      "7": {
        start: {
          line: 22,
          column: 6
        },
        end: {
          line: 22,
          column: 18
        }
      },
      "8": {
        start: {
          line: 28,
          column: 4
        },
        end: {
          line: 32,
          column: 5
        }
      },
      "9": {
        start: {
          line: 29,
          column: 6
        },
        end: {
          line: 29,
          column: 76
        }
      },
      "10": {
        start: {
          line: 31,
          column: 6
        },
        end: {
          line: 31,
          column: 18
        }
      },
      "11": {
        start: {
          line: 37,
          column: 4
        },
        end: {
          line: 44,
          column: 5
        }
      },
      "12": {
        start: {
          line: 38,
          column: 6
        },
        end: {
          line: 41,
          column: 38
        }
      },
      "13": {
        start: {
          line: 43,
          column: 6
        },
        end: {
          line: 43,
          column: 18
        }
      },
      "14": {
        start: {
          line: 49,
          column: 4
        },
        end: {
          line: 57,
          column: 5
        }
      },
      "15": {
        start: {
          line: 50,
          column: 18
        },
        end: {
          line: 50,
          column: 28
        }
      },
      "16": {
        start: {
          line: 51,
          column: 6
        },
        end: {
          line: 54,
          column: 38
        }
      },
      "17": {
        start: {
          line: 56,
          column: 6
        },
        end: {
          line: 56,
          column: 18
        }
      },
      "18": {
        start: {
          line: 62,
          column: 4
        },
        end: {
          line: 66,
          column: 5
        }
      },
      "19": {
        start: {
          line: 63,
          column: 6
        },
        end: {
          line: 63,
          column: 83
        }
      },
      "20": {
        start: {
          line: 65,
          column: 6
        },
        end: {
          line: 65,
          column: 18
        }
      },
      "21": {
        start: {
          line: 71,
          column: 4
        },
        end: {
          line: 84,
          column: 5
        }
      },
      "22": {
        start: {
          line: 72,
          column: 20
        },
        end: {
          line: 80,
          column: 8
        }
      },
      "23": {
        start: {
          line: 81,
          column: 6
        },
        end: {
          line: 81,
          column: 19
        }
      },
      "24": {
        start: {
          line: 83,
          column: 6
        },
        end: {
          line: 83,
          column: 18
        }
      },
      "25": {
        start: {
          line: 89,
          column: 4
        },
        end: {
          line: 108,
          column: 5
        }
      },
      "26": {
        start: {
          line: 90,
          column: 20
        },
        end: {
          line: 99,
          column: 7
        }
      },
      "27": {
        start: {
          line: 101,
          column: 6
        },
        end: {
          line: 103,
          column: 7
        }
      },
      "28": {
        start: {
          line: 102,
          column: 8
        },
        end: {
          line: 102,
          column: 46
        }
      },
      "29": {
        start: {
          line: 105,
          column: 6
        },
        end: {
          line: 105,
          column: 42
        }
      },
      "30": {
        start: {
          line: 107,
          column: 6
        },
        end: {
          line: 107,
          column: 18
        }
      },
      "31": {
        start: {
          line: 113,
          column: 4
        },
        end: {
          line: 121,
          column: 5
        }
      },
      "32": {
        start: {
          line: 114,
          column: 6
        },
        end: {
          line: 118,
          column: 8
        }
      },
      "33": {
        start: {
          line: 120,
          column: 6
        },
        end: {
          line: 120,
          column: 18
        }
      },
      "34": {
        start: {
          line: 126,
          column: 4
        },
        end: {
          line: 145,
          column: 5
        }
      },
      "35": {
        start: {
          line: 127,
          column: 21
        },
        end: {
          line: 141,
          column: 8
        }
      },
      "36": {
        start: {
          line: 142,
          column: 6
        },
        end: {
          line: 142,
          column: 63
        }
      },
      "37": {
        start: {
          line: 144,
          column: 6
        },
        end: {
          line: 144,
          column: 18
        }
      },
      "38": {
        start: {
          line: 149,
          column: 0
        },
        end: {
          line: 149,
          column: 35
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 4,
            column: 2
          },
          end: {
            line: 4,
            column: 3
          }
        },
        loc: {
          start: {
            line: 4,
            column: 21
          },
          end: {
            line: 6,
            column: 3
          }
        },
        line: 4
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 9,
            column: 2
          },
          end: {
            line: 9,
            column: 3
          }
        },
        loc: {
          start: {
            line: 9,
            column: 27
          },
          end: {
            line: 15,
            column: 3
          }
        },
        line: 9
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 18,
            column: 2
          },
          end: {
            line: 18,
            column: 3
          }
        },
        loc: {
          start: {
            line: 18,
            column: 41
          },
          end: {
            line: 24,
            column: 3
          }
        },
        line: 18
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 27,
            column: 2
          },
          end: {
            line: 27,
            column: 3
          }
        },
        loc: {
          start: {
            line: 27,
            column: 29
          },
          end: {
            line: 33,
            column: 3
          }
        },
        line: 27
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 36,
            column: 2
          },
          end: {
            line: 36,
            column: 3
          }
        },
        loc: {
          start: {
            line: 36,
            column: 44
          },
          end: {
            line: 45,
            column: 3
          }
        },
        line: 36
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 48,
            column: 2
          },
          end: {
            line: 48,
            column: 3
          }
        },
        loc: {
          start: {
            line: 48,
            column: 21
          },
          end: {
            line: 58,
            column: 3
          }
        },
        line: 48
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 61,
            column: 2
          },
          end: {
            line: 61,
            column: 3
          }
        },
        loc: {
          start: {
            line: 61,
            column: 43
          },
          end: {
            line: 67,
            column: 3
          }
        },
        line: 61
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 70,
            column: 2
          },
          end: {
            line: 70,
            column: 3
          }
        },
        loc: {
          start: {
            line: 70,
            column: 24
          },
          end: {
            line: 85,
            column: 3
          }
        },
        line: 70
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 88,
            column: 2
          },
          end: {
            line: 88,
            column: 3
          }
        },
        loc: {
          start: {
            line: 88,
            column: 91
          },
          end: {
            line: 109,
            column: 3
          }
        },
        line: 88
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 112,
            column: 2
          },
          end: {
            line: 112,
            column: 3
          }
        },
        loc: {
          start: {
            line: 112,
            column: 40
          },
          end: {
            line: 122,
            column: 3
          }
        },
        line: 112
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 125,
            column: 2
          },
          end: {
            line: 125,
            column: 3
          }
        },
        loc: {
          start: {
            line: 125,
            column: 50
          },
          end: {
            line: 146,
            column: 3
          }
        },
        line: 125
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 88,
            column: 66
          },
          end: {
            line: 88,
            column: 89
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 88,
            column: 85
          },
          end: {
            line: 88,
            column: 89
          }
        }],
        line: 88
      },
      "1": {
        loc: {
          start: {
            line: 101,
            column: 6
          },
          end: {
            line: 103,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 101,
            column: 6
          },
          end: {
            line: 103,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 101
      },
      "2": {
        loc: {
          start: {
            line: 142,
            column: 13
          },
          end: {
            line: 142,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 142,
            column: 13
          },
          end: {
            line: 142,
            column: 22
          }
        }, {
          start: {
            line: 142,
            column: 26
          },
          end: {
            line: 142,
            column: 62
          }
        }],
        line: 142
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "7570ec8b0d49609ab166c03dc90826c066e0c0ac"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_v304x8zb0 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_v304x8zb0();
const BaseRepository =
/* istanbul ignore next */
(cov_v304x8zb0().s[0]++, require('./base.repository'));
class BookingRepository extends BaseRepository {
  constructor(model) {
    /* istanbul ignore next */
    cov_v304x8zb0().f[0]++;
    cov_v304x8zb0().s[1]++;
    super(model);
  }

  // Find bookings by user
  async findByUser(userId) {
    /* istanbul ignore next */
    cov_v304x8zb0().f[1]++;
    cov_v304x8zb0().s[2]++;
    try {
      /* istanbul ignore next */
      cov_v304x8zb0().s[3]++;
      return await this.model.find({
        user: userId
      }).populate('destination');
    } catch (error) {
      /* istanbul ignore next */
      cov_v304x8zb0().s[4]++;
      throw error;
    }
  }

  // Find bookings by destination
  async findByDestination(destinationId) {
    /* istanbul ignore next */
    cov_v304x8zb0().f[2]++;
    cov_v304x8zb0().s[5]++;
    try {
      /* istanbul ignore next */
      cov_v304x8zb0().s[6]++;
      return await this.model.find({
        destination: destinationId
      }).populate('user');
    } catch (error) {
      /* istanbul ignore next */
      cov_v304x8zb0().s[7]++;
      throw error;
    }
  }

  // Find bookings by status
  async findByStatus(status) {
    /* istanbul ignore next */
    cov_v304x8zb0().f[3]++;
    cov_v304x8zb0().s[8]++;
    try {
      /* istanbul ignore next */
      cov_v304x8zb0().s[9]++;
      return await this.model.find({
        status
      }).populate('user destination');
    } catch (error) {
      /* istanbul ignore next */
      cov_v304x8zb0().s[10]++;
      throw error;
    }
  }

  // Find bookings by date range
  async findByDateRange(startDate, endDate) {
    /* istanbul ignore next */
    cov_v304x8zb0().f[4]++;
    cov_v304x8zb0().s[11]++;
    try {
      /* istanbul ignore next */
      cov_v304x8zb0().s[12]++;
      return await this.model.find({
        checkIn: {
          $gte: startDate
        },
        checkOut: {
          $lte: endDate
        }
      }).populate('user destination');
    } catch (error) {
      /* istanbul ignore next */
      cov_v304x8zb0().s[13]++;
      throw error;
    }
  }

  // Find active bookings
  async findActive() {
    /* istanbul ignore next */
    cov_v304x8zb0().f[5]++;
    cov_v304x8zb0().s[14]++;
    try {
      const now =
      /* istanbul ignore next */
      (cov_v304x8zb0().s[15]++, new Date());
      /* istanbul ignore next */
      cov_v304x8zb0().s[16]++;
      return await this.model.find({
        status: {
          $in: ['confirmed', 'pending']
        },
        checkOut: {
          $gte: now
        }
      }).populate('user destination');
    } catch (error) {
      /* istanbul ignore next */
      cov_v304x8zb0().s[17]++;
      throw error;
    }
  }

  // Find bookings by payment status
  async findByPaymentStatus(paymentStatus) {
    /* istanbul ignore next */
    cov_v304x8zb0().f[6]++;
    cov_v304x8zb0().s[18]++;
    try {
      /* istanbul ignore next */
      cov_v304x8zb0().s[19]++;
      return await this.model.find({
        paymentStatus
      }).populate('user destination');
    } catch (error) {
      /* istanbul ignore next */
      cov_v304x8zb0().s[20]++;
      throw error;
    }
  }

  // Get booking statistics
  async getStatistics() {
    /* istanbul ignore next */
    cov_v304x8zb0().f[7]++;
    cov_v304x8zb0().s[21]++;
    try {
      const stats =
      /* istanbul ignore next */
      (cov_v304x8zb0().s[22]++, await this.model.aggregate([{
        $group: {
          _id: '$status',
          count: {
            $sum: 1
          },
          totalRevenue: {
            $sum: '$totalAmount'
          }
        }
      }]));
      /* istanbul ignore next */
      cov_v304x8zb0().s[23]++;
      return stats;
    } catch (error) {
      /* istanbul ignore next */
      cov_v304x8zb0().s[24]++;
      throw error;
    }
  }

  // Find overlapping bookings for a destination
  async findOverlappingBookings(destinationId, checkIn, checkOut, excludeBookingId =
  /* istanbul ignore next */
  (cov_v304x8zb0().b[0][0]++, null)) {
    /* istanbul ignore next */
    cov_v304x8zb0().f[8]++;
    cov_v304x8zb0().s[25]++;
    try {
      const query =
      /* istanbul ignore next */
      (cov_v304x8zb0().s[26]++, {
        destination: destinationId,
        status: {
          $in: ['confirmed', 'pending']
        },
        $or: [{
          checkIn: {
            $lt: checkOut
          },
          checkOut: {
            $gt: checkIn
          }
        }]
      });
      /* istanbul ignore next */
      cov_v304x8zb0().s[27]++;
      if (excludeBookingId) {
        /* istanbul ignore next */
        cov_v304x8zb0().b[1][0]++;
        cov_v304x8zb0().s[28]++;
        query._id = {
          $ne: excludeBookingId
        };
      } else
      /* istanbul ignore next */
      {
        cov_v304x8zb0().b[1][1]++;
      }
      cov_v304x8zb0().s[29]++;
      return await this.model.find(query);
    } catch (error) {
      /* istanbul ignore next */
      cov_v304x8zb0().s[30]++;
      throw error;
    }
  }

  // Update booking status
  async updateStatus(bookingId, status) {
    /* istanbul ignore next */
    cov_v304x8zb0().f[9]++;
    cov_v304x8zb0().s[31]++;
    try {
      /* istanbul ignore next */
      cov_v304x8zb0().s[32]++;
      return await this.model.findByIdAndUpdate(bookingId, {
        $set: {
          status
        }
      }, {
        new: true
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_v304x8zb0().s[33]++;
      throw error;
    }
  }

  // Get revenue by date range
  async getRevenueByDateRange(startDate, endDate) {
    /* istanbul ignore next */
    cov_v304x8zb0().f[10]++;
    cov_v304x8zb0().s[34]++;
    try {
      const result =
      /* istanbul ignore next */
      (cov_v304x8zb0().s[35]++, await this.model.aggregate([{
        $match: {
          createdAt: {
            $gte: startDate,
            $lte: endDate
          },
          status: 'confirmed'
        }
      }, {
        $group: {
          _id: null,
          totalRevenue: {
            $sum: '$totalAmount'
          },
          bookingCount: {
            $sum: 1
          }
        }
      }]));
      /* istanbul ignore next */
      cov_v304x8zb0().s[36]++;
      return /* istanbul ignore next */(cov_v304x8zb0().b[2][0]++, result[0]) ||
      /* istanbul ignore next */
      (cov_v304x8zb0().b[2][1]++, {
        totalRevenue: 0,
        bookingCount: 0
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_v304x8zb0().s[37]++;
      throw error;
    }
  }
}
/* istanbul ignore next */
cov_v304x8zb0().s[38]++;
module.exports = BookingRepository;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfdjMwNHg4emIwIiwiYWN0dWFsQ292ZXJhZ2UiLCJCYXNlUmVwb3NpdG9yeSIsInMiLCJyZXF1aXJlIiwiQm9va2luZ1JlcG9zaXRvcnkiLCJjb25zdHJ1Y3RvciIsIm1vZGVsIiwiZiIsImZpbmRCeVVzZXIiLCJ1c2VySWQiLCJmaW5kIiwidXNlciIsInBvcHVsYXRlIiwiZXJyb3IiLCJmaW5kQnlEZXN0aW5hdGlvbiIsImRlc3RpbmF0aW9uSWQiLCJkZXN0aW5hdGlvbiIsImZpbmRCeVN0YXR1cyIsInN0YXR1cyIsImZpbmRCeURhdGVSYW5nZSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJjaGVja0luIiwiJGd0ZSIsImNoZWNrT3V0IiwiJGx0ZSIsImZpbmRBY3RpdmUiLCJub3ciLCJEYXRlIiwiJGluIiwiZmluZEJ5UGF5bWVudFN0YXR1cyIsInBheW1lbnRTdGF0dXMiLCJnZXRTdGF0aXN0aWNzIiwic3RhdHMiLCJhZ2dyZWdhdGUiLCIkZ3JvdXAiLCJfaWQiLCJjb3VudCIsIiRzdW0iLCJ0b3RhbFJldmVudWUiLCJmaW5kT3ZlcmxhcHBpbmdCb29raW5ncyIsImV4Y2x1ZGVCb29raW5nSWQiLCJiIiwicXVlcnkiLCIkb3IiLCIkbHQiLCIkZ3QiLCIkbmUiLCJ1cGRhdGVTdGF0dXMiLCJib29raW5nSWQiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIiRzZXQiLCJuZXciLCJnZXRSZXZlbnVlQnlEYXRlUmFuZ2UiLCJyZXN1bHQiLCIkbWF0Y2giLCJjcmVhdGVkQXQiLCJib29raW5nQ291bnQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiYm9va2luZy5yZXBvc2l0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEJhc2VSZXBvc2l0b3J5ID0gcmVxdWlyZSgnLi9iYXNlLnJlcG9zaXRvcnknKTtcblxuY2xhc3MgQm9va2luZ1JlcG9zaXRvcnkgZXh0ZW5kcyBCYXNlUmVwb3NpdG9yeSB7XG4gIGNvbnN0cnVjdG9yKG1vZGVsKSB7XG4gICAgc3VwZXIobW9kZWwpO1xuICB9XG5cbiAgLy8gRmluZCBib29raW5ncyBieSB1c2VyXG4gIGFzeW5jIGZpbmRCeVVzZXIodXNlcklkKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1vZGVsLmZpbmQoeyB1c2VyOiB1c2VySWQgfSkucG9wdWxhdGUoJ2Rlc3RpbmF0aW9uJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpbmQgYm9va2luZ3MgYnkgZGVzdGluYXRpb25cbiAgYXN5bmMgZmluZEJ5RGVzdGluYXRpb24oZGVzdGluYXRpb25JZCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb2RlbC5maW5kKHsgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uSWQgfSkucG9wdWxhdGUoJ3VzZXInKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gRmluZCBib29raW5ncyBieSBzdGF0dXNcbiAgYXN5bmMgZmluZEJ5U3RhdHVzKHN0YXR1cykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb2RlbC5maW5kKHsgc3RhdHVzIH0pLnBvcHVsYXRlKCd1c2VyIGRlc3RpbmF0aW9uJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpbmQgYm9va2luZ3MgYnkgZGF0ZSByYW5nZVxuICBhc3luYyBmaW5kQnlEYXRlUmFuZ2Uoc3RhcnREYXRlLCBlbmREYXRlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1vZGVsLmZpbmQoe1xuICAgICAgICBjaGVja0luOiB7ICRndGU6IHN0YXJ0RGF0ZSB9LFxuICAgICAgICBjaGVja091dDogeyAkbHRlOiBlbmREYXRlIH1cbiAgICAgIH0pLnBvcHVsYXRlKCd1c2VyIGRlc3RpbmF0aW9uJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpbmQgYWN0aXZlIGJvb2tpbmdzXG4gIGFzeW5jIGZpbmRBY3RpdmUoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb2RlbC5maW5kKHtcbiAgICAgICAgc3RhdHVzOiB7ICRpbjogWydjb25maXJtZWQnLCAncGVuZGluZyddIH0sXG4gICAgICAgIGNoZWNrT3V0OiB7ICRndGU6IG5vdyB9XG4gICAgICB9KS5wb3B1bGF0ZSgndXNlciBkZXN0aW5hdGlvbicpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBGaW5kIGJvb2tpbmdzIGJ5IHBheW1lbnQgc3RhdHVzXG4gIGFzeW5jIGZpbmRCeVBheW1lbnRTdGF0dXMocGF5bWVudFN0YXR1cykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb2RlbC5maW5kKHsgcGF5bWVudFN0YXR1cyB9KS5wb3B1bGF0ZSgndXNlciBkZXN0aW5hdGlvbicpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgYm9va2luZyBzdGF0aXN0aWNzXG4gIGFzeW5jIGdldFN0YXRpc3RpY3MoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgdGhpcy5tb2RlbC5hZ2dyZWdhdGUoW1xuICAgICAgICB7XG4gICAgICAgICAgJGdyb3VwOiB7XG4gICAgICAgICAgICBfaWQ6ICckc3RhdHVzJyxcbiAgICAgICAgICAgIGNvdW50OiB7ICRzdW06IDEgfSxcbiAgICAgICAgICAgIHRvdGFsUmV2ZW51ZTogeyAkc3VtOiAnJHRvdGFsQW1vdW50JyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdKTtcbiAgICAgIHJldHVybiBzdGF0cztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gRmluZCBvdmVybGFwcGluZyBib29raW5ncyBmb3IgYSBkZXN0aW5hdGlvblxuICBhc3luYyBmaW5kT3ZlcmxhcHBpbmdCb29raW5ncyhkZXN0aW5hdGlvbklkLCBjaGVja0luLCBjaGVja091dCwgZXhjbHVkZUJvb2tpbmdJZCA9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcXVlcnkgPSB7XG4gICAgICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbklkLFxuICAgICAgICBzdGF0dXM6IHsgJGluOiBbJ2NvbmZpcm1lZCcsICdwZW5kaW5nJ10gfSxcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2hlY2tJbjogeyAkbHQ6IGNoZWNrT3V0IH0sXG4gICAgICAgICAgICBjaGVja091dDogeyAkZ3Q6IGNoZWNrSW4gfVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcblxuICAgICAgaWYgKGV4Y2x1ZGVCb29raW5nSWQpIHtcbiAgICAgICAgcXVlcnkuX2lkID0geyAkbmU6IGV4Y2x1ZGVCb29raW5nSWQgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9kZWwuZmluZChxdWVyeSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVwZGF0ZSBib29raW5nIHN0YXR1c1xuICBhc3luYyB1cGRhdGVTdGF0dXMoYm9va2luZ0lkLCBzdGF0dXMpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9kZWwuZmluZEJ5SWRBbmRVcGRhdGUoXG4gICAgICAgIGJvb2tpbmdJZCxcbiAgICAgICAgeyAkc2V0OiB7IHN0YXR1cyB9IH0sXG4gICAgICAgIHsgbmV3OiB0cnVlIH1cbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdldCByZXZlbnVlIGJ5IGRhdGUgcmFuZ2VcbiAgYXN5bmMgZ2V0UmV2ZW51ZUJ5RGF0ZVJhbmdlKHN0YXJ0RGF0ZSwgZW5kRGF0ZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1vZGVsLmFnZ3JlZ2F0ZShbXG4gICAgICAgIHtcbiAgICAgICAgICAkbWF0Y2g6IHtcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogeyAkZ3RlOiBzdGFydERhdGUsICRsdGU6IGVuZERhdGUgfSxcbiAgICAgICAgICAgIHN0YXR1czogJ2NvbmZpcm1lZCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAkZ3JvdXA6IHtcbiAgICAgICAgICAgIF9pZDogbnVsbCxcbiAgICAgICAgICAgIHRvdGFsUmV2ZW51ZTogeyAkc3VtOiAnJHRvdGFsQW1vdW50JyB9LFxuICAgICAgICAgICAgYm9va2luZ0NvdW50OiB7ICRzdW06IDEgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXSk7XG4gICAgICByZXR1cm4gcmVzdWx0WzBdIHx8IHsgdG90YWxSZXZlbnVlOiAwLCBib29raW5nQ291bnQ6IDAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQm9va2luZ1JlcG9zaXRvcnk7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBZVk7SUFBQUEsYUFBQSxZQUFBQSxDQUFBO01BQUEsT0FBQUMsY0FBQTtJQUFBO0VBQUE7RUFBQSxPQUFBQSxjQUFBO0FBQUE7QUFBQUQsYUFBQTtBQWZaLE1BQU1FLGNBQWM7QUFBQTtBQUFBLENBQUFGLGFBQUEsR0FBQUcsQ0FBQSxPQUFHQyxPQUFPLENBQUMsbUJBQW1CLENBQUM7QUFFbkQsTUFBTUMsaUJBQWlCLFNBQVNILGNBQWMsQ0FBQztFQUM3Q0ksV0FBV0EsQ0FBQ0MsS0FBSyxFQUFFO0lBQUE7SUFBQVAsYUFB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SUFDcEMsSUFBSTtNQUFBO01BQUFILGFBQUEsR0FBQUcsQ0FBQTtNQUNGLE9BQU8sTUFBTSxJQUFJLENBQUNJLEtBQUssQ0FBQzRDLGlCQUFpQixDQUN2Q0QsU0FBUyxFQUNUO1FBQUVFLElBQUksRUFBRTtVQUFFakM7UUFBTztNQUFFLENBQUMsRUFDcEI7UUFBRWtDLEdBQUcsRUFBRTtNQUFLLENBQ2QsQ0FBQztJQUNILENBQUMsQ0FBQyxPQUFPdkMsS0FBSyxFQUFFO01BQUE7TUFBQWQsYUFBQSxHQUFBRyxDQUFBO01BQ2QsTUFBTVcsS0FBSztJQUNiO0VBQ0Y7O0VBRUE7RUFDQSxNQUFNd0MscUJBQXFCQSxDQUFDakMsU0FBUyxFQUFFQyxPQUFPLEVBQUU7SUFBQTtJQUFBdEIsYUFBQSxHQUFBUSxDQUFBO0lBQUFSLGFBQUEsR0FBQUcsQ0FBQTtJQUM5QyxJQUFJO01BQ0YsTUFBTW9ELE1BQU07TUFBQTtNQUFBLENBQUF2RCxhQUFBLEdBQUFHLENBQUEsUUFBRyxNQUFNLElBQUksQ0FBQ0ksS0FBSyxDQUFDNEIsU0FBUyxDQUFDLENBQ3hDO1FBQ0VxQixNQUFNLEVBQUU7VUFDTkMsU0FBUyxFQUFFO1lBQUVqQyxJQUFJLEVBQUVILFNBQVM7WUFBRUssSUFBSSxFQUFFSjtVQUFRLENBQUM7VUFDN0NILE1BQU0sRUFBRTtRQUNWO01BQ0YsQ0FBQyxFQUNEO1FBQ0VpQixNQUFNLEVBQUU7VUFDTkMsR0FBRyxFQUFFLElBQUk7VUFDVEcsWUFBWSxFQUFFO1lBQUVELElBQUksRUFBRTtVQUFlLENBQUM7VUFDdENtQixZQUFZLEVBQUU7WUFBRW5CLElBQUksRUFBRTtVQUFFO1FBQzFCO01BQ0YsQ0FBQyxDQUNGLENBQUM7TUFBQztNQUFBdkMsYUFBQSxHQUFBRyxDQUFBO01BQ0gsT0FBTywyQkFBQUgsYUFBQSxHQUFBMkMsQ0FBQSxVQUFBWSxNQUFNLENBQUMsQ0FBQyxDQUFDO01BQUE7TUFBQSxDQUFBdkQsYUFBQSxHQUFBMkMsQ0FBQSxVQUFJO1FBQUVILFlBQVksRUFBRSxDQUFDO1FBQUVrQixZQUFZLEVBQUU7TUFBRSxDQUFDO0lBQzFELENBQUMsQ0FBQyxPQUFPNUMsS0FBSyxFQUFFO01BQUE7TUFBQWQsYUFBQSxHQUFBRyxDQUFBO01BQ2QsTUFBTVcsS0FBSztJQUNiO0VBQ0Y7QUFDRjtBQUFDO0FBQUFkLGFBQUEsR0FBQUcsQ0FBQTtBQUVEd0QsTUFBTSxDQUFDQyxPQUFPLEdBQUd2RCxpQkFBaUIiLCJpZ25vcmVMaXN0IjpbXX0=