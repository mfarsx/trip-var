b4cb74c146f57f48f0e472c0379aec5f
// Mock external services before importing routes
_getJestObj().mock('../config/redis', () => ({
  connectRedis: jest.fn().mockResolvedValue(),
  disconnectRedis: jest.fn().mockResolvedValue(),
  getRedisClient: jest.fn(() => ({
    get: jest.fn().mockResolvedValue(null),
    set: jest.fn().mockResolvedValue('OK'),
    del: jest.fn().mockResolvedValue(1),
    exists: jest.fn().mockResolvedValue(0),
    expire: jest.fn().mockResolvedValue(1),
    flushall: jest.fn().mockResolvedValue('OK'),
    ping: jest.fn().mockResolvedValue('PONG'),
    quit: jest.fn().mockResolvedValue('OK'),
    status: 'ready'
  })),
  redisUtils: {
    deleteCache: jest.fn().mockResolvedValue(true),
    getCache: jest.fn().mockResolvedValue(null),
    setCache: jest.fn().mockResolvedValue('OK'),
    exists: jest.fn().mockResolvedValue(false),
    expire: jest.fn().mockResolvedValue(true),
    flushall: jest.fn().mockResolvedValue('OK')
  }
}));

// Mock security config with relaxed rate limiting for tests
_getJestObj().mock('../config/security', () => ({
  securityConfig: {
    authLimiter: (req, res, next) => next(),
    // Skip rate limiting in tests
    generalLimiter: (req, res, next) => next() // Skip rate limiting in tests
  },
  validationRules: {
    destinationTitle: Object.assign((req, res, next) => next(), {
      optional: () => (req, res, next) => next()
    }),
    destinationDescription: Object.assign((req, res, next) => next(), {
      optional: () => (req, res, next) => next()
    }),
    destinationImageUrl: Object.assign((req, res, next) => next(), {
      optional: () => (req, res, next) => next()
    }),
    destinationRating: Object.assign((req, res, next) => next(), {
      optional: () => (req, res, next) => next()
    }),
    destinationPrice: Object.assign((req, res, next) => next(), {
      optional: () => (req, res, next) => next()
    }),
    destinationLocation: Object.assign((req, res, next) => next(), {
      optional: () => (req, res, next) => next()
    }),
    destinationCategory: Object.assign((req, res, next) => next(), {
      optional: () => (req, res, next) => next()
    })
  },
  validateRequest: (req, res, next) => next()
}));

// Import routes
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
// Test-specific app configuration that doesn't connect to external services
const express = require('express');
const cors = require('cors');
const helmet = require('helmet');
const compression = require('compression');
const rateLimit = require('express-rate-limit');
const slowDown = require('express-slow-down');
const authRoutes = require('../routes/auth.routes');
const destinationRoutes = require('../routes/destination.routes');
const bookingRoutes = require('../routes/booking.routes');
const healthRoutes = require('../routes/health.routes');

// Import middleware
const errorHandler = require('../middleware/errorHandler');

// Create Express app
const app = express();

// Security middleware
app.use(helmet({
  contentSecurityPolicy: false,
  // Disable for testing
  crossOriginEmbedderPolicy: false
}));

// CORS configuration
app.use(cors({
  origin: process.env.ALLOWED_ORIGINS?.split(',') || ['http://localhost:3000', 'http://localhost:5173'],
  credentials: true
}));

// Compression middleware
app.use(compression());

// Rate limiting (relaxed for testing)
const limiter = rateLimit({
  windowMs: 15 * 60 * 1000,
  // 15 minutes
  max: 1000,
  // limit each IP to 1000 requests per windowMs (increased for testing)
  message: 'Too many requests from this IP, please try again later.'
});
app.use('/api/', limiter);

// Speed limiting (relaxed for testing)
const speedLimiter = slowDown({
  windowMs: 15 * 60 * 1000,
  // 15 minutes
  delayAfter: 500,
  // allow 500 requests per 15 minutes, then... (increased for testing)
  delayMs: () => 100,
  // begin adding 100ms of delay per request above 500 (reduced for testing)
  validate: {
    delayMs: false
  } // Disable validation warning
});
app.use('/api/', speedLimiter);

// Body parsing middleware
app.use(express.json({
  limit: '10mb'
}));
app.use(express.urlencoded({
  extended: true,
  limit: '10mb'
}));

// Request validation middleware (disabled for tests)
// app.use(validateRequest);

// Routes
app.use('/api/v1/auth', authRoutes);
app.use('/api/v1/destinations', destinationRoutes);
app.use('/api/v1/bookings', bookingRoutes);
app.use('/health', healthRoutes);

// 404 handler for undefined routes
app.use('*', (req, res, next) => {
  const error = new Error(`Route ${req.originalUrl} not found`);
  error.statusCode = 404;
  error.status = 'fail';
  error.code = 'ROUTE_NOT_FOUND';
  error.isOperational = true;
  next(error);
});

// Error handling middleware (must be last)
app.use(errorHandler);
module.exports = app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJjb25uZWN0UmVkaXMiLCJqZXN0IiwiZm4iLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImRpc2Nvbm5lY3RSZWRpcyIsImdldFJlZGlzQ2xpZW50IiwiZ2V0Iiwic2V0IiwiZGVsIiwiZXhpc3RzIiwiZXhwaXJlIiwiZmx1c2hhbGwiLCJwaW5nIiwicXVpdCIsInN0YXR1cyIsInJlZGlzVXRpbHMiLCJkZWxldGVDYWNoZSIsImdldENhY2hlIiwic2V0Q2FjaGUiLCJzZWN1cml0eUNvbmZpZyIsImF1dGhMaW1pdGVyIiwicmVxIiwicmVzIiwibmV4dCIsImdlbmVyYWxMaW1pdGVyIiwidmFsaWRhdGlvblJ1bGVzIiwiZGVzdGluYXRpb25UaXRsZSIsIk9iamVjdCIsImFzc2lnbiIsIm9wdGlvbmFsIiwiZGVzdGluYXRpb25EZXNjcmlwdGlvbiIsImRlc3RpbmF0aW9uSW1hZ2VVcmwiLCJkZXN0aW5hdGlvblJhdGluZyIsImRlc3RpbmF0aW9uUHJpY2UiLCJkZXN0aW5hdGlvbkxvY2F0aW9uIiwiZGVzdGluYXRpb25DYXRlZ29yeSIsInZhbGlkYXRlUmVxdWVzdCIsInJlcXVpcmUiLCJleHByZXNzIiwiY29ycyIsImhlbG1ldCIsImNvbXByZXNzaW9uIiwicmF0ZUxpbWl0Iiwic2xvd0Rvd24iLCJhdXRoUm91dGVzIiwiZGVzdGluYXRpb25Sb3V0ZXMiLCJib29raW5nUm91dGVzIiwiaGVhbHRoUm91dGVzIiwiZXJyb3JIYW5kbGVyIiwiYXBwIiwidXNlIiwiY29udGVudFNlY3VyaXR5UG9saWN5IiwiY3Jvc3NPcmlnaW5FbWJlZGRlclBvbGljeSIsIm9yaWdpbiIsInByb2Nlc3MiLCJlbnYiLCJBTExPV0VEX09SSUdJTlMiLCJzcGxpdCIsImNyZWRlbnRpYWxzIiwibGltaXRlciIsIndpbmRvd01zIiwibWF4IiwibWVzc2FnZSIsInNwZWVkTGltaXRlciIsImRlbGF5QWZ0ZXIiLCJkZWxheU1zIiwidmFsaWRhdGUiLCJqc29uIiwibGltaXQiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJlcnJvciIsIkVycm9yIiwib3JpZ2luYWxVcmwiLCJzdGF0dXNDb2RlIiwiY29kZSIsImlzT3BlcmF0aW9uYWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiYXBwLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGVzdC1zcGVjaWZpYyBhcHAgY29uZmlndXJhdGlvbiB0aGF0IGRvZXNuJ3QgY29ubmVjdCB0byBleHRlcm5hbCBzZXJ2aWNlc1xuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IGNvcnMgPSByZXF1aXJlKCdjb3JzJyk7XG5jb25zdCBoZWxtZXQgPSByZXF1aXJlKCdoZWxtZXQnKTtcbmNvbnN0IGNvbXByZXNzaW9uID0gcmVxdWlyZSgnY29tcHJlc3Npb24nKTtcbmNvbnN0IHJhdGVMaW1pdCA9IHJlcXVpcmUoJ2V4cHJlc3MtcmF0ZS1saW1pdCcpO1xuY29uc3Qgc2xvd0Rvd24gPSByZXF1aXJlKCdleHByZXNzLXNsb3ctZG93bicpO1xuXG4vLyBNb2NrIGV4dGVybmFsIHNlcnZpY2VzIGJlZm9yZSBpbXBvcnRpbmcgcm91dGVzXG5qZXN0Lm1vY2soJy4uL2NvbmZpZy9yZWRpcycsICgpID0+ICh7XG4gIGNvbm5lY3RSZWRpczogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKCksXG4gIGRpc2Nvbm5lY3RSZWRpczogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKCksXG4gIGdldFJlZGlzQ2xpZW50OiBqZXN0LmZuKCgpID0+ICh7XG4gICAgZ2V0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUobnVsbCksXG4gICAgc2V0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoJ09LJyksXG4gICAgZGVsOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoMSksXG4gICAgZXhpc3RzOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoMCksXG4gICAgZXhwaXJlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoMSksXG4gICAgZmx1c2hhbGw6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgnT0snKSxcbiAgICBwaW5nOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoJ1BPTkcnKSxcbiAgICBxdWl0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoJ09LJyksXG4gICAgc3RhdHVzOiAncmVhZHknXG4gIH0pKSxcbiAgcmVkaXNVdGlsczoge1xuICAgIGRlbGV0ZUNhY2hlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodHJ1ZSksXG4gICAgZ2V0Q2FjaGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKSxcbiAgICBzZXRDYWNoZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKCdPSycpLFxuICAgIGV4aXN0czogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKGZhbHNlKSxcbiAgICBleHBpcmU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh0cnVlKSxcbiAgICBmbHVzaGFsbDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKCdPSycpXG4gIH1cbn0pKTtcblxuLy8gTW9jayBzZWN1cml0eSBjb25maWcgd2l0aCByZWxheGVkIHJhdGUgbGltaXRpbmcgZm9yIHRlc3RzXG5qZXN0Lm1vY2soJy4uL2NvbmZpZy9zZWN1cml0eScsICgpID0+ICh7XG4gIHNlY3VyaXR5Q29uZmlnOiB7XG4gICAgYXV0aExpbWl0ZXI6IChyZXEsIHJlcywgbmV4dCkgPT4gbmV4dCgpLCAvLyBTa2lwIHJhdGUgbGltaXRpbmcgaW4gdGVzdHNcbiAgICBnZW5lcmFsTGltaXRlcjogKHJlcSwgcmVzLCBuZXh0KSA9PiBuZXh0KCkgLy8gU2tpcCByYXRlIGxpbWl0aW5nIGluIHRlc3RzXG4gIH0sXG4gIHZhbGlkYXRpb25SdWxlczoge1xuICAgIGRlc3RpbmF0aW9uVGl0bGU6IE9iamVjdC5hc3NpZ24oKHJlcSwgcmVzLCBuZXh0KSA9PiBuZXh0KCksIHsgb3B0aW9uYWw6ICgpID0+IChyZXEsIHJlcywgbmV4dCkgPT4gbmV4dCgpIH0pLFxuICAgIGRlc3RpbmF0aW9uRGVzY3JpcHRpb246IE9iamVjdC5hc3NpZ24oKHJlcSwgcmVzLCBuZXh0KSA9PiBuZXh0KCksIHsgb3B0aW9uYWw6ICgpID0+IChyZXEsIHJlcywgbmV4dCkgPT4gbmV4dCgpIH0pLFxuICAgIGRlc3RpbmF0aW9uSW1hZ2VVcmw6IE9iamVjdC5hc3NpZ24oKHJlcSwgcmVzLCBuZXh0KSA9PiBuZXh0KCksIHsgb3B0aW9uYWw6ICgpID0+IChyZXEsIHJlcywgbmV4dCkgPT4gbmV4dCgpIH0pLFxuICAgIGRlc3RpbmF0aW9uUmF0aW5nOiBPYmplY3QuYXNzaWduKChyZXEsIHJlcywgbmV4dCkgPT4gbmV4dCgpLCB7IG9wdGlvbmFsOiAoKSA9PiAocmVxLCByZXMsIG5leHQpID0+IG5leHQoKSB9KSxcbiAgICBkZXN0aW5hdGlvblByaWNlOiBPYmplY3QuYXNzaWduKChyZXEsIHJlcywgbmV4dCkgPT4gbmV4dCgpLCB7IG9wdGlvbmFsOiAoKSA9PiAocmVxLCByZXMsIG5leHQpID0+IG5leHQoKSB9KSxcbiAgICBkZXN0aW5hdGlvbkxvY2F0aW9uOiBPYmplY3QuYXNzaWduKChyZXEsIHJlcywgbmV4dCkgPT4gbmV4dCgpLCB7IG9wdGlvbmFsOiAoKSA9PiAocmVxLCByZXMsIG5leHQpID0+IG5leHQoKSB9KSxcbiAgICBkZXN0aW5hdGlvbkNhdGVnb3J5OiBPYmplY3QuYXNzaWduKChyZXEsIHJlcywgbmV4dCkgPT4gbmV4dCgpLCB7IG9wdGlvbmFsOiAoKSA9PiAocmVxLCByZXMsIG5leHQpID0+IG5leHQoKSB9KVxuICB9LFxuICB2YWxpZGF0ZVJlcXVlc3Q6IChyZXEsIHJlcywgbmV4dCkgPT4gbmV4dCgpXG59KSk7XG5cbi8vIEltcG9ydCByb3V0ZXNcbmNvbnN0IGF1dGhSb3V0ZXMgPSByZXF1aXJlKCcuLi9yb3V0ZXMvYXV0aC5yb3V0ZXMnKTtcbmNvbnN0IGRlc3RpbmF0aW9uUm91dGVzID0gcmVxdWlyZSgnLi4vcm91dGVzL2Rlc3RpbmF0aW9uLnJvdXRlcycpO1xuY29uc3QgYm9va2luZ1JvdXRlcyA9IHJlcXVpcmUoJy4uL3JvdXRlcy9ib29raW5nLnJvdXRlcycpO1xuY29uc3QgaGVhbHRoUm91dGVzID0gcmVxdWlyZSgnLi4vcm91dGVzL2hlYWx0aC5yb3V0ZXMnKTtcblxuLy8gSW1wb3J0IG1pZGRsZXdhcmVcbmNvbnN0IGVycm9ySGFuZGxlciA9IHJlcXVpcmUoJy4uL21pZGRsZXdhcmUvZXJyb3JIYW5kbGVyJyk7XG5cbi8vIENyZWF0ZSBFeHByZXNzIGFwcFxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG4vLyBTZWN1cml0eSBtaWRkbGV3YXJlXG5hcHAudXNlKGhlbG1ldCh7XG4gIGNvbnRlbnRTZWN1cml0eVBvbGljeTogZmFsc2UsIC8vIERpc2FibGUgZm9yIHRlc3RpbmdcbiAgY3Jvc3NPcmlnaW5FbWJlZGRlclBvbGljeTogZmFsc2Vcbn0pKTtcblxuLy8gQ09SUyBjb25maWd1cmF0aW9uXG5hcHAudXNlKGNvcnMoe1xuICBvcmlnaW46IHByb2Nlc3MuZW52LkFMTE9XRURfT1JJR0lOUz8uc3BsaXQoJywnKSB8fCBbJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsICdodHRwOi8vbG9jYWxob3N0OjUxNzMnXSxcbiAgY3JlZGVudGlhbHM6IHRydWVcbn0pKTtcblxuLy8gQ29tcHJlc3Npb24gbWlkZGxld2FyZVxuYXBwLnVzZShjb21wcmVzc2lvbigpKTtcblxuLy8gUmF0ZSBsaW1pdGluZyAocmVsYXhlZCBmb3IgdGVzdGluZylcbmNvbnN0IGxpbWl0ZXIgPSByYXRlTGltaXQoe1xuICB3aW5kb3dNczogMTUgKiA2MCAqIDEwMDAsIC8vIDE1IG1pbnV0ZXNcbiAgbWF4OiAxMDAwLCAvLyBsaW1pdCBlYWNoIElQIHRvIDEwMDAgcmVxdWVzdHMgcGVyIHdpbmRvd01zIChpbmNyZWFzZWQgZm9yIHRlc3RpbmcpXG4gIG1lc3NhZ2U6ICdUb28gbWFueSByZXF1ZXN0cyBmcm9tIHRoaXMgSVAsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJ1xufSk7XG5hcHAudXNlKCcvYXBpLycsIGxpbWl0ZXIpO1xuXG4vLyBTcGVlZCBsaW1pdGluZyAocmVsYXhlZCBmb3IgdGVzdGluZylcbmNvbnN0IHNwZWVkTGltaXRlciA9IHNsb3dEb3duKHtcbiAgd2luZG93TXM6IDE1ICogNjAgKiAxMDAwLCAvLyAxNSBtaW51dGVzXG4gIGRlbGF5QWZ0ZXI6IDUwMCwgLy8gYWxsb3cgNTAwIHJlcXVlc3RzIHBlciAxNSBtaW51dGVzLCB0aGVuLi4uIChpbmNyZWFzZWQgZm9yIHRlc3RpbmcpXG4gIGRlbGF5TXM6ICgpID0+IDEwMCwgLy8gYmVnaW4gYWRkaW5nIDEwMG1zIG9mIGRlbGF5IHBlciByZXF1ZXN0IGFib3ZlIDUwMCAocmVkdWNlZCBmb3IgdGVzdGluZylcbiAgdmFsaWRhdGU6IHsgZGVsYXlNczogZmFsc2UgfSAvLyBEaXNhYmxlIHZhbGlkYXRpb24gd2FybmluZ1xufSk7XG5hcHAudXNlKCcvYXBpLycsIHNwZWVkTGltaXRlcik7XG5cbi8vIEJvZHkgcGFyc2luZyBtaWRkbGV3YXJlXG5hcHAudXNlKGV4cHJlc3MuanNvbih7IGxpbWl0OiAnMTBtYicgfSkpO1xuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSwgbGltaXQ6ICcxMG1iJyB9KSk7XG5cblxuXG4vLyBSZXF1ZXN0IHZhbGlkYXRpb24gbWlkZGxld2FyZSAoZGlzYWJsZWQgZm9yIHRlc3RzKVxuLy8gYXBwLnVzZSh2YWxpZGF0ZVJlcXVlc3QpO1xuXG4vLyBSb3V0ZXNcbmFwcC51c2UoJy9hcGkvdjEvYXV0aCcsIGF1dGhSb3V0ZXMpO1xuYXBwLnVzZSgnL2FwaS92MS9kZXN0aW5hdGlvbnMnLCBkZXN0aW5hdGlvblJvdXRlcyk7XG5hcHAudXNlKCcvYXBpL3YxL2Jvb2tpbmdzJywgYm9va2luZ1JvdXRlcyk7XG5hcHAudXNlKCcvaGVhbHRoJywgaGVhbHRoUm91dGVzKTtcblxuLy8gNDA0IGhhbmRsZXIgZm9yIHVuZGVmaW5lZCByb3V0ZXNcbmFwcC51c2UoJyonLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYFJvdXRlICR7cmVxLm9yaWdpbmFsVXJsfSBub3QgZm91bmRgKTtcbiAgZXJyb3Iuc3RhdHVzQ29kZSA9IDQwNDtcbiAgZXJyb3Iuc3RhdHVzID0gJ2ZhaWwnO1xuICBlcnJvci5jb2RlID0gJ1JPVVRFX05PVF9GT1VORCc7XG4gIGVycm9yLmlzT3BlcmF0aW9uYWwgPSB0cnVlO1xuICBuZXh0KGVycm9yKTtcbn0pO1xuXG4vLyBFcnJvciBoYW5kbGluZyBtaWRkbGV3YXJlIChtdXN0IGJlIGxhc3QpXG5hcHAudXNlKGVycm9ySGFuZGxlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gYXBwOyJdLCJtYXBwaW5ncyI6IkFBUUE7QUFDQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsT0FBTztFQUNsQ0MsWUFBWSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGlCQUFpQixDQUFDLENBQUM7RUFDM0NDLGVBQWUsRUFBRUgsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxpQkFBaUIsQ0FBQyxDQUFDO0VBQzlDRSxjQUFjLEVBQUVKLElBQUksQ0FBQ0MsRUFBRSxDQUFDLE9BQU87SUFDN0JJLEdBQUcsRUFBRUwsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7SUFDdENJLEdBQUcsRUFBRU4sSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7SUFDdENLLEdBQUcsRUFBRVAsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7SUFDbkNNLE1BQU0sRUFBRVIsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxpQkFBaUIsQ0FBQyxD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