57e7d4a131597163f31bd89b796bac34
/* istanbul ignore next */
function cov_2lakdhu9ep() {
  var path = "/Users/mfarsx/dev/tripvar/tripvar-server/src/services/notification.service.js";
  var hash = "574ec559aa6ad984cd66b57a7d82732464ead813";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/mfarsx/dev/tripvar/tripvar-server/src/services/notification.service.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 21
        },
        end: {
          line: 1,
          column: 67
        }
      },
      "1": {
        start: {
          line: 2,
          column: 37
        },
        end: {
          line: 2,
          column: 86
        }
      },
      "2": {
        start: {
          line: 3,
          column: 24
        },
        end: {
          line: 3,
          column: 50
        }
      },
      "3": {
        start: {
          line: 13,
          column: 4
        },
        end: {
          line: 42,
          column: 5
        }
      },
      "4": {
        start: {
          line: 14,
          column: 27
        },
        end: {
          line: 26,
          column: 7
        }
      },
      "5": {
        start: {
          line: 28,
          column: 6
        },
        end: {
          line: 32,
          column: 9
        }
      },
      "6": {
        start: {
          line: 34,
          column: 6
        },
        end: {
          line: 34,
          column: 26
        }
      },
      "7": {
        start: {
          line: 36,
          column: 6
        },
        end: {
          line: 40,
          column: 9
        }
      },
      "8": {
        start: {
          line: 41,
          column: 6
        },
        end: {
          line: 41,
          column: 16
        }
      },
      "9": {
        start: {
          line: 53,
          column: 4
        },
        end: {
          line: 83,
          column: 5
        }
      },
      "10": {
        start: {
          line: 54,
          column: 27
        },
        end: {
          line: 66,
          column: 7
        }
      },
      "11": {
        start: {
          line: 68,
          column: 6
        },
        end: {
          line: 73,
          column: 9
        }
      },
      "12": {
        start: {
          line: 75,
          column: 6
        },
        end: {
          line: 75,
          column: 26
        }
      },
      "13": {
        start: {
          line: 77,
          column: 6
        },
        end: {
          line: 81,
          column: 9
        }
      },
      "14": {
        start: {
          line: 82,
          column: 6
        },
        end: {
          line: 82,
          column: 16
        }
      },
      "15": {
        start: {
          line: 94,
          column: 4
        },
        end: {
          line: 128,
          column: 5
        }
      },
      "16": {
        start: {
          line: 95,
          column: 28
        },
        end: {
          line: 97,
          column: 57
        }
      },
      "17": {
        start: {
          line: 99,
          column: 27
        },
        end: {
          line: 111,
          column: 7
        }
      },
      "18": {
        start: {
          line: 113,
          column: 6
        },
        end: {
          line: 118,
          column: 9
        }
      },
      "19": {
        start: {
          line: 120,
          column: 6
        },
        end: {
          line: 120,
          column: 26
        }
      },
      "20": {
        start: {
          line: 122,
          column: 6
        },
        end: {
          line: 126,
          column: 9
        }
      },
      "21": {
        start: {
          line: 127,
          column: 6
        },
        end: {
          line: 127,
          column: 16
        }
      },
      "22": {
        start: {
          line: 138,
          column: 4
        },
        end: {
          line: 168,
          column: 5
        }
      },
      "23": {
        start: {
          line: 139,
          column: 27
        },
        end: {
          line: 152,
          column: 7
        }
      },
      "24": {
        start: {
          line: 154,
          column: 6
        },
        end: {
          line: 158,
          column: 9
        }
      },
      "25": {
        start: {
          line: 160,
          column: 6
        },
        end: {
          line: 160,
          column: 26
        }
      },
      "26": {
        start: {
          line: 162,
          column: 6
        },
        end: {
          line: 166,
          column: 9
        }
      },
      "27": {
        start: {
          line: 167,
          column: 6
        },
        end: {
          line: 167,
          column: 16
        }
      },
      "28": {
        start: {
          line: 179,
          column: 4
        },
        end: {
          line: 210,
          column: 5
        }
      },
      "29": {
        start: {
          line: 180,
          column: 28
        },
        end: {
          line: 195,
          column: 7
        }
      },
      "30": {
        start: {
          line: 182,
          column: 10
        },
        end: {
          line: 193,
          column: 12
        }
      },
      "31": {
        start: {
          line: 197,
          column: 6
        },
        end: {
          line: 201,
          column: 9
        }
      },
      "32": {
        start: {
          line: 203,
          column: 6
        },
        end: {
          line: 203,
          column: 27
        }
      },
      "33": {
        start: {
          line: 205,
          column: 6
        },
        end: {
          line: 208,
          column: 9
        }
      },
      "34": {
        start: {
          line: 209,
          column: 6
        },
        end: {
          line: 209,
          column: 16
        }
      },
      "35": {
        start: {
          line: 220,
          column: 4
        },
        end: {
          line: 250,
          column: 5
        }
      },
      "36": {
        start: {
          line: 221,
          column: 28
        },
        end: {
          line: 236,
          column: 7
        }
      },
      "37": {
        start: {
          line: 223,
          column: 10
        },
        end: {
          line: 234,
          column: 12
        }
      },
      "38": {
        start: {
          line: 238,
          column: 6
        },
        end: {
          line: 241,
          column: 9
        }
      },
      "39": {
        start: {
          line: 243,
          column: 6
        },
        end: {
          line: 243,
          column: 27
        }
      },
      "40": {
        start: {
          line: 245,
          column: 6
        },
        end: {
          line: 248,
          column: 9
        }
      },
      "41": {
        start: {
          line: 249,
          column: 6
        },
        end: {
          line: 249,
          column: 16
        }
      },
      "42": {
        start: {
          line: 262,
          column: 4
        },
        end: {
          line: 292,
          column: 5
        }
      },
      "43": {
        start: {
          line: 263,
          column: 28
        },
        end: {
          line: 278,
          column: 7
        }
      },
      "44": {
        start: {
          line: 265,
          column: 10
        },
        end: {
          line: 276,
          column: 12
        }
      },
      "45": {
        start: {
          line: 280,
          column: 6
        },
        end: {
          line: 283,
          column: 9
        }
      },
      "46": {
        start: {
          line: 285,
          column: 6
        },
        end: {
          line: 285,
          column: 27
        }
      },
      "47": {
        start: {
          line: 287,
          column: 6
        },
        end: {
          line: 290,
          column: 9
        }
      },
      "48": {
        start: {
          line: 291,
          column: 6
        },
        end: {
          line: 291,
          column: 16
        }
      },
      "49": {
        start: {
          line: 300,
          column: 4
        },
        end: {
          line: 313,
          column: 5
        }
      },
      "50": {
        start: {
          line: 301,
          column: 21
        },
        end: {
          line: 301,
          column: 56
        }
      },
      "51": {
        start: {
          line: 303,
          column: 6
        },
        end: {
          line: 305,
          column: 9
        }
      },
      "52": {
        start: {
          line: 307,
          column: 6
        },
        end: {
          line: 307,
          column: 33
        }
      },
      "53": {
        start: {
          line: 309,
          column: 6
        },
        end: {
          line: 311,
          column: 9
        }
      },
      "54": {
        start: {
          line: 312,
          column: 6
        },
        end: {
          line: 312,
          column: 16
        }
      },
      "55": {
        start: {
          line: 322,
          column: 4
        },
        end: {
          line: 390,
          column: 5
        }
      },
      "56": {
        start: {
          line: 323,
          column: 20
        },
        end: {
          line: 346,
          column: 8
        }
      },
      "57": {
        start: {
          line: 348,
          column: 30
        },
        end: {
          line: 353,
          column: 7
        }
      },
      "58": {
        start: {
          line: 355,
          column: 6
        },
        end: {
          line: 381,
          column: 7
        }
      },
      "59": {
        start: {
          line: 356,
          column: 21
        },
        end: {
          line: 356,
          column: 29
        }
      },
      "60": {
        start: {
          line: 357,
          column: 8
        },
        end: {
          line: 357,
          column: 45
        }
      },
      "61": {
        start: {
          line: 358,
          column: 8
        },
        end: {
          line: 358,
          column: 47
        }
      },
      "62": {
        start: {
          line: 361,
          column: 8
        },
        end: {
          line: 369,
          column: 11
        }
      },
      "63": {
        start: {
          line: 362,
          column: 10
        },
        end: {
          line: 364,
          column: 11
        }
      },
      "64": {
        start: {
          line: 363,
          column: 12
        },
        end: {
          line: 363,
          column: 74
        }
      },
      "65": {
        start: {
          line: 365,
          column: 10
        },
        end: {
          line: 365,
          column: 54
        }
      },
      "66": {
        start: {
          line: 366,
          column: 10
        },
        end: {
          line: 368,
          column: 11
        }
      },
      "67": {
        start: {
          line: 367,
          column: 12
        },
        end: {
          line: 367,
          column: 57
        }
      },
      "68": {
        start: {
          line: 372,
          column: 8
        },
        end: {
          line: 380,
          column: 11
        }
      },
      "69": {
        start: {
          line: 373,
          column: 10
        },
        end: {
          line: 375,
          column: 11
        }
      },
      "70": {
        start: {
          line: 374,
          column: 12
        },
        end: {
          line: 374,
          column: 82
        }
      },
      "71": {
        start: {
          line: 376,
          column: 10
        },
        end: {
          line: 376,
          column: 62
        }
      },
      "72": {
        start: {
          line: 377,
          column: 10
        },
        end: {
          line: 379,
          column: 11
        }
      },
      "73": {
        start: {
          line: 378,
          column: 12
        },
        end: {
          line: 378,
          column: 65
        }
      },
      "74": {
        start: {
          line: 383,
          column: 6
        },
        end: {
          line: 383,
          column: 31
        }
      },
      "75": {
        start: {
          line: 385,
          column: 6
        },
        end: {
          line: 388,
          column: 9
        }
      },
      "76": {
        start: {
          line: 389,
          column: 6
        },
        end: {
          line: 389,
          column: 16
        }
      },
      "77": {
        start: {
          line: 394,
          column: 0
        },
        end: {
          line: 394,
          column: 37
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 12,
            column: 2
          },
          end: {
            line: 12,
            column: 3
          }
        },
        loc: {
          start: {
            line: 12,
            column: 70
          },
          end: {
            line: 43,
            column: 3
          }
        },
        line: 12
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 52,
            column: 2
          },
          end: {
            line: 52,
            column: 3
          }
        },
        loc: {
          start: {
            line: 52,
            column: 84
          },
          end: {
            line: 84,
            column: 3
          }
        },
        line: 52
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 93,
            column: 2
          },
          end: {
            line: 93,
            column: 3
          }
        },
        loc: {
          start: {
            line: 93,
            column: 84
          },
          end: {
            line: 129,
            column: 3
          }
        },
        line: 93
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 137,
            column: 2
          },
          end: {
            line: 137,
            column: 3
          }
        },
        loc: {
          start: {
            line: 137,
            column: 64
          },
          end: {
            line: 169,
            column: 3
          }
        },
        line: 137
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 178,
            column: 2
          },
          end: {
            line: 178,
            column: 3
          }
        },
        loc: {
          start: {
            line: 178,
            column: 85
          },
          end: {
            line: 211,
            column: 3
          }
        },
        line: 178
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 181,
            column: 20
          },
          end: {
            line: 181,
            column: 21
          }
        },
        loc: {
          start: {
            line: 181,
            column: 37
          },
          end: {
            line: 194,
            column: 9
          }
        },
        line: 181
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 219,
            column: 2
          },
          end: {
            line: 219,
            column: 3
          }
        },
        loc: {
          start: {
            line: 219,
            column: 63
          },
          end: {
            line: 251,
            column: 3
          }
        },
        line: 219
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 222,
            column: 20
          },
          end: {
            line: 222,
            column: 21
          }
        },
        loc: {
          start: {
            line: 222,
            column: 37
          },
          end: {
            line: 235,
            column: 9
          }
        },
        line: 222
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 261,
            column: 2
          },
          end: {
            line: 261,
            column: 3
          }
        },
        loc: {
          start: {
            line: 261,
            column: 79
          },
          end: {
            line: 293,
            column: 3
          }
        },
        line: 261
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 264,
            column: 20
          },
          end: {
            line: 264,
            column: 21
          }
        },
        loc: {
          start: {
            line: 264,
            column: 37
          },
          end: {
            line: 277,
            column: 9
          }
        },
        line: 264
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 299,
            column: 2
          },
          end: {
            line: 299,
            column: 3
          }
        },
        loc: {
          start: {
            line: 299,
            column: 45
          },
          end: {
            line: 314,
            column: 3
          }
        },
        line: 299
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 321,
            column: 2
          },
          end: {
            line: 321,
            column: 3
          }
        },
        loc: {
          start: {
            line: 321,
            column: 48
          },
          end: {
            line: 391,
            column: 3
          }
        },
        line: 321
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 361,
            column: 28
          },
          end: {
            line: 361,
            column: 29
          }
        },
        loc: {
          start: {
            line: 361,
            column: 36
          },
          end: {
            line: 369,
            column: 9
          }
        },
        line: 361
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 372,
            column: 32
          },
          end: {
            line: 372,
            column: 33
          }
        },
        loc: {
          start: {
            line: 372,
            column: 40
          },
          end: {
            line: 380,
            column: 9
          }
        },
        line: 372
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 57,
            column: 54
          },
          end: {
            line: 57,
            column: 85
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 57,
            column: 77
          },
          end: {
            line: 57,
            column: 80
          }
        }, {
          start: {
            line: 57,
            column: 83
          },
          end: {
            line: 57,
            column: 85
          }
        }],
        line: 57
      },
      "1": {
        loc: {
          start: {
            line: 58,
            column: 100
          },
          end: {
            line: 58,
            column: 131
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 58,
            column: 123
          },
          end: {
            line: 58,
            column: 126
          }
        }, {
          start: {
            line: 58,
            column: 129
          },
          end: {
            line: 58,
            column: 131
          }
        }],
        line: 58
      },
      "2": {
        loc: {
          start: {
            line: 60,
            column: 20
          },
          end: {
            line: 60,
            column: 63
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 60,
            column: 44
          },
          end: {
            line: 60,
            column: 52
          }
        }, {
          start: {
            line: 60,
            column: 55
          },
          end: {
            line: 60,
            column: 63
          }
        }],
        line: 60
      },
      "3": {
        loc: {
          start: {
            line: 95,
            column: 28
          },
          end: {
            line: 97,
            column: 57
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 96,
            column: 10
          },
          end: {
            line: 96,
            column: 84
          }
        }, {
          start: {
            line: 97,
            column: 10
          },
          end: {
            line: 97,
            column: 57
          }
        }],
        line: 95
      },
      "4": {
        loc: {
          start: {
            line: 232,
            column: 25
          },
          end: {
            line: 232,
            column: 88
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 232,
            column: 47
          },
          end: {
            line: 232,
            column: 76
          }
        }, {
          start: {
            line: 232,
            column: 79
          },
          end: {
            line: 232,
            column: 88
          }
        }],
        line: 232
      },
      "5": {
        loc: {
          start: {
            line: 261,
            column: 65
          },
          end: {
            line: 261,
            column: 77
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 261,
            column: 75
          },
          end: {
            line: 261,
            column: 77
          }
        }],
        line: 261
      },
      "6": {
        loc: {
          start: {
            line: 271,
            column: 24
          },
          end: {
            line: 271,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 271,
            column: 24
          },
          end: {
            line: 271,
            column: 40
          }
        }, {
          start: {
            line: 271,
            column: 44
          },
          end: {
            line: 271,
            column: 52
          }
        }],
        line: 271
      },
      "7": {
        loc: {
          start: {
            line: 274,
            column: 25
          },
          end: {
            line: 274,
            column: 84
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 274,
            column: 45
          },
          end: {
            line: 274,
            column: 72
          }
        }, {
          start: {
            line: 274,
            column: 75
          },
          end: {
            line: 274,
            column: 84
          }
        }],
        line: 274
      },
      "8": {
        loc: {
          start: {
            line: 355,
            column: 6
          },
          end: {
            line: 381,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 355,
            column: 6
          },
          end: {
            line: 381,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 355
      },
      "9": {
        loc: {
          start: {
            line: 362,
            column: 10
          },
          end: {
            line: 364,
            column: 11
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 362,
            column: 10
          },
          end: {
            line: 364,
            column: 11
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 362
      },
      "10": {
        loc: {
          start: {
            line: 366,
            column: 10
          },
          end: {
            line: 368,
            column: 11
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 366,
            column: 10
          },
          end: {
            line: 368,
            column: 11
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 366
      },
      "11": {
        loc: {
          start: {
            line: 373,
            column: 10
          },
          end: {
            line: 375,
            column: 11
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 373,
            column: 10
          },
          end: {
            line: 375,
            column: 11
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 373
      },
      "12": {
        loc: {
          start: {
            line: 377,
            column: 10
          },
          end: {
            line: 379,
            column: 11
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 377,
            column: 10
          },
          end: {
            line: 379,
            column: 11
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 377
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "574ec559aa6ad984cd66b57a7d82732464ead813"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2lakdhu9ep = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2lakdhu9ep();
const Notification =
/* istanbul ignore next */
(cov_2lakdhu9ep().s[0]++, require('../public/models/notification.model'));
const {
  createSystemNotification
} =
/* istanbul ignore next */
(cov_2lakdhu9ep().s[1]++, require('../controllers/notification.controller'));
const {
  info,
  error
} =
/* istanbul ignore next */
(cov_2lakdhu9ep().s[2]++, require('../utils/logger'));
class NotificationService {
  /**
   * Create booking confirmation notification
   * @param {string} userId - User ID
   * @param {Object} booking - Booking object
   * @returns {Promise<Object>} Created notification
   */
  static async createBookingConfirmationNotification(userId, booking) {
    /* istanbul ignore next */
    cov_2lakdhu9ep().f[0]++;
    cov_2lakdhu9ep().s[3]++;
    try {
      const notification =
      /* istanbul ignore next */
      (cov_2lakdhu9ep().s[4]++, await createSystemNotification(userId, 'booking_confirmed', 'Booking Confirmed! ðŸŽ‰', `Your booking for ${booking.destination.title} has been confirmed. Check-in: ${booking.checkInDate.toLocaleDateString()}`, {
        priority: 'high',
        actionUrl: `/bookings/${booking._id}`,
        actionText: 'View Booking',
        booking: booking._id,
        destination: booking.destination._id
      }));
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[5]++;
      info('Booking confirmation notification created', {
        notificationId: notification._id,
        userId,
        bookingId: booking._id
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[6]++;
      return notification;
    } catch (err) {
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[7]++;
      error('Error creating booking confirmation notification', {
        error: err.message,
        userId,
        bookingId: booking._id
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[8]++;
      throw err;
    }
  }

  /**
   * Create booking reminder notification
   * @param {string} userId - User ID
   * @param {Object} booking - Booking object
   * @param {number} daysUntilCheckIn - Days until check-in
   * @returns {Promise<Object>} Created notification
   */
  static async createBookingReminderNotification(userId, booking, daysUntilCheckIn) {
    /* istanbul ignore next */
    cov_2lakdhu9ep().f[1]++;
    cov_2lakdhu9ep().s[9]++;
    try {
      const notification =
      /* istanbul ignore next */
      (cov_2lakdhu9ep().s[10]++, await createSystemNotification(userId, 'booking_reminder', `Check-in Reminder - ${daysUntilCheckIn} day${daysUntilCheckIn > 1 ?
      /* istanbul ignore next */
      (cov_2lakdhu9ep().b[0][0]++, 's') :
      /* istanbul ignore next */
      (cov_2lakdhu9ep().b[0][1]++, '')} to go!`, `Don't forget! Your stay at ${booking.destination.title} starts in ${daysUntilCheckIn} day${daysUntilCheckIn > 1 ?
      /* istanbul ignore next */
      (cov_2lakdhu9ep().b[1][0]++, 's') :
      /* istanbul ignore next */
      (cov_2lakdhu9ep().b[1][1]++, '')}.`, {
        priority: daysUntilCheckIn <= 1 ?
        /* istanbul ignore next */
        (cov_2lakdhu9ep().b[2][0]++, 'urgent') :
        /* istanbul ignore next */
        (cov_2lakdhu9ep().b[2][1]++, 'medium'),
        actionUrl: `/bookings/${booking._id}`,
        actionText: 'View Details',
        booking: booking._id,
        destination: booking.destination._id
      }));
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[11]++;
      info('Booking reminder notification created', {
        notificationId: notification._id,
        userId,
        bookingId: booking._id,
        daysUntilCheckIn
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[12]++;
      return notification;
    } catch (err) {
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[13]++;
      error('Error creating booking reminder notification', {
        error: err.message,
        userId,
        bookingId: booking._id
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[14]++;
      throw err;
    }
  }

  /**
   * Create booking cancellation notification
   * @param {string} userId - User ID
   * @param {Object} booking - Booking object
   * @param {number} refundAmount - Refund amount
   * @returns {Promise<Object>} Created notification
   */
  static async createBookingCancellationNotification(userId, booking, refundAmount) {
    /* istanbul ignore next */
    cov_2lakdhu9ep().f[2]++;
    cov_2lakdhu9ep().s[15]++;
    try {
      const refundMessage =
      /* istanbul ignore next */
      (cov_2lakdhu9ep().s[16]++, refundAmount > 0 ?
      /* istanbul ignore next */
      (cov_2lakdhu9ep().b[3][0]++, `A refund of $${refundAmount} will be processed within 5-7 business days.`) :
      /* istanbul ignore next */
      (cov_2lakdhu9ep().b[3][1]++, 'No refund is available for this cancellation.'));
      const notification =
      /* istanbul ignore next */
      (cov_2lakdhu9ep().s[17]++, await createSystemNotification(userId, 'booking_cancelled', 'Booking Cancelled', `Your booking for ${booking.destination.title} has been cancelled. ${refundMessage}`, {
        priority: 'medium',
        actionUrl: `/bookings/${booking._id}`,
        actionText: 'View Details',
        booking: booking._id,
        destination: booking.destination._id
      }));
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[18]++;
      info('Booking cancellation notification created', {
        notificationId: notification._id,
        userId,
        bookingId: booking._id,
        refundAmount
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[19]++;
      return notification;
    } catch (err) {
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[20]++;
      error('Error creating booking cancellation notification', {
        error: err.message,
        userId,
        bookingId: booking._id
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[21]++;
      throw err;
    }
  }

  /**
   * Create review request notification
   * @param {string} userId - User ID
   * @param {Object} booking - Booking object
   * @returns {Promise<Object>} Created notification
   */
  static async createReviewRequestNotification(userId, booking) {
    /* istanbul ignore next */
    cov_2lakdhu9ep().f[3]++;
    cov_2lakdhu9ep().s[22]++;
    try {
      const notification =
      /* istanbul ignore next */
      (cov_2lakdhu9ep().s[23]++, await createSystemNotification(userId, 'review_request', 'How was your stay?', `We hope you enjoyed your stay at ${booking.destination.title}! Please share your experience with other travelers.`, {
        priority: 'low',
        actionUrl: `/destinations/${booking.destination._id}/review`,
        actionText: 'Write Review',
        booking: booking._id,
        destination: booking.destination._id,
        expiresAt: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000) // 30 days
      }));
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[24]++;
      info('Review request notification created', {
        notificationId: notification._id,
        userId,
        bookingId: booking._id
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[25]++;
      return notification;
    } catch (err) {
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[26]++;
      error('Error creating review request notification', {
        error: err.message,
        userId,
        bookingId: booking._id
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[27]++;
      throw err;
    }
  }

  /**
   * Create destination update notification
   * @param {Array} userIds - Array of user IDs to notify
   * @param {Object} destination - Destination object
   * @param {string} updateType - Type of update
   * @returns {Promise<Array>} Created notifications
   */
  static async createDestinationUpdateNotification(userIds, destination, updateType) {
    /* istanbul ignore next */
    cov_2lakdhu9ep().f[4]++;
    cov_2lakdhu9ep().s[28]++;
    try {
      const notifications =
      /* istanbul ignore next */
      (cov_2lakdhu9ep().s[29]++, await Promise.all(userIds.map(async userId => {
        /* istanbul ignore next */
        cov_2lakdhu9ep().f[5]++;
        cov_2lakdhu9ep().s[30]++;
        return await createSystemNotification(userId, 'destination_update', `${destination.title} - ${updateType}`, `There's been an update to ${destination.title}. Check out what's new!`, {
          priority: 'low',
          actionUrl: `/destinations/${destination._id}`,
          actionText: 'View Destination',
          destination: destination._id
        });
      })));
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[31]++;
      info('Destination update notifications created', {
        notificationCount: notifications.length,
        destinationId: destination._id,
        updateType
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[32]++;
      return notifications;
    } catch (err) {
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[33]++;
      error('Error creating destination update notifications', {
        error: err.message,
        destinationId: destination._id
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[34]++;
      throw err;
    }
  }

  /**
   * Create promotion notification
   * @param {Array} userIds - Array of user IDs to notify
   * @param {Object} promotion - Promotion object
   * @returns {Promise<Array>} Created notifications
   */
  static async createPromotionNotification(userIds, promotion) {
    /* istanbul ignore next */
    cov_2lakdhu9ep().f[6]++;
    cov_2lakdhu9ep().s[35]++;
    try {
      const notifications =
      /* istanbul ignore next */
      (cov_2lakdhu9ep().s[36]++, await Promise.all(userIds.map(async userId => {
        /* istanbul ignore next */
        cov_2lakdhu9ep().f[7]++;
        cov_2lakdhu9ep().s[37]++;
        return await createSystemNotification(userId, 'promotion', promotion.title, promotion.message, {
          priority: 'medium',
          actionUrl: promotion.actionUrl,
          actionText: promotion.actionText,
          expiresAt: promotion.expiresAt ?
          /* istanbul ignore next */
          (cov_2lakdhu9ep().b[4][0]++, new Date(promotion.expiresAt)) :
          /* istanbul ignore next */
          (cov_2lakdhu9ep().b[4][1]++, undefined)
        });
      })));
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[38]++;
      info('Promotion notifications created', {
        notificationCount: notifications.length,
        promotionId: promotion._id
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[39]++;
      return notifications;
    } catch (err) {
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[40]++;
      error('Error creating promotion notifications', {
        error: err.message,
        promotionId: promotion._id
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[41]++;
      throw err;
    }
  }

  /**
   * Create system notification
   * @param {Array} userIds - Array of user IDs to notify
   * @param {string} title - Notification title
   * @param {string} message - Notification message
   * @param {Object} options - Additional options
   * @returns {Promise<Array>} Created notifications
   */
  static async createSystemNotification(userIds, title, message, options =
  /* istanbul ignore next */
  (cov_2lakdhu9ep().b[5][0]++, {})) {
    /* istanbul ignore next */
    cov_2lakdhu9ep().f[8]++;
    cov_2lakdhu9ep().s[42]++;
    try {
      const notifications =
      /* istanbul ignore next */
      (cov_2lakdhu9ep().s[43]++, await Promise.all(userIds.map(async userId => {
        /* istanbul ignore next */
        cov_2lakdhu9ep().f[9]++;
        cov_2lakdhu9ep().s[44]++;
        return await createSystemNotification(userId, 'system', title, message, {
          priority:
          /* istanbul ignore next */
          (cov_2lakdhu9ep().b[6][0]++, options.priority) ||
          /* istanbul ignore next */
          (cov_2lakdhu9ep().b[6][1]++, 'medium'),
          actionUrl: options.actionUrl,
          actionText: options.actionText,
          expiresAt: options.expiresAt ?
          /* istanbul ignore next */
          (cov_2lakdhu9ep().b[7][0]++, new Date(options.expiresAt)) :
          /* istanbul ignore next */
          (cov_2lakdhu9ep().b[7][1]++, undefined)
        });
      })));
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[45]++;
      info('System notifications created', {
        notificationCount: notifications.length,
        title
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[46]++;
      return notifications;
    } catch (err) {
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[47]++;
      error('Error creating system notifications', {
        error: err.message,
        title
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[48]++;
      throw err;
    }
  }

  /**
   * Clean up expired notifications
   * @returns {Promise<number>} Number of notifications cleaned up
   */
  static async cleanupExpiredNotifications() {
    /* istanbul ignore next */
    cov_2lakdhu9ep().f[10]++;
    cov_2lakdhu9ep().s[49]++;
    try {
      const result =
      /* istanbul ignore next */
      (cov_2lakdhu9ep().s[50]++, await Notification.cleanupExpired());
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[51]++;
      info('Expired notifications cleaned up', {
        deletedCount: result.deletedCount
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[52]++;
      return result.deletedCount;
    } catch (err) {
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[53]++;
      error('Error cleaning up expired notifications', {
        error: err.message
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[54]++;
      throw err;
    }
  }

  /**
   * Get notification statistics for a user
   * @param {string} userId - User ID
   * @returns {Promise<Object>} Notification statistics
   */
  static async getUserNotificationStats(userId) {
    /* istanbul ignore next */
    cov_2lakdhu9ep().f[11]++;
    cov_2lakdhu9ep().s[55]++;
    try {
      const stats =
      /* istanbul ignore next */
      (cov_2lakdhu9ep().s[56]++, await Notification.aggregate([{
        $match: {
          user: userId
        }
      }, {
        $group: {
          _id: null,
          total: {
            $sum: 1
          },
          unread: {
            $sum: {
              $cond: [{
                $eq: ['$isRead', false]
              }, 1, 0]
            }
          },
          byType: {
            $push: {
              type: '$type',
              isRead: '$isRead'
            }
          },
          byPriority: {
            $push: {
              priority: '$priority',
              isRead: '$isRead'
            }
          }
        }
      }]));
      let notificationStats =
      /* istanbul ignore next */
      (cov_2lakdhu9ep().s[57]++, {
        total: 0,
        unread: 0,
        byType: {},
        byPriority: {}
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[58]++;
      if (stats.length > 0) {
        /* istanbul ignore next */
        cov_2lakdhu9ep().b[8][0]++;
        const stat =
        /* istanbul ignore next */
        (cov_2lakdhu9ep().s[59]++, stats[0]);
        /* istanbul ignore next */
        cov_2lakdhu9ep().s[60]++;
        notificationStats.total = stat.total;
        /* istanbul ignore next */
        cov_2lakdhu9ep().s[61]++;
        notificationStats.unread = stat.unread;

        // Calculate by type
        /* istanbul ignore next */
        cov_2lakdhu9ep().s[62]++;
        stat.byType.forEach(item => {
          /* istanbul ignore next */
          cov_2lakdhu9ep().f[12]++;
          cov_2lakdhu9ep().s[63]++;
          if (!notificationStats.byType[item.type]) {
            /* istanbul ignore next */
            cov_2lakdhu9ep().b[9][0]++;
            cov_2lakdhu9ep().s[64]++;
            notificationStats.byType[item.type] = {
              total: 0,
              unread: 0
            };
          } else
          /* istanbul ignore next */
          {
            cov_2lakdhu9ep().b[9][1]++;
          }
          cov_2lakdhu9ep().s[65]++;
          notificationStats.byType[item.type].total++;
          /* istanbul ignore next */
          cov_2lakdhu9ep().s[66]++;
          if (!item.isRead) {
            /* istanbul ignore next */
            cov_2lakdhu9ep().b[10][0]++;
            cov_2lakdhu9ep().s[67]++;
            notificationStats.byType[item.type].unread++;
          } else
          /* istanbul ignore next */
          {
            cov_2lakdhu9ep().b[10][1]++;
          }
        });

        // Calculate by priority
        /* istanbul ignore next */
        cov_2lakdhu9ep().s[68]++;
        stat.byPriority.forEach(item => {
          /* istanbul ignore next */
          cov_2lakdhu9ep().f[13]++;
          cov_2lakdhu9ep().s[69]++;
          if (!notificationStats.byPriority[item.priority]) {
            /* istanbul ignore next */
            cov_2lakdhu9ep().b[11][0]++;
            cov_2lakdhu9ep().s[70]++;
            notificationStats.byPriority[item.priority] = {
              total: 0,
              unread: 0
            };
          } else
          /* istanbul ignore next */
          {
            cov_2lakdhu9ep().b[11][1]++;
          }
          cov_2lakdhu9ep().s[71]++;
          notificationStats.byPriority[item.priority].total++;
          /* istanbul ignore next */
          cov_2lakdhu9ep().s[72]++;
          if (!item.isRead) {
            /* istanbul ignore next */
            cov_2lakdhu9ep().b[12][0]++;
            cov_2lakdhu9ep().s[73]++;
            notificationStats.byPriority[item.priority].unread++;
          } else
          /* istanbul ignore next */
          {
            cov_2lakdhu9ep().b[12][1]++;
          }
        });
      } else
      /* istanbul ignore next */
      {
        cov_2lakdhu9ep().b[8][1]++;
      }
      cov_2lakdhu9ep().s[74]++;
      return notificationStats;
    } catch (err) {
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[75]++;
      error('Error getting user notification stats', {
        error: err.message,
        userId
      });
      /* istanbul ignore next */
      cov_2lakdhu9ep().s[76]++;
      throw err;
    }
  }
}
/* istanbul ignore next */
cov_2lakdhu9ep().s[77]++;
module.exports = NotificationService;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmxha2RodTllcCIsImFjdHVhbENvdmVyYWdlIiwiTm90aWZpY2F0aW9uIiwicyIsInJlcXVpcmUiLCJjcmVhdGVTeXN0ZW1Ob3RpZmljYXRpb24iLCJpbmZvIiwiZXJyb3IiLCJOb3RpZmljYXRpb25TZXJ2aWNlIiwiY3JlYXRlQm9va2luZ0NvbmZpcm1hdGlvbk5vdGlmaWNhdGlvbiIsInVzZXJJZCIsImJvb2tpbmciLCJmIiwibm90aWZpY2F0aW9uIiwiZGVzdGluYXRpb24iLCJ0aXRsZSIsImNoZWNrSW5EYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwicHJpb3JpdHkiLCJhY3Rpb25VcmwiLCJfaWQiLCJhY3Rpb25UZXh0Iiwibm90aWZpY2F0aW9uSWQiLCJib29raW5nSWQiLCJlcnIiLCJtZXNzYWdlIiwiY3JlYXRlQm9va2luZ1JlbWluZGVyTm90aWZpY2F0aW9uIiwiZGF5c1VudGlsQ2hlY2tJbiIsImIiLCJjcmVhdGVCb29raW5nQ2FuY2VsbGF0aW9uTm90aWZpY2F0aW9uIiwicmVmdW5kQW1vdW50IiwicmVmdW5kTWVzc2FnZSIsImNyZWF0ZVJldmlld1JlcXVlc3ROb3RpZmljYXRpb24iLCJleHBpcmVzQXQiLCJEYXRlIiwibm93IiwiY3JlYXRlRGVzdGluYXRpb25VcGRhdGVOb3RpZmljYXRpb24iLCJ1c2VySWRzIiwidXBkYXRlVHlwZSIsIm5vdGlmaWNhdGlvbnMiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwibm90aWZpY2F0aW9uQ291bnQiLCJsZW5ndGgiLCJkZXN0aW5hdGlvbklkIiwiY3JlYXRlUHJvbW90aW9uTm90aWZpY2F0aW9uIiwicHJvbW90aW9uIiwidW5kZWZpbmVkIiwicHJvbW90aW9uSWQiLCJvcHRpb25zIiwiY2xlYW51cEV4cGlyZWROb3RpZmljYXRpb25zIiwicmVzdWx0IiwiY2xlYW51cEV4cGlyZWQiLCJkZWxldGVkQ291bnQiLCJnZXRVc2VyTm90aWZpY2F0aW9uU3RhdHMiLCJzdGF0cyIsImFnZ3JlZ2F0ZSIsIiRtYXRjaCIsInVzZXIiLCIkZ3JvdXAiLCJ0b3RhbCIsIiRzdW0iLCJ1bnJlYWQiLCIkY29uZCIsIiRlcSIsImJ5VHlwZSIsIiRwdXNoIiwidHlwZSIsImlzUmVhZCIsImJ5UHJpb3JpdHkiLCJub3RpZmljYXRpb25TdGF0cyIsInN0YXQiLCJmb3JFYWNoIiwiaXRlbSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJub3RpZmljYXRpb24uc2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBOb3RpZmljYXRpb24gPSByZXF1aXJlKCcuLi9wdWJsaWMvbW9kZWxzL25vdGlmaWNhdGlvbi5tb2RlbCcpO1xuY29uc3QgeyBjcmVhdGVTeXN0ZW1Ob3RpZmljYXRpb24gfSA9IHJlcXVpcmUoJy4uL2NvbnRyb2xsZXJzL25vdGlmaWNhdGlvbi5jb250cm9sbGVyJyk7XG5jb25zdCB7IGluZm8sIGVycm9yIH0gPSByZXF1aXJlKCcuLi91dGlscy9sb2dnZXInKTtcblxuY2xhc3MgTm90aWZpY2F0aW9uU2VydmljZSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYm9va2luZyBjb25maXJtYXRpb24gbm90aWZpY2F0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBib29raW5nIC0gQm9va2luZyBvYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gQ3JlYXRlZCBub3RpZmljYXRpb25cbiAgICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVCb29raW5nQ29uZmlybWF0aW9uTm90aWZpY2F0aW9uKHVzZXJJZCwgYm9va2luZykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBub3RpZmljYXRpb24gPSBhd2FpdCBjcmVhdGVTeXN0ZW1Ob3RpZmljYXRpb24oXG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgJ2Jvb2tpbmdfY29uZmlybWVkJyxcbiAgICAgICAgJ0Jvb2tpbmcgQ29uZmlybWVkISDwn46JJyxcbiAgICAgICAgYFlvdXIgYm9va2luZyBmb3IgJHtib29raW5nLmRlc3RpbmF0aW9uLnRpdGxlfSBoYXMgYmVlbiBjb25maXJtZWQuIENoZWNrLWluOiAke2Jvb2tpbmcuY2hlY2tJbkRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCl9YCxcbiAgICAgICAge1xuICAgICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgICAgYWN0aW9uVXJsOiBgL2Jvb2tpbmdzLyR7Ym9va2luZy5faWR9YCxcbiAgICAgICAgICBhY3Rpb25UZXh0OiAnVmlldyBCb29raW5nJyxcbiAgICAgICAgICBib29raW5nOiBib29raW5nLl9pZCxcbiAgICAgICAgICBkZXN0aW5hdGlvbjogYm9va2luZy5kZXN0aW5hdGlvbi5faWRcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgaW5mbygnQm9va2luZyBjb25maXJtYXRpb24gbm90aWZpY2F0aW9uIGNyZWF0ZWQnLCB7XG4gICAgICAgIG5vdGlmaWNhdGlvbklkOiBub3RpZmljYXRpb24uX2lkLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIGJvb2tpbmdJZDogYm9va2luZy5faWRcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbm90aWZpY2F0aW9uO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGJvb2tpbmcgY29uZmlybWF0aW9uIG5vdGlmaWNhdGlvbicsIHtcbiAgICAgICAgZXJyb3I6IGVyci5tZXNzYWdlLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIGJvb2tpbmdJZDogYm9va2luZy5faWRcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYm9va2luZyByZW1pbmRlciBub3RpZmljYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgICogQHBhcmFtIHtPYmplY3R9IGJvb2tpbmcgLSBCb29raW5nIG9iamVjdFxuICAgKiBAcGFyYW0ge251bWJlcn0gZGF5c1VudGlsQ2hlY2tJbiAtIERheXMgdW50aWwgY2hlY2staW5cbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gQ3JlYXRlZCBub3RpZmljYXRpb25cbiAgICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVCb29raW5nUmVtaW5kZXJOb3RpZmljYXRpb24odXNlcklkLCBib29raW5nLCBkYXlzVW50aWxDaGVja0luKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGF3YWl0IGNyZWF0ZVN5c3RlbU5vdGlmaWNhdGlvbihcbiAgICAgICAgdXNlcklkLFxuICAgICAgICAnYm9va2luZ19yZW1pbmRlcicsXG4gICAgICAgIGBDaGVjay1pbiBSZW1pbmRlciAtICR7ZGF5c1VudGlsQ2hlY2tJbn0gZGF5JHtkYXlzVW50aWxDaGVja0luID4gMSA/ICdzJyA6ICcnfSB0byBnbyFgLFxuICAgICAgICBgRG9uJ3QgZm9yZ2V0ISBZb3VyIHN0YXkgYXQgJHtib29raW5nLmRlc3RpbmF0aW9uLnRpdGxlfSBzdGFydHMgaW4gJHtkYXlzVW50aWxDaGVja0lufSBkYXkke2RheXNVbnRpbENoZWNrSW4gPiAxID8gJ3MnIDogJyd9LmAsXG4gICAgICAgIHtcbiAgICAgICAgICBwcmlvcml0eTogZGF5c1VudGlsQ2hlY2tJbiA8PSAxID8gJ3VyZ2VudCcgOiAnbWVkaXVtJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6IGAvYm9va2luZ3MvJHtib29raW5nLl9pZH1gLFxuICAgICAgICAgIGFjdGlvblRleHQ6ICdWaWV3IERldGFpbHMnLFxuICAgICAgICAgIGJvb2tpbmc6IGJvb2tpbmcuX2lkLFxuICAgICAgICAgIGRlc3RpbmF0aW9uOiBib29raW5nLmRlc3RpbmF0aW9uLl9pZFxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICBpbmZvKCdCb29raW5nIHJlbWluZGVyIG5vdGlmaWNhdGlvbiBjcmVhdGVkJywge1xuICAgICAgICBub3RpZmljYXRpb25JZDogbm90aWZpY2F0aW9uLl9pZCxcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBib29raW5nSWQ6IGJvb2tpbmcuX2lkLFxuICAgICAgICBkYXlzVW50aWxDaGVja0luXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbjtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGVycm9yKCdFcnJvciBjcmVhdGluZyBib29raW5nIHJlbWluZGVyIG5vdGlmaWNhdGlvbicsIHtcbiAgICAgICAgZXJyb3I6IGVyci5tZXNzYWdlLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIGJvb2tpbmdJZDogYm9va2luZy5faWRcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYm9va2luZyBjYW5jZWxsYXRpb24gbm90aWZpY2F0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBib29raW5nIC0gQm9va2luZyBvYmplY3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlZnVuZEFtb3VudCAtIFJlZnVuZCBhbW91bnRcbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gQ3JlYXRlZCBub3RpZmljYXRpb25cbiAgICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVCb29raW5nQ2FuY2VsbGF0aW9uTm90aWZpY2F0aW9uKHVzZXJJZCwgYm9va2luZywgcmVmdW5kQW1vdW50KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlZnVuZE1lc3NhZ2UgPSByZWZ1bmRBbW91bnQgPiAwXG4gICAgICAgID8gYEEgcmVmdW5kIG9mICQke3JlZnVuZEFtb3VudH0gd2lsbCBiZSBwcm9jZXNzZWQgd2l0aGluIDUtNyBidXNpbmVzcyBkYXlzLmBcbiAgICAgICAgOiAnTm8gcmVmdW5kIGlzIGF2YWlsYWJsZSBmb3IgdGhpcyBjYW5jZWxsYXRpb24uJztcblxuICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gYXdhaXQgY3JlYXRlU3lzdGVtTm90aWZpY2F0aW9uKFxuICAgICAgICB1c2VySWQsXG4gICAgICAgICdib29raW5nX2NhbmNlbGxlZCcsXG4gICAgICAgICdCb29raW5nIENhbmNlbGxlZCcsXG4gICAgICAgIGBZb3VyIGJvb2tpbmcgZm9yICR7Ym9va2luZy5kZXN0aW5hdGlvbi50aXRsZX0gaGFzIGJlZW4gY2FuY2VsbGVkLiAke3JlZnVuZE1lc3NhZ2V9YCxcbiAgICAgICAge1xuICAgICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6IGAvYm9va2luZ3MvJHtib29raW5nLl9pZH1gLFxuICAgICAgICAgIGFjdGlvblRleHQ6ICdWaWV3IERldGFpbHMnLFxuICAgICAgICAgIGJvb2tpbmc6IGJvb2tpbmcuX2lkLFxuICAgICAgICAgIGRlc3RpbmF0aW9uOiBib29raW5nLmRlc3RpbmF0aW9uLl9pZFxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICBpbmZvKCdCb29raW5nIGNhbmNlbGxhdGlvbiBub3RpZmljYXRpb24gY3JlYXRlZCcsIHtcbiAgICAgICAgbm90aWZpY2F0aW9uSWQ6IG5vdGlmaWNhdGlvbi5faWQsXG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgYm9va2luZ0lkOiBib29raW5nLl9pZCxcbiAgICAgICAgcmVmdW5kQW1vdW50XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbjtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGVycm9yKCdFcnJvciBjcmVhdGluZyBib29raW5nIGNhbmNlbGxhdGlvbiBub3RpZmljYXRpb24nLCB7XG4gICAgICAgIGVycm9yOiBlcnIubWVzc2FnZSxcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBib29raW5nSWQ6IGJvb2tpbmcuX2lkXG4gICAgICB9KTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHJldmlldyByZXF1ZXN0IG5vdGlmaWNhdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAgKiBAcGFyYW0ge09iamVjdH0gYm9va2luZyAtIEJvb2tpbmcgb2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IENyZWF0ZWQgbm90aWZpY2F0aW9uXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY3JlYXRlUmV2aWV3UmVxdWVzdE5vdGlmaWNhdGlvbih1c2VySWQsIGJvb2tpbmcpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gYXdhaXQgY3JlYXRlU3lzdGVtTm90aWZpY2F0aW9uKFxuICAgICAgICB1c2VySWQsXG4gICAgICAgICdyZXZpZXdfcmVxdWVzdCcsXG4gICAgICAgICdIb3cgd2FzIHlvdXIgc3RheT8nLFxuICAgICAgICBgV2UgaG9wZSB5b3UgZW5qb3llZCB5b3VyIHN0YXkgYXQgJHtib29raW5nLmRlc3RpbmF0aW9uLnRpdGxlfSEgUGxlYXNlIHNoYXJlIHlvdXIgZXhwZXJpZW5jZSB3aXRoIG90aGVyIHRyYXZlbGVycy5gLFxuICAgICAgICB7XG4gICAgICAgICAgcHJpb3JpdHk6ICdsb3cnLFxuICAgICAgICAgIGFjdGlvblVybDogYC9kZXN0aW5hdGlvbnMvJHtib29raW5nLmRlc3RpbmF0aW9uLl9pZH0vcmV2aWV3YCxcbiAgICAgICAgICBhY3Rpb25UZXh0OiAnV3JpdGUgUmV2aWV3JyxcbiAgICAgICAgICBib29raW5nOiBib29raW5nLl9pZCxcbiAgICAgICAgICBkZXN0aW5hdGlvbjogYm9va2luZy5kZXN0aW5hdGlvbi5faWQsXG4gICAgICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSAvLyAzMCBkYXlzXG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIGluZm8oJ1JldmlldyByZXF1ZXN0IG5vdGlmaWNhdGlvbiBjcmVhdGVkJywge1xuICAgICAgICBub3RpZmljYXRpb25JZDogbm90aWZpY2F0aW9uLl9pZCxcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBib29raW5nSWQ6IGJvb2tpbmcuX2lkXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbjtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGVycm9yKCdFcnJvciBjcmVhdGluZyByZXZpZXcgcmVxdWVzdCBub3RpZmljYXRpb24nLCB7XG4gICAgICAgIGVycm9yOiBlcnIubWVzc2FnZSxcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBib29raW5nSWQ6IGJvb2tpbmcuX2lkXG4gICAgICB9KTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGRlc3RpbmF0aW9uIHVwZGF0ZSBub3RpZmljYXRpb25cbiAgICogQHBhcmFtIHtBcnJheX0gdXNlcklkcyAtIEFycmF5IG9mIHVzZXIgSURzIHRvIG5vdGlmeVxuICAgKiBAcGFyYW0ge09iamVjdH0gZGVzdGluYXRpb24gLSBEZXN0aW5hdGlvbiBvYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVwZGF0ZVR5cGUgLSBUeXBlIG9mIHVwZGF0ZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IENyZWF0ZWQgbm90aWZpY2F0aW9uc1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZURlc3RpbmF0aW9uVXBkYXRlTm90aWZpY2F0aW9uKHVzZXJJZHMsIGRlc3RpbmF0aW9uLCB1cGRhdGVUeXBlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbnMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgdXNlcklkcy5tYXAoYXN5bmModXNlcklkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IGNyZWF0ZVN5c3RlbU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgICdkZXN0aW5hdGlvbl91cGRhdGUnLFxuICAgICAgICAgICAgYCR7ZGVzdGluYXRpb24udGl0bGV9IC0gJHt1cGRhdGVUeXBlfWAsXG4gICAgICAgICAgICBgVGhlcmUncyBiZWVuIGFuIHVwZGF0ZSB0byAke2Rlc3RpbmF0aW9uLnRpdGxlfS4gQ2hlY2sgb3V0IHdoYXQncyBuZXchYCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcHJpb3JpdHk6ICdsb3cnLFxuICAgICAgICAgICAgICBhY3Rpb25Vcmw6IGAvZGVzdGluYXRpb25zLyR7ZGVzdGluYXRpb24uX2lkfWAsXG4gICAgICAgICAgICAgIGFjdGlvblRleHQ6ICdWaWV3IERlc3RpbmF0aW9uJyxcbiAgICAgICAgICAgICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLl9pZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBpbmZvKCdEZXN0aW5hdGlvbiB1cGRhdGUgbm90aWZpY2F0aW9ucyBjcmVhdGVkJywge1xuICAgICAgICBub3RpZmljYXRpb25Db3VudDogbm90aWZpY2F0aW9ucy5sZW5ndGgsXG4gICAgICAgIGRlc3RpbmF0aW9uSWQ6IGRlc3RpbmF0aW9uLl9pZCxcbiAgICAgICAgdXBkYXRlVHlwZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBub3RpZmljYXRpb25zO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGRlc3RpbmF0aW9uIHVwZGF0ZSBub3RpZmljYXRpb25zJywge1xuICAgICAgICBlcnJvcjogZXJyLm1lc3NhZ2UsXG4gICAgICAgIGRlc3RpbmF0aW9uSWQ6IGRlc3RpbmF0aW9uLl9pZFxuICAgICAgfSk7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBwcm9tb3Rpb24gbm90aWZpY2F0aW9uXG4gICAqIEBwYXJhbSB7QXJyYXl9IHVzZXJJZHMgLSBBcnJheSBvZiB1c2VyIElEcyB0byBub3RpZnlcbiAgICogQHBhcmFtIHtPYmplY3R9IHByb21vdGlvbiAtIFByb21vdGlvbiBvYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8QXJyYXk+fSBDcmVhdGVkIG5vdGlmaWNhdGlvbnNcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVQcm9tb3Rpb25Ob3RpZmljYXRpb24odXNlcklkcywgcHJvbW90aW9uKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbnMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgdXNlcklkcy5tYXAoYXN5bmModXNlcklkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IGNyZWF0ZVN5c3RlbU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgICdwcm9tb3Rpb24nLFxuICAgICAgICAgICAgcHJvbW90aW9uLnRpdGxlLFxuICAgICAgICAgICAgcHJvbW90aW9uLm1lc3NhZ2UsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgICAgICAgYWN0aW9uVXJsOiBwcm9tb3Rpb24uYWN0aW9uVXJsLFxuICAgICAgICAgICAgICBhY3Rpb25UZXh0OiBwcm9tb3Rpb24uYWN0aW9uVGV4dCxcbiAgICAgICAgICAgICAgZXhwaXJlc0F0OiBwcm9tb3Rpb24uZXhwaXJlc0F0ID8gbmV3IERhdGUocHJvbW90aW9uLmV4cGlyZXNBdCkgOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgaW5mbygnUHJvbW90aW9uIG5vdGlmaWNhdGlvbnMgY3JlYXRlZCcsIHtcbiAgICAgICAgbm90aWZpY2F0aW9uQ291bnQ6IG5vdGlmaWNhdGlvbnMubGVuZ3RoLFxuICAgICAgICBwcm9tb3Rpb25JZDogcHJvbW90aW9uLl9pZFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBub3RpZmljYXRpb25zO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHByb21vdGlvbiBub3RpZmljYXRpb25zJywge1xuICAgICAgICBlcnJvcjogZXJyLm1lc3NhZ2UsXG4gICAgICAgIHByb21vdGlvbklkOiBwcm9tb3Rpb24uX2lkXG4gICAgICB9KTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHN5c3RlbSBub3RpZmljYXRpb25cbiAgICogQHBhcmFtIHtBcnJheX0gdXNlcklkcyAtIEFycmF5IG9mIHVzZXIgSURzIHRvIG5vdGlmeVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgLSBOb3RpZmljYXRpb24gdGl0bGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBOb3RpZmljYXRpb24gbWVzc2FnZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIEFkZGl0aW9uYWwgb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IENyZWF0ZWQgbm90aWZpY2F0aW9uc1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZVN5c3RlbU5vdGlmaWNhdGlvbih1c2VySWRzLCB0aXRsZSwgbWVzc2FnZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbnMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgdXNlcklkcy5tYXAoYXN5bmModXNlcklkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IGNyZWF0ZVN5c3RlbU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgICdzeXN0ZW0nLFxuICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBwcmlvcml0eTogb3B0aW9ucy5wcmlvcml0eSB8fCAnbWVkaXVtJyxcbiAgICAgICAgICAgICAgYWN0aW9uVXJsOiBvcHRpb25zLmFjdGlvblVybCxcbiAgICAgICAgICAgICAgYWN0aW9uVGV4dDogb3B0aW9ucy5hY3Rpb25UZXh0LFxuICAgICAgICAgICAgICBleHBpcmVzQXQ6IG9wdGlvbnMuZXhwaXJlc0F0ID8gbmV3IERhdGUob3B0aW9ucy5leHBpcmVzQXQpIDogdW5kZWZpbmVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGluZm8oJ1N5c3RlbSBub3RpZmljYXRpb25zIGNyZWF0ZWQnLCB7XG4gICAgICAgIG5vdGlmaWNhdGlvbkNvdW50OiBub3RpZmljYXRpb25zLmxlbmd0aCxcbiAgICAgICAgdGl0bGVcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbm90aWZpY2F0aW9ucztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGVycm9yKCdFcnJvciBjcmVhdGluZyBzeXN0ZW0gbm90aWZpY2F0aW9ucycsIHtcbiAgICAgICAgZXJyb3I6IGVyci5tZXNzYWdlLFxuICAgICAgICB0aXRsZVxuICAgICAgfSk7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHVwIGV4cGlyZWQgbm90aWZpY2F0aW9uc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxudW1iZXI+fSBOdW1iZXIgb2Ygbm90aWZpY2F0aW9ucyBjbGVhbmVkIHVwXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY2xlYW51cEV4cGlyZWROb3RpZmljYXRpb25zKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBOb3RpZmljYXRpb24uY2xlYW51cEV4cGlyZWQoKTtcblxuICAgICAgaW5mbygnRXhwaXJlZCBub3RpZmljYXRpb25zIGNsZWFuZWQgdXAnLCB7XG4gICAgICAgIGRlbGV0ZWRDb3VudDogcmVzdWx0LmRlbGV0ZWRDb3VudFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQuZGVsZXRlZENvdW50O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyb3IoJ0Vycm9yIGNsZWFuaW5nIHVwIGV4cGlyZWQgbm90aWZpY2F0aW9ucycsIHtcbiAgICAgICAgZXJyb3I6IGVyci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IG5vdGlmaWNhdGlvbiBzdGF0aXN0aWNzIGZvciBhIHVzZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gTm90aWZpY2F0aW9uIHN0YXRpc3RpY3NcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRVc2VyTm90aWZpY2F0aW9uU3RhdHModXNlcklkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgTm90aWZpY2F0aW9uLmFnZ3JlZ2F0ZShbXG4gICAgICAgIHsgJG1hdGNoOiB7IHVzZXI6IHVzZXJJZCB9IH0sXG4gICAgICAgIHtcbiAgICAgICAgICAkZ3JvdXA6IHtcbiAgICAgICAgICAgIF9pZDogbnVsbCxcbiAgICAgICAgICAgIHRvdGFsOiB7ICRzdW06IDEgfSxcbiAgICAgICAgICAgIHVucmVhZDoge1xuICAgICAgICAgICAgICAkc3VtOiB7ICRjb25kOiBbeyAkZXE6IFsnJGlzUmVhZCcsIGZhbHNlXSB9LCAxLCAwXSB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYnlUeXBlOiB7XG4gICAgICAgICAgICAgICRwdXNoOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJyR0eXBlJyxcbiAgICAgICAgICAgICAgICBpc1JlYWQ6ICckaXNSZWFkJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYnlQcmlvcml0eToge1xuICAgICAgICAgICAgICAkcHVzaDoge1xuICAgICAgICAgICAgICAgIHByaW9yaXR5OiAnJHByaW9yaXR5JyxcbiAgICAgICAgICAgICAgICBpc1JlYWQ6ICckaXNSZWFkJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdKTtcblxuICAgICAgbGV0IG5vdGlmaWNhdGlvblN0YXRzID0ge1xuICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgdW5yZWFkOiAwLFxuICAgICAgICBieVR5cGU6IHt9LFxuICAgICAgICBieVByaW9yaXR5OiB7fVxuICAgICAgfTtcblxuICAgICAgaWYgKHN0YXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3Qgc3RhdCA9IHN0YXRzWzBdO1xuICAgICAgICBub3RpZmljYXRpb25TdGF0cy50b3RhbCA9IHN0YXQudG90YWw7XG4gICAgICAgIG5vdGlmaWNhdGlvblN0YXRzLnVucmVhZCA9IHN0YXQudW5yZWFkO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBieSB0eXBlXG4gICAgICAgIHN0YXQuYnlUeXBlLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgaWYgKCFub3RpZmljYXRpb25TdGF0cy5ieVR5cGVbaXRlbS50eXBlXSkge1xuICAgICAgICAgICAgbm90aWZpY2F0aW9uU3RhdHMuYnlUeXBlW2l0ZW0udHlwZV0gPSB7IHRvdGFsOiAwLCB1bnJlYWQ6IDAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbm90aWZpY2F0aW9uU3RhdHMuYnlUeXBlW2l0ZW0udHlwZV0udG90YWwrKztcbiAgICAgICAgICBpZiAoIWl0ZW0uaXNSZWFkKSB7XG4gICAgICAgICAgICBub3RpZmljYXRpb25TdGF0cy5ieVR5cGVbaXRlbS50eXBlXS51bnJlYWQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBieSBwcmlvcml0eVxuICAgICAgICBzdGF0LmJ5UHJpb3JpdHkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICBpZiAoIW5vdGlmaWNhdGlvblN0YXRzLmJ5UHJpb3JpdHlbaXRlbS5wcmlvcml0eV0pIHtcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvblN0YXRzLmJ5UHJpb3JpdHlbaXRlbS5wcmlvcml0eV0gPSB7IHRvdGFsOiAwLCB1bnJlYWQ6IDAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbm90aWZpY2F0aW9uU3RhdHMuYnlQcmlvcml0eVtpdGVtLnByaW9yaXR5XS50b3RhbCsrO1xuICAgICAgICAgIGlmICghaXRlbS5pc1JlYWQpIHtcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvblN0YXRzLmJ5UHJpb3JpdHlbaXRlbS5wcmlvcml0eV0udW5yZWFkKys7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvblN0YXRzO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBub3RpZmljYXRpb24gc3RhdHMnLCB7XG4gICAgICAgIGVycm9yOiBlcnIubWVzc2FnZSxcbiAgICAgICAgdXNlcklkXG4gICAgICB9KTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBOb3RpZmljYXRpb25TZXJ2aWNlOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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