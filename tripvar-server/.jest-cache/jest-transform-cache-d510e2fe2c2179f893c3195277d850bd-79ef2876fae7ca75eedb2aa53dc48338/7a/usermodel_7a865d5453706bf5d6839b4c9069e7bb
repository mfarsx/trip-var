832c8b2c6eda5b1af77eaa783578a31c
/* istanbul ignore next */
function cov_27wd9l9qu3() {
  var path = "/Users/mfarsx/dev/tripvar/tripvar-server/src/models/user.model.js";
  var hash = "86a0c45c3716a34aa5f9fc5a7dab050b1efa2b79";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/mfarsx/dev/tripvar/tripvar-server/src/models/user.model.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 17
        },
        end: {
          line: 1,
          column: 36
        }
      },
      "1": {
        start: {
          line: 2,
          column: 15
        },
        end: {
          line: 2,
          column: 34
        }
      },
      "2": {
        start: {
          line: 3,
          column: 12
        },
        end: {
          line: 3,
          column: 35
        }
      },
      "3": {
        start: {
          line: 6,
          column: 18
        },
        end: {
          line: 68,
          column: 46
        }
      },
      "4": {
        start: {
          line: 68,
          column: 17
        },
        end: {
          line: 68,
          column: 45
        }
      },
      "5": {
        start: {
          line: 70,
          column: 19
        },
        end: {
          line: 170,
          column: 2
        }
      },
      "6": {
        start: {
          line: 79,
          column: 8
        },
        end: {
          line: 79,
          column: 69
        }
      },
      "7": {
        start: {
          line: 81,
          column: 24
        },
        end: {
          line: 81,
          column: 62
        }
      },
      "8": {
        start: {
          line: 100,
          column: 8
        },
        end: {
          line: 102,
          column: 9
        }
      },
      "9": {
        start: {
          line: 101,
          column: 10
        },
        end: {
          line: 101,
          column: 22
        }
      },
      "10": {
        start: {
          line: 103,
          column: 22
        },
        end: {
          line: 103,
          column: 32
        }
      },
      "11": {
        start: {
          line: 104,
          column: 26
        },
        end: {
          line: 104,
          column: 37
        }
      },
      "12": {
        start: {
          line: 105,
          column: 20
        },
        end: {
          line: 105,
          column: 65
        }
      },
      "13": {
        start: {
          line: 106,
          column: 26
        },
        end: {
          line: 106,
          column: 65
        }
      },
      "14": {
        start: {
          line: 109,
          column: 28
        },
        end: {
          line: 111,
          column: 15
        }
      },
      "15": {
        start: {
          line: 113,
          column: 8
        },
        end: {
          line: 113,
          column: 33
        }
      },
      "16": {
        start: {
          line: 124,
          column: 8
        },
        end: {
          line: 126,
          column: 9
        }
      },
      "17": {
        start: {
          line: 125,
          column: 10
        },
        end: {
          line: 125,
          column: 22
        }
      },
      "18": {
        start: {
          line: 127,
          column: 8
        },
        end: {
          line: 127,
          column: 61
        }
      },
      "19": {
        start: {
          line: 127,
          column: 41
        },
        end: {
          line: 127,
          column: 59
        }
      },
      "20": {
        start: {
          line: 129,
          column: 24
        },
        end: {
          line: 129,
          column: 68
        }
      },
      "21": {
        start: {
          line: 159,
          column: 6
        },
        end: {
          line: 159,
          column: 26
        }
      },
      "22": {
        start: {
          line: 160,
          column: 6
        },
        end: {
          line: 160,
          column: 17
        }
      },
      "23": {
        start: {
          line: 166,
          column: 6
        },
        end: {
          line: 166,
          column: 26
        }
      },
      "24": {
        start: {
          line: 167,
          column: 6
        },
        end: {
          line: 167,
          column: 17
        }
      },
      "25": {
        start: {
          line: 173,
          column: 0
        },
        end: {
          line: 179,
          column: 3
        }
      },
      "26": {
        start: {
          line: 174,
          column: 2
        },
        end: {
          line: 176,
          column: 3
        }
      },
      "27": {
        start: {
          line: 175,
          column: 4
        },
        end: {
          line: 175,
          column: 18
        }
      },
      "28": {
        start: {
          line: 177,
          column: 2
        },
        end: {
          line: 177,
          column: 55
        }
      },
      "29": {
        start: {
          line: 178,
          column: 2
        },
        end: {
          line: 178,
          column: 9
        }
      },
      "30": {
        start: {
          line: 182,
          column: 0
        },
        end: {
          line: 184,
          column: 2
        }
      },
      "31": {
        start: {
          line: 183,
          column: 2
        },
        end: {
          line: 183,
          column: 64
        }
      },
      "32": {
        start: {
          line: 187,
          column: 0
        },
        end: {
          line: 193,
          column: 2
        }
      },
      "33": {
        start: {
          line: 188,
          column: 2
        },
        end: {
          line: 192,
          column: 4
        }
      },
      "34": {
        start: {
          line: 196,
          column: 0
        },
        end: {
          line: 202,
          column: 2
        }
      },
      "35": {
        start: {
          line: 197,
          column: 2
        },
        end: {
          line: 200,
          column: 3
        }
      },
      "36": {
        start: {
          line: 198,
          column: 29
        },
        end: {
          line: 198,
          column: 82
        }
      },
      "37": {
        start: {
          line: 199,
          column: 4
        },
        end: {
          line: 199,
          column: 43
        }
      },
      "38": {
        start: {
          line: 201,
          column: 2
        },
        end: {
          line: 201,
          column: 15
        }
      },
      "39": {
        start: {
          line: 205,
          column: 0
        },
        end: {
          line: 221,
          column: 3
        }
      },
      "40": {
        start: {
          line: 206,
          column: 2
        },
        end: {
          line: 208,
          column: 3
        }
      },
      "41": {
        start: {
          line: 207,
          column: 4
        },
        end: {
          line: 207,
          column: 16
        }
      },
      "42": {
        start: {
          line: 210,
          column: 16
        },
        end: {
          line: 210,
          column: 26
        }
      },
      "43": {
        start: {
          line: 211,
          column: 20
        },
        end: {
          line: 211,
          column: 46
        }
      },
      "44": {
        start: {
          line: 212,
          column: 12
        },
        end: {
          line: 212,
          column: 57
        }
      },
      "45": {
        start: {
          line: 213,
          column: 20
        },
        end: {
          line: 213,
          column: 59
        }
      },
      "46": {
        start: {
          line: 216,
          column: 2
        },
        end: {
          line: 218,
          column: 3
        }
      },
      "47": {
        start: {
          line: 217,
          column: 4
        },
        end: {
          line: 217,
          column: 10
        }
      },
      "48": {
        start: {
          line: 220,
          column: 2
        },
        end: {
          line: 220,
          column: 13
        }
      },
      "49": {
        start: {
          line: 223,
          column: 13
        },
        end: {
          line: 223,
          column: 47
        }
      },
      "50": {
        start: {
          line: 225,
          column: 0
        },
        end: {
          line: 225,
          column: 22
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 68,
            column: 7
          },
          end: {
            line: 68,
            column: 8
          }
        },
        loc: {
          start: {
            line: 68,
            column: 17
          },
          end: {
            line: 68,
            column: 45
          }
        },
        line: 68
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 78,
            column: 17
          },
          end: {
            line: 78,
            column: 18
          }
        },
        loc: {
          start: {
            line: 78,
            column: 29
          },
          end: {
            line: 80,
            column: 7
          }
        },
        line: 78
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 81,
            column: 15
          },
          end: {
            line: 81,
            column: 16
          }
        },
        loc: {
          start: {
            line: 81,
            column: 24
          },
          end: {
            line: 81,
            column: 62
          }
        },
        line: 81
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 99,
            column: 17
          },
          end: {
            line: 99,
            column: 18
          }
        },
        loc: {
          start: {
            line: 99,
            column: 29
          },
          end: {
            line: 114,
            column: 7
          }
        },
        line: 99
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 123,
            column: 17
          },
          end: {
            line: 123,
            column: 18
          }
        },
        loc: {
          start: {
            line: 123,
            column: 29
          },
          end: {
            line: 128,
            column: 7
          }
        },
        line: 123
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 127,
            column: 30
          },
          end: {
            line: 127,
            column: 31
          }
        },
        loc: {
          start: {
            line: 127,
            column: 41
          },
          end: {
            line: 127,
            column: 59
          }
        },
        line: 127
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 129,
            column: 15
          },
          end: {
            line: 129,
            column: 16
          }
        },
        loc: {
          start: {
            line: 129,
            column: 24
          },
          end: {
            line: 129,
            column: 68
          }
        },
        line: 129
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 158,
            column: 15
          },
          end: {
            line: 158,
            column: 16
          }
        },
        loc: {
          start: {
            line: 158,
            column: 34
          },
          end: {
            line: 161,
            column: 5
          }
        },
        line: 158
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 165,
            column: 15
          },
          end: {
            line: 165,
            column: 16
          }
        },
        loc: {
          start: {
            line: 165,
            column: 34
          },
          end: {
            line: 168,
            column: 5
          }
        },
        line: 165
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 173,
            column: 23
          },
          end: {
            line: 173,
            column: 24
          }
        },
        loc: {
          start: {
            line: 173,
            column: 44
          },
          end: {
            line: 179,
            column: 1
          }
        },
        line: 173
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 182,
            column: 37
          },
          end: {
            line: 182,
            column: 38
          }
        },
        loc: {
          start: {
            line: 182,
            column: 71
          },
          end: {
            line: 184,
            column: 1
          }
        },
        line: 182
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 187,
            column: 39
          },
          end: {
            line: 187,
            column: 40
          }
        },
        loc: {
          start: {
            line: 187,
            column: 50
          },
          end: {
            line: 193,
            column: 1
          }
        },
        line: 187
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 196,
            column: 42
          },
          end: {
            line: 196,
            column: 43
          }
        },
        loc: {
          start: {
            line: 196,
            column: 65
          },
          end: {
            line: 202,
            column: 1
          }
        },
        line: 196
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 205,
            column: 30
          },
          end: {
            line: 205,
            column: 31
          }
        },
        loc: {
          start: {
            line: 205,
            column: 41
          },
          end: {
            line: 221,
            column: 1
          }
        },
        line: 205
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 100,
            column: 8
          },
          end: {
            line: 102,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 100,
            column: 8
          },
          end: {
            line: 102,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 100
      },
      "1": {
        loc: {
          start: {
            line: 109,
            column: 28
          },
          end: {
            line: 111,
            column: 15
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 110,
            column: 12
          },
          end: {
            line: 110,
            column: 19
          }
        }, {
          start: {
            line: 111,
            column: 12
          },
          end: {
            line: 111,
            column: 15
          }
        }],
        line: 109
      },
      "2": {
        loc: {
          start: {
            line: 109,
            column: 28
          },
          end: {
            line: 109,
            column: 103
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 109,
            column: 28
          },
          end: {
            line: 109,
            column: 41
          }
        }, {
          start: {
            line: 109,
            column: 46
          },
          end: {
            line: 109,
            column: 61
          }
        }, {
          start: {
            line: 109,
            column: 65
          },
          end: {
            line: 109,
            column: 102
          }
        }],
        line: 109
      },
      "3": {
        loc: {
          start: {
            line: 124,
            column: 8
          },
          end: {
            line: 126,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 124,
            column: 8
          },
          end: {
            line: 126,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 124
      },
      "4": {
        loc: {
          start: {
            line: 174,
            column: 2
          },
          end: {
            line: 176,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 174,
            column: 2
          },
          end: {
            line: 176,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 174
      },
      "5": {
        loc: {
          start: {
            line: 197,
            column: 2
          },
          end: {
            line: 200,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 197,
            column: 2
          },
          end: {
            line: 200,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 197
      },
      "6": {
        loc: {
          start: {
            line: 206,
            column: 2
          },
          end: {
            line: 208,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 206,
            column: 2
          },
          end: {
            line: 208,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 206
      },
      "7": {
        loc: {
          start: {
            line: 216,
            column: 2
          },
          end: {
            line: 218,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 216,
            column: 2
          },
          end: {
            line: 218,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 216
      },
      "8": {
        loc: {
          start: {
            line: 216,
            column: 6
          },
          end: {
            line: 216,
            column: 81
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 216,
            column: 6
          },
          end: {
            line: 216,
            column: 19
          }
        }, {
          start: {
            line: 216,
            column: 24
          },
          end: {
            line: 216,
            column: 39
          }
        }, {
          start: {
            line: 216,
            column: 43
          },
          end: {
            line: 216,
            column: 80
          }
        }],
        line: 216
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "86a0c45c3716a34aa5f9fc5a7dab050b1efa2b79"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_27wd9l9qu3 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_27wd9l9qu3();
const mongoose =
/* istanbul ignore next */
(cov_27wd9l9qu3().s[0]++, require('mongoose'));
const bcrypt =
/* istanbul ignore next */
(cov_27wd9l9qu3().s[1]++, require('bcryptjs'));
const jwt =
/* istanbul ignore next */
(cov_27wd9l9qu3().s[2]++, require('jsonwebtoken'));

// List of countries with their codes for flag display
const COUNTRIES =
/* istanbul ignore next */
(cov_27wd9l9qu3().s[3]++, [{
  name: 'Afghanistan',
  code: 'AF'
}, {
  name: 'Albania',
  code: 'AL'
}, {
  name: 'Algeria',
  code: 'DZ'
}, {
  name: 'Andorra',
  code: 'AD'
}, {
  name: 'Angola',
  code: 'AO'
}, {
  name: 'Argentina',
  code: 'AR'
}, {
  name: 'Australia',
  code: 'AU'
}, {
  name: 'Austria',
  code: 'AT'
}, {
  name: 'Azerbaijan',
  code: 'AZ'
}, {
  name: 'Bahamas',
  code: 'BS'
}, {
  name: 'Bahrain',
  code: 'BH'
}, {
  name: 'Bangladesh',
  code: 'BD'
}, {
  name: 'Belgium',
  code: 'BE'
}, {
  name: 'Brazil',
  code: 'BR'
}, {
  name: 'Canada',
  code: 'CA'
}, {
  name: 'China',
  code: 'CN'
}, {
  name: 'Denmark',
  code: 'DK'
}, {
  name: 'Egypt',
  code: 'EG'
}, {
  name: 'Finland',
  code: 'FI'
}, {
  name: 'France',
  code: 'FR'
}, {
  name: 'Germany',
  code: 'DE'
}, {
  name: 'Greece',
  code: 'GR'
}, {
  name: 'Hong Kong',
  code: 'HK'
}, {
  name: 'Iceland',
  code: 'IS'
}, {
  name: 'India',
  code: 'IN'
}, {
  name: 'Indonesia',
  code: 'ID'
}, {
  name: 'Iran',
  code: 'IR'
}, {
  name: 'Iraq',
  code: 'IQ'
}, {
  name: 'Ireland',
  code: 'IE'
}, {
  name: 'Israel',
  code: 'IL'
}, {
  name: 'Italy',
  code: 'IT'
}, {
  name: 'Japan',
  code: 'JP'
}, {
  name: 'Kazakhstan',
  code: 'KZ'
}, {
  name: 'Kenya',
  code: 'KE'
}, {
  name: 'Kuwait',
  code: 'KW'
}, {
  name: 'Malaysia',
  code: 'MY'
}, {
  name: 'Mexico',
  code: 'MX'
}, {
  name: 'Netherlands',
  code: 'NL'
}, {
  name: 'New Zealand',
  code: 'NZ'
}, {
  name: 'Norway',
  code: 'NO'
}, {
  name: 'Pakistan',
  code: 'PK'
}, {
  name: 'Philippines',
  code: 'PH'
}, {
  name: 'Poland',
  code: 'PL'
}, {
  name: 'Portugal',
  code: 'PT'
}, {
  name: 'Qatar',
  code: 'QA'
}, {
  name: 'Russia',
  code: 'RU'
}, {
  name: 'Saudi Arabia',
  code: 'SA'
}, {
  name: 'Singapore',
  code: 'SG'
}, {
  name: 'South Africa',
  code: 'ZA'
}, {
  name: 'South Korea',
  code: 'KR'
}, {
  name: 'Spain',
  code: 'ES'
}, {
  name: 'Sweden',
  code: 'SE'
}, {
  name: 'Switzerland',
  code: 'CH'
}, {
  name: 'Taiwan',
  code: 'TW'
}, {
  name: 'Thailand',
  code: 'TH'
}, {
  name: 'Turkey',
  code: 'TR'
}, {
  name: 'Ukraine',
  code: 'UA'
}, {
  name: 'United Arab Emirates',
  code: 'AE'
}, {
  name: 'United Kingdom',
  code: 'GB'
}, {
  name: 'United States',
  code: 'US'
}, {
  name: 'Vietnam',
  code: 'VN'
}].sort((a, b) => {
  /* istanbul ignore next */
  cov_27wd9l9qu3().f[0]++;
  cov_27wd9l9qu3().s[4]++;
  return a.name.localeCompare(b.name);
}));
const userSchema =
/* istanbul ignore next */
(cov_27wd9l9qu3().s[5]++, new mongoose.Schema({
  email: {
    type: String,
    required: [true, 'Email is required'],
    unique: true,
    lowercase: true,
    trim: true,
    validate: {
      validator: function (v) {
        /* istanbul ignore next */
        cov_27wd9l9qu3().f[1]++;
        cov_27wd9l9qu3().s[6]++;
        return /^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(v);
      },
      message: props => {
        /* istanbul ignore next */
        cov_27wd9l9qu3().f[2]++;
        cov_27wd9l9qu3().s[7]++;
        return `${props.value} is not a valid email!`;
      }
    }
  },
  password: {
    type: String,
    required: [true, 'Password is required'],
    minlength: [6, 'Password must be at least 6 characters long'],
    select: false
  },
  name: {
    type: String,
    required: [true, 'Name is required'],
    trim: true
  },
  dateOfBirth: {
    type: Date,
    required: false,
    validate: {
      validator: function (v) {
        /* istanbul ignore next */
        cov_27wd9l9qu3().f[3]++;
        cov_27wd9l9qu3().s[8]++;
        if (!v) {
          /* istanbul ignore next */
          cov_27wd9l9qu3().b[0][0]++;
          cov_27wd9l9qu3().s[9]++;
          return true;
        } else
        /* istanbul ignore next */
        {
          cov_27wd9l9qu3().b[0][1]++;
        } // Allow empty value
        const today =
        /* istanbul ignore next */
        (cov_27wd9l9qu3().s[10]++, new Date());
        const birthDate =
        /* istanbul ignore next */
        (cov_27wd9l9qu3().s[11]++, new Date(v));
        const age =
        /* istanbul ignore next */
        (cov_27wd9l9qu3().s[12]++, today.getFullYear() - birthDate.getFullYear());
        const monthDiff =
        /* istanbul ignore next */
        (cov_27wd9l9qu3().s[13]++, today.getMonth() - birthDate.getMonth());

        // Calculate actual age considering month and day
        const isOldEnough =
        /* istanbul ignore next */
        (cov_27wd9l9qu3().s[14]++,
        /* istanbul ignore next */
        (cov_27wd9l9qu3().b[2][0]++, monthDiff < 0) ||
        /* istanbul ignore next */
        (cov_27wd9l9qu3().b[2][1]++, monthDiff === 0) &&
        /* istanbul ignore next */
        (cov_27wd9l9qu3().b[2][2]++, today.getDate() < birthDate.getDate()) ?
        /* istanbul ignore next */
        (cov_27wd9l9qu3().b[1][0]++, age - 1) :
        /* istanbul ignore next */
        (cov_27wd9l9qu3().b[1][1]++, age));
        /* istanbul ignore next */
        cov_27wd9l9qu3().s[15]++;
        return isOldEnough >= 20; // Minimum age requirement updated to 20
      },
      message: 'User must be at least 20 years old'
    }
  },
  nationality: {
    type: String,
    required: false,
    trim: true,
    validate: {
      validator: function (v) {
        /* istanbul ignore next */
        cov_27wd9l9qu3().f[4]++;
        cov_27wd9l9qu3().s[16]++;
        if (!v) {
          /* istanbul ignore next */
          cov_27wd9l9qu3().b[3][0]++;
          cov_27wd9l9qu3().s[17]++;
          return true;
        } else
        /* istanbul ignore next */
        {
          cov_27wd9l9qu3().b[3][1]++;
        } // Allow empty value
        cov_27wd9l9qu3().s[18]++;
        return COUNTRIES.some(country => {
          /* istanbul ignore next */
          cov_27wd9l9qu3().f[5]++;
          cov_27wd9l9qu3().s[19]++;
          return country.name === v;
        });
      },
      message: props => {
        /* istanbul ignore next */
        cov_27wd9l9qu3().f[6]++;
        cov_27wd9l9qu3().s[20]++;
        return `${props.value} is not a valid country name`;
      }
    }
  },
  role: {
    type: String,
    enum: ['user', 'admin'],
    default: 'user'
  },
  favorites: {
    type: [mongoose.Schema.Types.ObjectId],
    ref: 'Destination',
    default: []
  },
  createdAt: {
    type: Date,
    default: Date.now
  },
  passwordChangedAt: Date,
  passwordResetToken: String,
  passwordResetExpires: Date,
  active: {
    type: Boolean,
    default: true,
    select: true
  }
}, {
  timestamps: true,
  toJSON: {
    virtuals: true,
    transform: function (doc, ret) {
      /* istanbul ignore next */
      cov_27wd9l9qu3().f[7]++;
      cov_27wd9l9qu3().s[21]++;
      delete ret.password; // Always remove password
      /* istanbul ignore next */
      cov_27wd9l9qu3().s[22]++;
      return ret;
    }
  },
  toObject: {
    virtuals: true,
    transform: function (doc, ret) {
      /* istanbul ignore next */
      cov_27wd9l9qu3().f[8]++;
      cov_27wd9l9qu3().s[23]++;
      delete ret.password; // Always remove password
      /* istanbul ignore next */
      cov_27wd9l9qu3().s[24]++;
      return ret;
    }
  }
}));

// Hash password before saving
/* istanbul ignore next */
cov_27wd9l9qu3().s[25]++;
userSchema.pre('save', async function (next) {
  /* istanbul ignore next */
  cov_27wd9l9qu3().f[9]++;
  cov_27wd9l9qu3().s[26]++;
  if (!this.isModified('password')) {
    /* istanbul ignore next */
    cov_27wd9l9qu3().b[4][0]++;
    cov_27wd9l9qu3().s[27]++;
    return next();
  } else
  /* istanbul ignore next */
  {
    cov_27wd9l9qu3().b[4][1]++;
  }
  cov_27wd9l9qu3().s[28]++;
  this.password = await bcrypt.hash(this.password, 12);
  /* istanbul ignore next */
  cov_27wd9l9qu3().s[29]++;
  next();
});

// Compare password method
/* istanbul ignore next */
cov_27wd9l9qu3().s[30]++;
userSchema.methods.comparePassword = async function (candidatePassword) {
  /* istanbul ignore next */
  cov_27wd9l9qu3().f[10]++;
  cov_27wd9l9qu3().s[31]++;
  return await bcrypt.compare(candidatePassword, this.password);
};

// Generate JWT token
/* istanbul ignore next */
cov_27wd9l9qu3().s[32]++;
userSchema.methods.generateAuthToken = function () {
  /* istanbul ignore next */
  cov_27wd9l9qu3().f[11]++;
  cov_27wd9l9qu3().s[33]++;
  return jwt.sign({
    id: this._id,
    role: this.role
  }, process.env.JWT_SECRET, {
    expiresIn: process.env.JWT_EXPIRES_IN
  });
};

// Check if password was changed after token was issued
/* istanbul ignore next */
cov_27wd9l9qu3().s[34]++;
userSchema.methods.changedPasswordAfter = function (JWTTimestamp) {
  /* istanbul ignore next */
  cov_27wd9l9qu3().f[12]++;
  cov_27wd9l9qu3().s[35]++;
  if (this.passwordChangedAt) {
    /* istanbul ignore next */
    cov_27wd9l9qu3().b[5][0]++;
    const changedTimestamp =
    /* istanbul ignore next */
    (cov_27wd9l9qu3().s[36]++, parseInt(this.passwordChangedAt.getTime() / 1000, 10));
    /* istanbul ignore next */
    cov_27wd9l9qu3().s[37]++;
    return JWTTimestamp < changedTimestamp;
  } else
  /* istanbul ignore next */
  {
    cov_27wd9l9qu3().b[5][1]++;
  }
  cov_27wd9l9qu3().s[38]++;
  return false;
};

// Virtual field for age
/* istanbul ignore next */
cov_27wd9l9qu3().s[39]++;
userSchema.virtual('age').get(function () {
  /* istanbul ignore next */
  cov_27wd9l9qu3().f[13]++;
  cov_27wd9l9qu3().s[40]++;
  if (!this.dateOfBirth) {
    /* istanbul ignore next */
    cov_27wd9l9qu3().b[6][0]++;
    cov_27wd9l9qu3().s[41]++;
    return null;
  } else
  /* istanbul ignore next */
  {
    cov_27wd9l9qu3().b[6][1]++;
  }
  const today =
  /* istanbul ignore next */
  (cov_27wd9l9qu3().s[42]++, new Date());
  const birthDate =
  /* istanbul ignore next */
  (cov_27wd9l9qu3().s[43]++, new Date(this.dateOfBirth));
  let age =
  /* istanbul ignore next */
  (cov_27wd9l9qu3().s[44]++, today.getFullYear() - birthDate.getFullYear());
  const monthDiff =
  /* istanbul ignore next */
  (cov_27wd9l9qu3().s[45]++, today.getMonth() - birthDate.getMonth());

  // Adjust age if birthday hasn't occurred this year
  /* istanbul ignore next */
  cov_27wd9l9qu3().s[46]++;
  if (
  /* istanbul ignore next */
  (cov_27wd9l9qu3().b[8][0]++, monthDiff < 0) ||
  /* istanbul ignore next */
  (cov_27wd9l9qu3().b[8][1]++, monthDiff === 0) &&
  /* istanbul ignore next */
  (cov_27wd9l9qu3().b[8][2]++, today.getDate() < birthDate.getDate())) {
    /* istanbul ignore next */
    cov_27wd9l9qu3().b[7][0]++;
    cov_27wd9l9qu3().s[47]++;
    age--;
  } else
  /* istanbul ignore next */
  {
    cov_27wd9l9qu3().b[7][1]++;
  }
  cov_27wd9l9qu3().s[48]++;
  return age;
});
const User =
/* istanbul ignore next */
(cov_27wd9l9qu3().s[49]++, mongoose.model('User', userSchema));
/* istanbul ignore next */
cov_27wd9l9qu3().s[50]++;
module.exports = User;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjd3ZDlsOXF1MyIsImFjdHVhbENvdmVyYWdlIiwibW9uZ29vc2UiLCJzIiwicmVxdWlyZSIsImJjcnlwdCIsImp3dCIsIkNPVU5UUklFUyIsIm5hbWUiLCJjb2RlIiwic29ydCIsImEiLCJiIiwiZiIsImxvY2FsZUNvbXBhcmUiLCJ1c2VyU2NoZW1hIiwiU2NoZW1hIiwiZW1haWwiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJsb3dlcmNhc2UiLCJ0cmltIiwidmFsaWRhdGUiLCJ2YWxpZGF0b3IiLCJ2IiwidGVzdCIsIm1lc3NhZ2UiLCJwcm9wcyIsInZhbHVlIiwicGFzc3dvcmQiLCJtaW5sZW5ndGgiLCJzZWxlY3QiLCJkYXRlT2ZCaXJ0aCIsIkRhdGUiLCJ0b2RheSIsImJpcnRoRGF0ZSIsImFnZSIsImdldEZ1bGxZZWFyIiwibW9udGhEaWZmIiwiZ2V0TW9udGgiLCJpc09sZEVub3VnaCIsImdldERhdGUiLCJuYXRpb25hbGl0eSIsInNvbWUiLCJjb3VudHJ5Iiwicm9sZSIsImVudW0iLCJkZWZhdWx0IiwiZmF2b3JpdGVzIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsImNyZWF0ZWRBdCIsIm5vdyIsInBhc3N3b3JkQ2hhbmdlZEF0IiwicGFzc3dvcmRSZXNldFRva2VuIiwicGFzc3dvcmRSZXNldEV4cGlyZXMiLCJhY3RpdmUiLCJCb29sZWFuIiwidGltZXN0YW1wcyIsInRvSlNPTiIsInZpcnR1YWxzIiwidHJhbnNmb3JtIiwiZG9jIiwicmV0IiwidG9PYmplY3QiLCJwcmUiLCJuZXh0IiwiaXNNb2RpZmllZCIsImhhc2giLCJtZXRob2RzIiwiY29tcGFyZVBhc3N3b3JkIiwiY2FuZGlkYXRlUGFzc3dvcmQiLCJjb21wYXJlIiwiZ2VuZXJhdGVBdXRoVG9rZW4iLCJzaWduIiwiaWQiLCJfaWQiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsIkpXVF9FWFBJUkVTX0lOIiwiY2hhbmdlZFBhc3N3b3JkQWZ0ZXIiLCJKV1RUaW1lc3RhbXAiLCJjaGFuZ2VkVGltZXN0YW1wIiwicGFyc2VJbnQiLCJnZXRUaW1lIiwidmlydHVhbCIsImdldCIsIlVzZXIiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJ1c2VyLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJyk7XG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcblxuLy8gTGlzdCBvZiBjb3VudHJpZXMgd2l0aCB0aGVpciBjb2RlcyBmb3IgZmxhZyBkaXNwbGF5XG5jb25zdCBDT1VOVFJJRVMgPSBbXG4gIHsgbmFtZTogJ0FmZ2hhbmlzdGFuJywgY29kZTogJ0FGJyB9LFxuICB7IG5hbWU6ICdBbGJhbmlhJywgY29kZTogJ0FMJyB9LFxuICB7IG5hbWU6ICdBbGdlcmlhJywgY29kZTogJ0RaJyB9LFxuICB7IG5hbWU6ICdBbmRvcnJhJywgY29kZTogJ0FEJyB9LFxuICB7IG5hbWU6ICdBbmdvbGEnLCBjb2RlOiAnQU8nIH0sXG4gIHsgbmFtZTogJ0FyZ2VudGluYScsIGNvZGU6ICdBUicgfSxcbiAgeyBuYW1lOiAnQXVzdHJhbGlhJywgY29kZTogJ0FVJyB9LFxuICB7IG5hbWU6ICdBdXN0cmlhJywgY29kZTogJ0FUJyB9LFxuICB7IG5hbWU6ICdBemVyYmFpamFuJywgY29kZTogJ0FaJyB9LFxuICB7IG5hbWU6ICdCYWhhbWFzJywgY29kZTogJ0JTJyB9LFxuICB7IG5hbWU6ICdCYWhyYWluJywgY29kZTogJ0JIJyB9LFxuICB7IG5hbWU6ICdCYW5nbGFkZXNoJywgY29kZTogJ0JEJyB9LFxuICB7IG5hbWU6ICdCZWxnaXVtJywgY29kZTogJ0JFJyB9LFxuICB7IG5hbWU6ICdCcmF6aWwnLCBjb2RlOiAnQlInIH0sXG4gIHsgbmFtZTogJ0NhbmFkYScsIGNvZGU6ICdDQScgfSxcbiAgeyBuYW1lOiAnQ2hpbmEnLCBjb2RlOiAnQ04nIH0sXG4gIHsgbmFtZTogJ0Rlbm1hcmsnLCBjb2RlOiAnREsnIH0sXG4gIHsgbmFtZTogJ0VneXB0JywgY29kZTogJ0VHJyB9LFxuICB7IG5hbWU6ICdGaW5sYW5kJywgY29kZTogJ0ZJJyB9LFxuICB7IG5hbWU6ICdGcmFuY2UnLCBjb2RlOiAnRlInIH0sXG4gIHsgbmFtZTogJ0dlcm1hbnknLCBjb2RlOiAnREUnIH0sXG4gIHsgbmFtZTogJ0dyZWVjZScsIGNvZGU6ICdHUicgfSxcbiAgeyBuYW1lOiAnSG9uZyBLb25nJywgY29kZTogJ0hLJyB9LFxuICB7IG5hbWU6ICdJY2VsYW5kJywgY29kZTogJ0lTJyB9LFxuICB7IG5hbWU6ICdJbmRpYScsIGNvZGU6ICdJTicgfSxcbiAgeyBuYW1lOiAnSW5kb25lc2lhJywgY29kZTogJ0lEJyB9LFxuICB7IG5hbWU6ICdJcmFuJywgY29kZTogJ0lSJyB9LFxuICB7IG5hbWU6ICdJcmFxJywgY29kZTogJ0lRJyB9LFxuICB7IG5hbWU6ICdJcmVsYW5kJywgY29kZTogJ0lFJyB9LFxuICB7IG5hbWU6ICdJc3JhZWwnLCBjb2RlOiAnSUwnIH0sXG4gIHsgbmFtZTogJ0l0YWx5JywgY29kZTogJ0lUJyB9LFxuICB7IG5hbWU6ICdKYXBhbicsIGNvZGU6ICdKUCcgfSxcbiAgeyBuYW1lOiAnS2F6YWtoc3RhbicsIGNvZGU6ICdLWicgfSxcbiAgeyBuYW1lOiAnS2VueWEnLCBjb2RlOiAnS0UnIH0sXG4gIHsgbmFtZTogJ0t1d2FpdCcsIGNvZGU6ICdLVycgfSxcbiAgeyBuYW1lOiAnTWFsYXlzaWEnLCBjb2RlOiAnTVknIH0sXG4gIHsgbmFtZTogJ01leGljbycsIGNvZGU6ICdNWCcgfSxcbiAgeyBuYW1lOiAnTmV0aGVybGFuZHMnLCBjb2RlOiAnTkwnIH0sXG4gIHsgbmFtZTogJ05ldyBaZWFsYW5kJywgY29kZTogJ05aJyB9LFxuICB7IG5hbWU6ICdOb3J3YXknLCBjb2RlOiAnTk8nIH0sXG4gIHsgbmFtZTogJ1Bha2lzdGFuJywgY29kZTogJ1BLJyB9LFxuICB7IG5hbWU6ICdQaGlsaXBwaW5lcycsIGNvZGU6ICdQSCcgfSxcbiAgeyBuYW1lOiAnUG9sYW5kJywgY29kZTogJ1BMJyB9LFxuICB7IG5hbWU6ICdQb3J0dWdhbCcsIGNvZGU6ICdQVCcgfSxcbiAgeyBuYW1lOiAnUWF0YXInLCBjb2RlOiAnUUEnIH0sXG4gIHsgbmFtZTogJ1J1c3NpYScsIGNvZGU6ICdSVScgfSxcbiAgeyBuYW1lOiAnU2F1ZGkgQXJhYmlhJywgY29kZTogJ1NBJyB9LFxuICB7IG5hbWU6ICdTaW5nYXBvcmUnLCBjb2RlOiAnU0cnIH0sXG4gIHsgbmFtZTogJ1NvdXRoIEFmcmljYScsIGNvZGU6ICdaQScgfSxcbiAgeyBuYW1lOiAnU291dGggS29yZWEnLCBjb2RlOiAnS1InIH0sXG4gIHsgbmFtZTogJ1NwYWluJywgY29kZTogJ0VTJyB9LFxuICB7IG5hbWU6ICdTd2VkZW4nLCBjb2RlOiAnU0UnIH0sXG4gIHsgbmFtZTogJ1N3aXR6ZXJsYW5kJywgY29kZTogJ0NIJyB9LFxuICB7IG5hbWU6ICdUYWl3YW4nLCBjb2RlOiAnVFcnIH0sXG4gIHsgbmFtZTogJ1RoYWlsYW5kJywgY29kZTogJ1RIJyB9LFxuICB7IG5hbWU6ICdUdXJrZXknLCBjb2RlOiAnVFInIH0sXG4gIHsgbmFtZTogJ1VrcmFpbmUnLCBjb2RlOiAnVUEnIH0sXG4gIHsgbmFtZTogJ1VuaXRlZCBBcmFiIEVtaXJhdGVzJywgY29kZTogJ0FFJyB9LFxuICB7IG5hbWU6ICdVbml0ZWQgS2luZ2RvbScsIGNvZGU6ICdHQicgfSxcbiAgeyBuYW1lOiAnVW5pdGVkIFN0YXRlcycsIGNvZGU6ICdVUycgfSxcbiAgeyBuYW1lOiAnVmlldG5hbScsIGNvZGU6ICdWTicgfVxuXS5zb3J0KChhLCBiKSA9PiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKTtcblxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogW3RydWUsICdFbWFpbCBpcyByZXF1aXJlZCddLFxuICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICBsb3dlcmNhc2U6IHRydWUsXG4gICAgdHJpbTogdHJ1ZSxcbiAgICB2YWxpZGF0ZToge1xuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih2KSB7XG4gICAgICAgIHJldHVybiAvXlxcdysoWy4tXT9cXHcrKSpAXFx3KyhbLi1dP1xcdyspKihcXC5cXHd7MiwzfSkrJC8udGVzdCh2KTtcbiAgICAgIH0sXG4gICAgICBtZXNzYWdlOiBwcm9wcyA9PiBgJHtwcm9wcy52YWx1ZX0gaXMgbm90IGEgdmFsaWQgZW1haWwhYFxuICAgIH1cbiAgfSxcbiAgcGFzc3dvcmQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnUGFzc3dvcmQgaXMgcmVxdWlyZWQnXSxcbiAgICBtaW5sZW5ndGg6IFs2LCAnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA2IGNoYXJhY3RlcnMgbG9uZyddLFxuICAgIHNlbGVjdDogZmFsc2VcbiAgfSxcbiAgbmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogW3RydWUsICdOYW1lIGlzIHJlcXVpcmVkJ10sXG4gICAgdHJpbTogdHJ1ZVxuICB9LFxuICBkYXRlT2ZCaXJ0aDoge1xuICAgIHR5cGU6IERhdGUsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIHZhbGlkYXRlOiB7XG4gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgaWYgKCF2KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gLy8gQWxsb3cgZW1wdHkgdmFsdWVcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBiaXJ0aERhdGUgPSBuZXcgRGF0ZSh2KTtcbiAgICAgICAgY29uc3QgYWdlID0gdG9kYXkuZ2V0RnVsbFllYXIoKSAtIGJpcnRoRGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICBjb25zdCBtb250aERpZmYgPSB0b2RheS5nZXRNb250aCgpIC0gYmlydGhEYXRlLmdldE1vbnRoKCk7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIGFjdHVhbCBhZ2UgY29uc2lkZXJpbmcgbW9udGggYW5kIGRheVxuICAgICAgICBjb25zdCBpc09sZEVub3VnaCA9IG1vbnRoRGlmZiA8IDAgfHwgKG1vbnRoRGlmZiA9PT0gMCAmJiB0b2RheS5nZXREYXRlKCkgPCBiaXJ0aERhdGUuZ2V0RGF0ZSgpKVxuICAgICAgICAgID8gYWdlIC0gMVxuICAgICAgICAgIDogYWdlO1xuXG4gICAgICAgIHJldHVybiBpc09sZEVub3VnaCA+PSAyMDsgLy8gTWluaW11bSBhZ2UgcmVxdWlyZW1lbnQgdXBkYXRlZCB0byAyMFxuICAgICAgfSxcbiAgICAgIG1lc3NhZ2U6ICdVc2VyIG11c3QgYmUgYXQgbGVhc3QgMjAgeWVhcnMgb2xkJ1xuICAgIH1cbiAgfSxcbiAgbmF0aW9uYWxpdHk6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIHRyaW06IHRydWUsXG4gICAgdmFsaWRhdGU6IHtcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24odikge1xuICAgICAgICBpZiAoIXYpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSAvLyBBbGxvdyBlbXB0eSB2YWx1ZVxuICAgICAgICByZXR1cm4gQ09VTlRSSUVTLnNvbWUoY291bnRyeSA9PiBjb3VudHJ5Lm5hbWUgPT09IHYpO1xuICAgICAgfSxcbiAgICAgIG1lc3NhZ2U6IHByb3BzID0+IGAke3Byb3BzLnZhbHVlfSBpcyBub3QgYSB2YWxpZCBjb3VudHJ5IG5hbWVgXG4gICAgfVxuICB9LFxuICByb2xlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGVudW06IFsndXNlcicsICdhZG1pbiddLFxuICAgIGRlZmF1bHQ6ICd1c2VyJ1xuICB9LFxuICBmYXZvcml0ZXM6IHtcbiAgICB0eXBlOiBbbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkXSxcbiAgICByZWY6ICdEZXN0aW5hdGlvbicsXG4gICAgZGVmYXVsdDogW11cbiAgfSxcbiAgY3JlYXRlZEF0OiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0OiBEYXRlLm5vd1xuICB9LFxuICBwYXNzd29yZENoYW5nZWRBdDogRGF0ZSxcbiAgcGFzc3dvcmRSZXNldFRva2VuOiBTdHJpbmcsXG4gIHBhc3N3b3JkUmVzZXRFeHBpcmVzOiBEYXRlLFxuICBhY3RpdmU6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWUsXG4gICAgc2VsZWN0OiB0cnVlXG4gIH1cbn0sIHtcbiAgdGltZXN0YW1wczogdHJ1ZSxcbiAgdG9KU09OOiB7XG4gICAgdmlydHVhbHM6IHRydWUsXG4gICAgdHJhbnNmb3JtOiBmdW5jdGlvbihkb2MsIHJldCkge1xuICAgICAgZGVsZXRlIHJldC5wYXNzd29yZDsgLy8gQWx3YXlzIHJlbW92ZSBwYXNzd29yZFxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH0sXG4gIHRvT2JqZWN0OiB7XG4gICAgdmlydHVhbHM6IHRydWUsXG4gICAgdHJhbnNmb3JtOiBmdW5jdGlvbihkb2MsIHJldCkge1xuICAgICAgZGVsZXRlIHJldC5wYXNzd29yZDsgLy8gQWx3YXlzIHJlbW92ZSBwYXNzd29yZFxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH1cbn0pO1xuXG4vLyBIYXNoIHBhc3N3b3JkIGJlZm9yZSBzYXZpbmdcbnVzZXJTY2hlbWEucHJlKCdzYXZlJywgYXN5bmMgZnVuY3Rpb24obmV4dCkge1xuICBpZiAoIXRoaXMuaXNNb2RpZmllZCgncGFzc3dvcmQnKSkge1xuICAgIHJldHVybiBuZXh0KCk7XG4gIH1cbiAgdGhpcy5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHRoaXMucGFzc3dvcmQsIDEyKTtcbiAgbmV4dCgpO1xufSk7XG5cbi8vIENvbXBhcmUgcGFzc3dvcmQgbWV0aG9kXG51c2VyU2NoZW1hLm1ldGhvZHMuY29tcGFyZVBhc3N3b3JkID0gYXN5bmMgZnVuY3Rpb24oY2FuZGlkYXRlUGFzc3dvcmQpIHtcbiAgcmV0dXJuIGF3YWl0IGJjcnlwdC5jb21wYXJlKGNhbmRpZGF0ZVBhc3N3b3JkLCB0aGlzLnBhc3N3b3JkKTtcbn07XG5cbi8vIEdlbmVyYXRlIEpXVCB0b2tlblxudXNlclNjaGVtYS5tZXRob2RzLmdlbmVyYXRlQXV0aFRva2VuID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBqd3Quc2lnbihcbiAgICB7IGlkOiB0aGlzLl9pZCwgcm9sZTogdGhpcy5yb2xlIH0sXG4gICAgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCxcbiAgICB7IGV4cGlyZXNJbjogcHJvY2Vzcy5lbnYuSldUX0VYUElSRVNfSU4gfVxuICApO1xufTtcblxuLy8gQ2hlY2sgaWYgcGFzc3dvcmQgd2FzIGNoYW5nZWQgYWZ0ZXIgdG9rZW4gd2FzIGlzc3VlZFxudXNlclNjaGVtYS5tZXRob2RzLmNoYW5nZWRQYXNzd29yZEFmdGVyID0gZnVuY3Rpb24oSldUVGltZXN0YW1wKSB7XG4gIGlmICh0aGlzLnBhc3N3b3JkQ2hhbmdlZEF0KSB7XG4gICAgY29uc3QgY2hhbmdlZFRpbWVzdGFtcCA9IHBhcnNlSW50KHRoaXMucGFzc3dvcmRDaGFuZ2VkQXQuZ2V0VGltZSgpIC8gMTAwMCwgMTApO1xuICAgIHJldHVybiBKV1RUaW1lc3RhbXAgPCBjaGFuZ2VkVGltZXN0YW1wO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8vIFZpcnR1YWwgZmllbGQgZm9yIGFnZVxudXNlclNjaGVtYS52aXJ0dWFsKCdhZ2UnKS5nZXQoZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5kYXRlT2ZCaXJ0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICBjb25zdCBiaXJ0aERhdGUgPSBuZXcgRGF0ZSh0aGlzLmRhdGVPZkJpcnRoKTtcbiAgbGV0IGFnZSA9IHRvZGF5LmdldEZ1bGxZZWFyKCkgLSBiaXJ0aERhdGUuZ2V0RnVsbFllYXIoKTtcbiAgY29uc3QgbW9udGhEaWZmID0gdG9kYXkuZ2V0TW9udGgoKSAtIGJpcnRoRGF0ZS5nZXRNb250aCgpO1xuXG4gIC8vIEFkanVzdCBhZ2UgaWYgYmlydGhkYXkgaGFzbid0IG9jY3VycmVkIHRoaXMgeWVhclxuICBpZiAobW9udGhEaWZmIDwgMCB8fCAobW9udGhEaWZmID09PSAwICYmIHRvZGF5LmdldERhdGUoKSA8IGJpcnRoRGF0ZS5nZXREYXRlKCkpKSB7XG4gICAgYWdlLS07XG4gIH1cblxuICByZXR1cm4gYWdlO1xufSk7XG5cbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFVzZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTtJQUFBQSxjQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxjQUFBO0FBZlosTUFBTUUsUUFBUTtBQUFBO0FBQUEsQ0FBQUYsY0FBQSxHQUFBRyxDQUFBLE9BQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDcEMsTUFBTUMsTUFBTTtBQUFBO0FBQUEsQ0FBQUwsY0FBQSxHQUFBRyxDQUFBLE9BQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDbEMsTUFBTUUsR0FBRztBQUFBO0FBQUEsQ0FBQU4sY0FBQSxHQUFBRyxDQUFBLE9BQUdDLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0FBRW5DO0FBQ0EsTUFBTUcsU0FBUztBQUFBO0FBQUEsQ0FBQVAsY0FBQSxHQUFBRyxDQUFBLE9BQUcsQ0FDaEI7RUFBRUssSUFBSSxFQUFFLGFBQWE7RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUNuQztFQUFFRCxJQUFJLEVBQUUsU0FBUztFQUFFQyxJQUFJLEVBQUU7QUFBSyxDQUFDLEVBQy9CO0VBQUVELElBQUksRUFBRSxTQUFTO0VBQUVDLElBQUksRUFBRTtBQUFLLENBQUMsRUFDL0I7RUFBRUQsSUFBSSxFQUFFLFNBQVM7RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUMvQjtFQUFFRCxJQUFJLEVBQUUsUUFBUTtFQUFFQyxJQUFJLEVBQUU7QUFBSyxDQUFDLEVBQzlCO0VBQUVELElBQUksRUFBRSxXQUFXO0VBQUVDLElBQUksRUFBRTtBQUFLLENBQUMsRUFDakM7RUFBRUQsSUFBSSxFQUFFLFdBQVc7RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUNqQztFQUFFRCxJQUFJLEVBQUUsU0FBUztFQUFFQyxJQUFJLEVBQUU7QUFBSyxDQUFDLEVBQy9CO0VBQUVELElBQUksRUFBRSxZQUFZO0VBQUVDLElBQUksRUFBRTtBQUFLLENBQUMsRUFDbEM7RUFBRUQsSUFBSSxFQUFFLFNBQVM7RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUMvQjtFQUFFRCxJQUFJLEVBQUUsU0FBUztFQUFFQyxJQUFJLEVBQUU7QUFBSyxDQUFDLEVBQy9CO0VBQUVELElBQUksRUFBRSxZQUFZO0VBQUVDLElBQUksRUFBRTtBQUFLLENBQUMsRUFDbEM7RUFBRUQsSUFBSSxFQUFFLFNBQVM7RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUMvQjtFQUFFRCxJQUFJLEVBQUUsUUFBUTtFQUFFQyxJQUFJLEVBQUU7QUFBSyxDQUFDLEVBQzlCO0VBQUVELElBQUksRUFBRSxRQUFRO0VBQUVDLElBQUksRUFBRTtBQUFLLENBQUMsRUFDOUI7RUFBRUQsSUFBSSxFQUFFLE9BQU87RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUM3QjtFQUFFRCxJQUFJLEVBQUUsU0FBUztFQUFFQyxJQUFJLEVBQUU7QUFBSyxDQUFDLEVBQy9CO0VBQUVELElBQUksRUFBRSxPQUFPO0VBQUVDLElBQUksRUFBRTtBQUFLLENBQUMsRUFDN0I7RUFBRUQsSUFBSSxFQUFFLFNBQVM7RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUMvQjtFQUFFRCxJQUFJLEVBQUUsUUFBUTtFQUFFQyxJQUFJLEVBQUU7QUFBSyxDQUFDLEVBQzlCO0VBQUVELElBQUksRUFBRSxTQUFTO0VBQUVDLElBQUksRUFBRTtBQUFLLENBQUMsRUFDL0I7RUFBRUQsSUFBSSxFQUFFLFFBQVE7RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUM5QjtFQUFFRCxJQUFJLEVBQUUsV0FBVztFQUFFQyxJQUFJLEVBQUU7QUFBSyxDQUFDLEVBQ2pDO0VBQUVELElBQUksRUFBRSxTQUFTO0VBQUVDLElBQUksRUFBRTtBQUFLLENBQUMsRUFDL0I7RUFBRUQsSUFBSSxFQUFFLE9BQU87RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUM3QjtFQUFFRCxJQUFJLEVBQUUsV0FBVztFQUFFQyxJQUFJLEVBQUU7QUFBSyxDQUFDLEVBQ2pDO0VBQUVELElBQUksRUFBRSxNQUFNO0VBQUVDLElBQUksRUFBRTtBQUFLLENBQUMsRUFDNUI7RUFBRUQsSUFBSSxFQUFFLE1BQU07RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUM1QjtFQUFFRCxJQUFJLEVBQUUsU0FBUztFQUFFQyxJQUFJLEVBQUU7QUFBSyxDQUFDLEVBQy9CO0VBQUVELElBQUksRUFBRSxRQUFRO0VBQUVDLElBQUksRUFBRTtBQUFLLENBQUMsRUFDOUI7RUFBRUQsSUFBSSxFQUFFLE9BQU87RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUM3QjtFQUFFRCxJQUFJLEVBQUUsT0FBTztFQUFFQyxJQUFJLEVBQUU7QUFBSyxDQUFDLEVBQzdCO0VBQUVELElBQUksRUFBRSxZQUFZO0VBQUVDLElBQUksRUFBRTtBQUFLLENBQUMsRUFDbEM7RUFBRUQsSUFBSSxFQUFFLE9BQU87RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUM3QjtFQUFFRCxJQUFJLEVBQUUsUUFBUTtFQUFFQyxJQUFJLEVBQUU7QUFBSyxDQUFDLEVBQzlCO0VBQUVELElBQUksRUFBRSxVQUFVO0VBQUVDLElBQUksRUFBRTtBQUFLLENBQUMsRUFDaEM7RUFBRUQsSUFBSSxFQUFFLFFBQVE7RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUM5QjtFQUFFRCxJQUFJLEVBQUUsYUFBYTtFQUFFQyxJQUFJLEVBQUU7QUFBSyxDQUFDLEVBQ25DO0VBQUVELElBQUksRUFBRSxhQUFhO0VBQUVDLElBQUksRUFBRTtBQUFLLENBQUMsRUFDbkM7RUFBRUQsSUFBSSxFQUFFLFFBQVE7RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUM5QjtFQUFFRCxJQUFJLEVBQUUsVUFBVTtFQUFFQyxJQUFJLEVBQUU7QUFBSyxDQUFDLEVBQ2hDO0VBQUVELElBQUksRUFBRSxhQUFhO0VBQUVDLElBQUksRUFBRTtBQUFLLENBQUMsRUFDbkM7RUFBRUQsSUFBSSxFQUFFLFFBQVE7RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUM5QjtFQUFFRCxJQUFJLEVBQUUsVUFBVTtFQUFFQyxJQUFJLEVBQUU7QUFBSyxDQUFDLEVBQ2hDO0VBQUVELElBQUksRUFBRSxPQUFPO0VBQUVDLElBQUksRUFBRTtBQUFLLENBQUMsRUFDN0I7RUFBRUQsSUFBSSxFQUFFLFFBQVE7RUFBRUMsSUFBSSxFQUFFO0FBQUssQ0FBQyxFQUM5QjtFQUFF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QUFDK0IsV0FBVyxFQUFFO0lBQUE7SUFBQWxDLGNBQUEsR0FBQVksQ0FBQTtJQUFBWixjQUFBLEdBQUFHLENBQUE7SUFDckIsT0FBTyxJQUFJO0VBQ2IsQ0FBQztFQUFBO0VBQUE7SUFBQUgsY0FBQSxHQUFBWSxDQUFBO0VBQUE7RUFFRCxNQUFNd0IsS0FBSztFQUFBO0VBQUEsQ0FBQXBDLGNBQUEsR0FBQUcsQ0FBQSxRQUFHLElBQUlnQyxJQUFJLENBQUMsQ0FBQztFQUN4QixNQUFNRSxTQUFTO0VBQUE7RUFBQSxDQUFBckMsY0FBQSxHQUFBRyxDQUFBLFFBQUcsSUFBSWdDLElBQUksQ0FBQyxJQUFJLENBQUNELFdBQVcsQ0FBQztFQUM1QyxJQUFJSSxHQUFHO0VBQUE7RUFBQSxDQUFBdEMsY0FBQSxHQUFBRyxDQUFBLFFBQUdpQyxLQUFLLENBQUNHLFdBQVcsQ0FBQyxDQUFDLEdBQUdGLFNBQVMsQ0FBQ0UsV0FBVyxDQUFDLENBQUM7RUFDdkQsTUFBTUMsU0FBUztFQUFBO0VBQUEsQ0FBQXhDLGNBQUEsR0FBQUcsQ0FBQSxRQUFHaUMsS0FBSyxDQUFDSyxRQUFRLENBQUMsQ0FBQyxHQUFHSixTQUFTLENBQUNJLFFBQVEsQ0FBQyxDQUFDOztFQUV6RDtFQUFBO0VBQUF6QyxjQUFBLEdBQUFHLENBQUE7RUFDQTtFQUFJO0VBQUEsQ0FBQUgsY0FBQSxHQUFBWSxDQUFBLFVBQUE0QixTQUFTLEdBQUcsQ0FBQztFQUFLO0VBQUEsQ0FBQXhDLGNBQUEsR0FBQVksQ0FBQSxVQUFBNEIsU0FBUyxLQUFLLENBQUM7RUFBQTtFQUFBLENBQUF4QyxjQUFBLEdBQUFZLENBQUEsVUFBSXdCLEtBQUssQ0FBQ08sT0FBTyxDQUFDLENBQUMsR0FBR04sU0FBUyxDQUFDTSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFBQTtJQUFBM0MsY0FBQSxHQUFBWSxDQUFBO0lBQUFaLGNBQUEsR0FBQUcsQ0FBQTtJQUMvRW1DLEdBQUcsRUFBRTtFQUNQLENBQUM7RUFBQTtFQUFBO0lBQUF0QyxjQUFBLEdBQUFZLENBQUE7RUFBQTtFQUFBWixjQUFBLEdBQUFHLENBQUE7RUFFRCxPQUFPbUMsR0FBRztBQUNaLENBQUMsQ0FBQztBQUVGLE1BQU1zRCxJQUFJO0FBQUE7QUFBQSxDQUFBNUYsY0FBQSxHQUFBRyxDQUFBLFFBQUdELFFBQVEsQ0FBQzJGLEtBQUssQ0FBQyxNQUFNLEVBQUU5RSxVQUFVLENBQUM7QUFBQztBQUFBZixjQUFBLEdBQUFHLENBQUE7QUFFaEQyRixNQUFNLENBQUNDLE9BQU8sR0FBR0gsSUFBSSIsImlnbm9yZUxpc3QiOltdfQ==