565f4cb935eb5a84e4dd67ce14489d41
const Notification = require('../public/models/notification.model');
const {
  createSystemNotification
} = require('../controllers/notification.controller');
const {
  info,
  error
} = require('../utils/logger');
class NotificationService {
  /**
   * Create booking confirmation notification
   * @param {string} userId - User ID
   * @param {Object} booking - Booking object
   * @returns {Promise<Object>} Created notification
   */
  static async createBookingConfirmationNotification(userId, booking) {
    try {
      const notification = await createSystemNotification(userId, 'booking_confirmed', 'Booking Confirmed! ðŸŽ‰', `Your booking for ${booking.destination.title} has been confirmed. Check-in: ${booking.checkInDate.toLocaleDateString()}`, {
        priority: 'high',
        actionUrl: `/bookings/${booking._id}`,
        actionText: 'View Booking',
        booking: booking._id,
        destination: booking.destination._id
      });
      info('Booking confirmation notification created', {
        notificationId: notification._id,
        userId,
        bookingId: booking._id
      });
      return notification;
    } catch (err) {
      error('Error creating booking confirmation notification', {
        error: err.message,
        userId,
        bookingId: booking._id
      });
      throw err;
    }
  }

  /**
   * Create booking reminder notification
   * @param {string} userId - User ID
   * @param {Object} booking - Booking object
   * @param {number} daysUntilCheckIn - Days until check-in
   * @returns {Promise<Object>} Created notification
   */
  static async createBookingReminderNotification(userId, booking, daysUntilCheckIn) {
    try {
      const notification = await createSystemNotification(userId, 'booking_reminder', `Check-in Reminder - ${daysUntilCheckIn} day${daysUntilCheckIn > 1 ? 's' : ''} to go!`, `Don't forget! Your stay at ${booking.destination.title} starts in ${daysUntilCheckIn} day${daysUntilCheckIn > 1 ? 's' : ''}.`, {
        priority: daysUntilCheckIn <= 1 ? 'urgent' : 'medium',
        actionUrl: `/bookings/${booking._id}`,
        actionText: 'View Details',
        booking: booking._id,
        destination: booking.destination._id
      });
      info('Booking reminder notification created', {
        notificationId: notification._id,
        userId,
        bookingId: booking._id,
        daysUntilCheckIn
      });
      return notification;
    } catch (err) {
      error('Error creating booking reminder notification', {
        error: err.message,
        userId,
        bookingId: booking._id
      });
      throw err;
    }
  }

  /**
   * Create booking cancellation notification
   * @param {string} userId - User ID
   * @param {Object} booking - Booking object
   * @param {number} refundAmount - Refund amount
   * @returns {Promise<Object>} Created notification
   */
  static async createBookingCancellationNotification(userId, booking, refundAmount) {
    try {
      const refundMessage = refundAmount > 0 ? `A refund of $${refundAmount} will be processed within 5-7 business days.` : 'No refund is available for this cancellation.';
      const notification = await createSystemNotification(userId, 'booking_cancelled', 'Booking Cancelled', `Your booking for ${booking.destination.title} has been cancelled. ${refundMessage}`, {
        priority: 'medium',
        actionUrl: `/bookings/${booking._id}`,
        actionText: 'View Details',
        booking: booking._id,
        destination: booking.destination._id
      });
      info('Booking cancellation notification created', {
        notificationId: notification._id,
        userId,
        bookingId: booking._id,
        refundAmount
      });
      return notification;
    } catch (err) {
      error('Error creating booking cancellation notification', {
        error: err.message,
        userId,
        bookingId: booking._id
      });
      throw err;
    }
  }

  /**
   * Create review request notification
   * @param {string} userId - User ID
   * @param {Object} booking - Booking object
   * @returns {Promise<Object>} Created notification
   */
  static async createReviewRequestNotification(userId, booking) {
    try {
      const notification = await createSystemNotification(userId, 'review_request', 'How was your stay?', `We hope you enjoyed your stay at ${booking.destination.title}! Please share your experience with other travelers.`, {
        priority: 'low',
        actionUrl: `/destinations/${booking.destination._id}/review`,
        actionText: 'Write Review',
        booking: booking._id,
        destination: booking.destination._id,
        expiresAt: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000) // 30 days
      });
      info('Review request notification created', {
        notificationId: notification._id,
        userId,
        bookingId: booking._id
      });
      return notification;
    } catch (err) {
      error('Error creating review request notification', {
        error: err.message,
        userId,
        bookingId: booking._id
      });
      throw err;
    }
  }

  /**
   * Create destination update notification
   * @param {Array} userIds - Array of user IDs to notify
   * @param {Object} destination - Destination object
   * @param {string} updateType - Type of update
   * @returns {Promise<Array>} Created notifications
   */
  static async createDestinationUpdateNotification(userIds, destination, updateType) {
    try {
      const notifications = await Promise.all(userIds.map(async userId => {
        return await createSystemNotification(userId, 'destination_update', `${destination.title} - ${updateType}`, `There's been an update to ${destination.title}. Check out what's new!`, {
          priority: 'low',
          actionUrl: `/destinations/${destination._id}`,
          actionText: 'View Destination',
          destination: destination._id
        });
      }));
      info('Destination update notifications created', {
        notificationCount: notifications.length,
        destinationId: destination._id,
        updateType
      });
      return notifications;
    } catch (err) {
      error('Error creating destination update notifications', {
        error: err.message,
        destinationId: destination._id
      });
      throw err;
    }
  }

  /**
   * Create promotion notification
   * @param {Array} userIds - Array of user IDs to notify
   * @param {Object} promotion - Promotion object
   * @returns {Promise<Array>} Created notifications
   */
  static async createPromotionNotification(userIds, promotion) {
    try {
      const notifications = await Promise.all(userIds.map(async userId => {
        return await createSystemNotification(userId, 'promotion', promotion.title, promotion.message, {
          priority: 'medium',
          actionUrl: promotion.actionUrl,
          actionText: promotion.actionText,
          expiresAt: promotion.expiresAt ? new Date(promotion.expiresAt) : undefined
        });
      }));
      info('Promotion notifications created', {
        notificationCount: notifications.length,
        promotionId: promotion._id
      });
      return notifications;
    } catch (err) {
      error('Error creating promotion notifications', {
        error: err.message,
        promotionId: promotion._id
      });
      throw err;
    }
  }

  /**
   * Create system notification
   * @param {Array} userIds - Array of user IDs to notify
   * @param {string} title - Notification title
   * @param {string} message - Notification message
   * @param {Object} options - Additional options
   * @returns {Promise<Array>} Created notifications
   */
  static async createSystemNotification(userIds, title, message, options = {}) {
    try {
      const notifications = await Promise.all(userIds.map(async userId => {
        return await createSystemNotification(userId, 'system', title, message, {
          priority: options.priority || 'medium',
          actionUrl: options.actionUrl,
          actionText: options.actionText,
          expiresAt: options.expiresAt ? new Date(options.expiresAt) : undefined
        });
      }));
      info('System notifications created', {
        notificationCount: notifications.length,
        title
      });
      return notifications;
    } catch (err) {
      error('Error creating system notifications', {
        error: err.message,
        title
      });
      throw err;
    }
  }

  /**
   * Clean up expired notifications
   * @returns {Promise<number>} Number of notifications cleaned up
   */
  static async cleanupExpiredNotifications() {
    try {
      const result = await Notification.cleanupExpired();
      info('Expired notifications cleaned up', {
        deletedCount: result.deletedCount
      });
      return result.deletedCount;
    } catch (err) {
      error('Error cleaning up expired notifications', {
        error: err.message
      });
      throw err;
    }
  }

  /**
   * Get notification statistics for a user
   * @param {string} userId - User ID
   * @returns {Promise<Object>} Notification statistics
   */
  static async getUserNotificationStats(userId) {
    try {
      const stats = await Notification.aggregate([{
        $match: {
          user: userId
        }
      }, {
        $group: {
          _id: null,
          total: {
            $sum: 1
          },
          unread: {
            $sum: {
              $cond: [{
                $eq: ['$isRead', false]
              }, 1, 0]
            }
          },
          byType: {
            $push: {
              type: '$type',
              isRead: '$isRead'
            }
          },
          byPriority: {
            $push: {
              priority: '$priority',
              isRead: '$isRead'
            }
          }
        }
      }]);
      let notificationStats = {
        total: 0,
        unread: 0,
        byType: {},
        byPriority: {}
      };
      if (stats.length > 0) {
        const stat = stats[0];
        notificationStats.total = stat.total;
        notificationStats.unread = stat.unread;

        // Calculate by type
        stat.byType.forEach(item => {
          if (!notificationStats.byType[item.type]) {
            notificationStats.byType[item.type] = {
              total: 0,
              unread: 0
            };
          }
          notificationStats.byType[item.type].total++;
          if (!item.isRead) {
            notificationStats.byType[item.type].unread++;
          }
        });

        // Calculate by priority
        stat.byPriority.forEach(item => {
          if (!notificationStats.byPriority[item.priority]) {
            notificationStats.byPriority[item.priority] = {
              total: 0,
              unread: 0
            };
          }
          notificationStats.byPriority[item.priority].total++;
          if (!item.isRead) {
            notificationStats.byPriority[item.priority].unread++;
          }
        });
      }
      return notificationStats;
    } catch (err) {
      error('Error getting user notification stats', {
        error: err.message,
        userId
      });
      throw err;
    }
  }
}
module.exports = NotificationService;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJOb3RpZmljYXRpb24iLCJyZXF1aXJlIiwiY3JlYXRlU3lzdGVtTm90aWZpY2F0aW9uIiwiaW5mbyIsImVycm9yIiwiTm90aWZpY2F0aW9uU2VydmljZSIsImNyZWF0ZUJvb2tpbmdDb25maXJtYXRpb25Ob3RpZmljYXRpb24iLCJ1c2VySWQiLCJib29raW5nIiwibm90aWZpY2F0aW9uIiwiZGVzdGluYXRpb24iLCJ0aXRsZSIsImNoZWNrSW5EYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwicHJpb3JpdHkiLCJhY3Rpb25VcmwiLCJfaWQiLCJhY3Rpb25UZXh0Iiwibm90aWZpY2F0aW9uSWQiLCJib29raW5nSWQiLCJlcnIiLCJtZXNzYWdlIiwiY3JlYXRlQm9va2luZ1JlbWluZGVyTm90aWZpY2F0aW9uIiwiZGF5c1VudGlsQ2hlY2tJbiIsImNyZWF0ZUJvb2tpbmdDYW5jZWxsYXRpb25Ob3RpZmljYXRpb24iLCJyZWZ1bmRBbW91bnQiLCJyZWZ1bmRNZXNzYWdlIiwiY3JlYXRlUmV2aWV3UmVxdWVzdE5vdGlmaWNhdGlvbiIsImV4cGlyZXNBdCIsIkRhdGUiLCJub3ciLCJjcmVhdGVEZXN0aW5hdGlvblVwZGF0ZU5vdGlmaWNhdGlvbiIsInVzZXJJZHMiLCJ1cGRhdGVUeXBlIiwibm90aWZpY2F0aW9ucyIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJub3RpZmljYXRpb25Db3VudCIsImxlbmd0aCIsImRlc3RpbmF0aW9uSWQiLCJjcmVhdGVQcm9tb3Rpb25Ob3RpZmljYXRpb24iLCJwcm9tb3Rpb24iLCJ1bmRlZmluZWQiLCJwcm9tb3Rpb25JZCIsIm9wdGlvbnMiLCJjbGVhbnVwRXhwaXJlZE5vdGlmaWNhdGlvbnMiLCJyZXN1bHQiLCJjbGVhbnVwRXhwaXJlZCIsImRlbGV0ZWRDb3VudCIsImdldFVzZXJOb3RpZmljYXRpb25TdGF0cyIsInN0YXRzIiwiYWdncmVnYXRlIiwiJG1hdGNoIiwidXNlciIsIiRncm91cCIsInRvdGFsIiwiJHN1bSIsInVucmVhZCIsIiRjb25kIiwiJGVxIiwiYnlUeXBlIiwiJHB1c2giLCJ0eXBlIiwiaXNSZWFkIiwiYnlQcmlvcml0eSIsIm5vdGlmaWNhdGlvblN0YXRzIiwic3RhdCIsImZvckVhY2giLCJpdGVtIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIm5vdGlmaWNhdGlvbi5zZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IE5vdGlmaWNhdGlvbiA9IHJlcXVpcmUoJy4uL3B1YmxpYy9tb2RlbHMvbm90aWZpY2F0aW9uLm1vZGVsJyk7XG5jb25zdCB7IGNyZWF0ZVN5c3RlbU5vdGlmaWNhdGlvbiB9ID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvbm90aWZpY2F0aW9uLmNvbnRyb2xsZXInKTtcbmNvbnN0IHsgaW5mbywgZXJyb3IgfSA9IHJlcXVpcmUoJy4uL3V0aWxzL2xvZ2dlcicpO1xuXG5jbGFzcyBOb3RpZmljYXRpb25TZXJ2aWNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBib29raW5nIGNvbmZpcm1hdGlvbiBub3RpZmljYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgICogQHBhcmFtIHtPYmplY3R9IGJvb2tpbmcgLSBCb29raW5nIG9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBDcmVhdGVkIG5vdGlmaWNhdGlvblxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZUJvb2tpbmdDb25maXJtYXRpb25Ob3RpZmljYXRpb24odXNlcklkLCBib29raW5nKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGF3YWl0IGNyZWF0ZVN5c3RlbU5vdGlmaWNhdGlvbihcbiAgICAgICAgdXNlcklkLFxuICAgICAgICAnYm9va2luZ19jb25maXJtZWQnLFxuICAgICAgICAnQm9va2luZyBDb25maXJtZWQhIPCfjoknLFxuICAgICAgICBgWW91ciBib29raW5nIGZvciAke2Jvb2tpbmcuZGVzdGluYXRpb24udGl0bGV9IGhhcyBiZWVuIGNvbmZpcm1lZC4gQ2hlY2staW46ICR7Ym9va2luZy5jaGVja0luRGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKX1gLFxuICAgICAgICB7XG4gICAgICAgICAgcHJpb3JpdHk6ICdoaWdoJyxcbiAgICAgICAgICBhY3Rpb25Vcmw6IGAvYm9va2luZ3MvJHtib29raW5nLl9pZH1gLFxuICAgICAgICAgIGFjdGlvblRleHQ6ICdWaWV3IEJvb2tpbmcnLFxuICAgICAgICAgIGJvb2tpbmc6IGJvb2tpbmcuX2lkLFxuICAgICAgICAgIGRlc3RpbmF0aW9uOiBib29raW5nLmRlc3RpbmF0aW9uLl9pZFxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICBpbmZvKCdCb29raW5nIGNvbmZpcm1hdGlvbiBub3RpZmljYXRpb24gY3JlYXRlZCcsIHtcbiAgICAgICAgbm90aWZpY2F0aW9uSWQ6IG5vdGlmaWNhdGlvbi5faWQsXG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgYm9va2luZ0lkOiBib29raW5nLl9pZFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBub3RpZmljYXRpb247XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBlcnJvcignRXJyb3IgY3JlYXRpbmcgYm9va2luZyBjb25maXJtYXRpb24gbm90aWZpY2F0aW9uJywge1xuICAgICAgICBlcnJvcjogZXJyLm1lc3NhZ2UsXG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgYm9va2luZ0lkOiBib29raW5nLl9pZFxuICAgICAgfSk7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBib29raW5nIHJlbWluZGVyIG5vdGlmaWNhdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAgKiBAcGFyYW0ge09iamVjdH0gYm9va2luZyAtIEJvb2tpbmcgb2JqZWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkYXlzVW50aWxDaGVja0luIC0gRGF5cyB1bnRpbCBjaGVjay1pblxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBDcmVhdGVkIG5vdGlmaWNhdGlvblxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZUJvb2tpbmdSZW1pbmRlck5vdGlmaWNhdGlvbih1c2VySWQsIGJvb2tpbmcsIGRheXNVbnRpbENoZWNrSW4pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gYXdhaXQgY3JlYXRlU3lzdGVtTm90aWZpY2F0aW9uKFxuICAgICAgICB1c2VySWQsXG4gICAgICAgICdib29raW5nX3JlbWluZGVyJyxcbiAgICAgICAgYENoZWNrLWluIFJlbWluZGVyIC0gJHtkYXlzVW50aWxDaGVja0lufSBkYXkke2RheXNVbnRpbENoZWNrSW4gPiAxID8gJ3MnIDogJyd9IHRvIGdvIWAsXG4gICAgICAgIGBEb24ndCBmb3JnZXQhIFlvdXIgc3RheSBhdCAke2Jvb2tpbmcuZGVzdGluYXRpb24udGl0bGV9IHN0YXJ0cyBpbiAke2RheXNVbnRpbENoZWNrSW59IGRheSR7ZGF5c1VudGlsQ2hlY2tJbiA+IDEgPyAncycgOiAnJ30uYCxcbiAgICAgICAge1xuICAgICAgICAgIHByaW9yaXR5OiBkYXlzVW50aWxDaGVja0luIDw9IDEgPyAndXJnZW50JyA6ICdtZWRpdW0nLFxuICAgICAgICAgIGFjdGlvblVybDogYC9ib29raW5ncy8ke2Jvb2tpbmcuX2lkfWAsXG4gICAgICAgICAgYWN0aW9uVGV4dDogJ1ZpZXcgRGV0YWlscycsXG4gICAgICAgICAgYm9va2luZzogYm9va2luZy5faWQsXG4gICAgICAgICAgZGVzdGluYXRpb246IGJvb2tpbmcuZGVzdGluYXRpb24uX2lkXG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIGluZm8oJ0Jvb2tpbmcgcmVtaW5kZXIgbm90aWZpY2F0aW9uIGNyZWF0ZWQnLCB7XG4gICAgICAgIG5vdGlmaWNhdGlvbklkOiBub3RpZmljYXRpb24uX2lkLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIGJvb2tpbmdJZDogYm9va2luZy5faWQsXG4gICAgICAgIGRheXNVbnRpbENoZWNrSW5cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbm90aWZpY2F0aW9uO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGJvb2tpbmcgcmVtaW5kZXIgbm90aWZpY2F0aW9uJywge1xuICAgICAgICBlcnJvcjogZXJyLm1lc3NhZ2UsXG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgYm9va2luZ0lkOiBib29raW5nLl9pZFxuICAgICAgfSk7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBib29raW5nIGNhbmNlbGxhdGlvbiBub3RpZmljYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcbiAgICogQHBhcmFtIHtPYmplY3R9IGJvb2tpbmcgLSBCb29raW5nIG9iamVjdFxuICAgKiBAcGFyYW0ge251bWJlcn0gcmVmdW5kQW1vdW50IC0gUmVmdW5kIGFtb3VudFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBDcmVhdGVkIG5vdGlmaWNhdGlvblxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZUJvb2tpbmdDYW5jZWxsYXRpb25Ob3RpZmljYXRpb24odXNlcklkLCBib29raW5nLCByZWZ1bmRBbW91bnQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVmdW5kTWVzc2FnZSA9IHJlZnVuZEFtb3VudCA+IDBcbiAgICAgICAgPyBgQSByZWZ1bmQgb2YgJCR7cmVmdW5kQW1vdW50fSB3aWxsIGJlIHByb2Nlc3NlZCB3aXRoaW4gNS03IGJ1c2luZXNzIGRheXMuYFxuICAgICAgICA6ICdObyByZWZ1bmQgaXMgYXZhaWxhYmxlIGZvciB0aGlzIGNhbmNlbGxhdGlvbi4nO1xuXG4gICAgICBjb25zdCBub3RpZmljYXRpb24gPSBhd2FpdCBjcmVhdGVTeXN0ZW1Ob3RpZmljYXRpb24oXG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgJ2Jvb2tpbmdfY2FuY2VsbGVkJyxcbiAgICAgICAgJ0Jvb2tpbmcgQ2FuY2VsbGVkJyxcbiAgICAgICAgYFlvdXIgYm9va2luZyBmb3IgJHtib29raW5nLmRlc3RpbmF0aW9uLnRpdGxlfSBoYXMgYmVlbiBjYW5jZWxsZWQuICR7cmVmdW5kTWVzc2FnZX1gLFxuICAgICAgICB7XG4gICAgICAgICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxuICAgICAgICAgIGFjdGlvblVybDogYC9ib29raW5ncy8ke2Jvb2tpbmcuX2lkfWAsXG4gICAgICAgICAgYWN0aW9uVGV4dDogJ1ZpZXcgRGV0YWlscycsXG4gICAgICAgICAgYm9va2luZzogYm9va2luZy5faWQsXG4gICAgICAgICAgZGVzdGluYXRpb246IGJvb2tpbmcuZGVzdGluYXRpb24uX2lkXG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIGluZm8oJ0Jvb2tpbmcgY2FuY2VsbGF0aW9uIG5vdGlmaWNhdGlvbiBjcmVhdGVkJywge1xuICAgICAgICBub3RpZmljYXRpb25JZDogbm90aWZpY2F0aW9uLl9pZCxcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBib29raW5nSWQ6IGJvb2tpbmcuX2lkLFxuICAgICAgICByZWZ1bmRBbW91bnRcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbm90aWZpY2F0aW9uO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGJvb2tpbmcgY2FuY2VsbGF0aW9uIG5vdGlmaWNhdGlvbicsIHtcbiAgICAgICAgZXJyb3I6IGVyci5tZXNzYWdlLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIGJvb2tpbmdJZDogYm9va2luZy5faWRcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgcmV2aWV3IHJlcXVlc3Qgbm90aWZpY2F0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBib29raW5nIC0gQm9va2luZyBvYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gQ3JlYXRlZCBub3RpZmljYXRpb25cbiAgICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVSZXZpZXdSZXF1ZXN0Tm90aWZpY2F0aW9uKHVzZXJJZCwgYm9va2luZykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBub3RpZmljYXRpb24gPSBhd2FpdCBjcmVhdGVTeXN0ZW1Ob3RpZmljYXRpb24oXG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgJ3Jldmlld19yZXF1ZXN0JyxcbiAgICAgICAgJ0hvdyB3YXMgeW91ciBzdGF5PycsXG4gICAgICAgIGBXZSBob3BlIHlvdSBlbmpveWVkIHlvdXIgc3RheSBhdCAke2Jvb2tpbmcuZGVzdGluYXRpb24udGl0bGV9ISBQbGVhc2Ugc2hhcmUgeW91ciBleHBlcmllbmNlIHdpdGggb3RoZXIgdHJhdmVsZXJzLmAsXG4gICAgICAgIHtcbiAgICAgICAgICBwcmlvcml0eTogJ2xvdycsXG4gICAgICAgICAgYWN0aW9uVXJsOiBgL2Rlc3RpbmF0aW9ucy8ke2Jvb2tpbmcuZGVzdGluYXRpb24uX2lkfS9yZXZpZXdgLFxuICAgICAgICAgIGFjdGlvblRleHQ6ICdXcml0ZSBSZXZpZXcnLFxuICAgICAgICAgIGJvb2tpbmc6IGJvb2tpbmcuX2lkLFxuICAgICAgICAgIGRlc3RpbmF0aW9uOiBib29raW5nLmRlc3RpbmF0aW9uLl9pZCxcbiAgICAgICAgICBleHBpcmVzQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgKyAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApIC8vIDMwIGRheXNcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgaW5mbygnUmV2aWV3IHJlcXVlc3Qgbm90aWZpY2F0aW9uIGNyZWF0ZWQnLCB7XG4gICAgICAgIG5vdGlmaWNhdGlvbklkOiBub3RpZmljYXRpb24uX2lkLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIGJvb2tpbmdJZDogYm9va2luZy5faWRcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbm90aWZpY2F0aW9uO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHJldmlldyByZXF1ZXN0IG5vdGlmaWNhdGlvbicsIHtcbiAgICAgICAgZXJyb3I6IGVyci5tZXNzYWdlLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIGJvb2tpbmdJZDogYm9va2luZy5faWRcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgZGVzdGluYXRpb24gdXBkYXRlIG5vdGlmaWNhdGlvblxuICAgKiBAcGFyYW0ge0FycmF5fSB1c2VySWRzIC0gQXJyYXkgb2YgdXNlciBJRHMgdG8gbm90aWZ5XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0aW5hdGlvbiAtIERlc3RpbmF0aW9uIG9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXBkYXRlVHlwZSAtIFR5cGUgb2YgdXBkYXRlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gQ3JlYXRlZCBub3RpZmljYXRpb25zXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY3JlYXRlRGVzdGluYXRpb25VcGRhdGVOb3RpZmljYXRpb24odXNlcklkcywgZGVzdGluYXRpb24sIHVwZGF0ZVR5cGUpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgbm90aWZpY2F0aW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICB1c2VySWRzLm1hcChhc3luYyh1c2VySWQpID0+IHtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgY3JlYXRlU3lzdGVtTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgJ2Rlc3RpbmF0aW9uX3VwZGF0ZScsXG4gICAgICAgICAgICBgJHtkZXN0aW5hdGlvbi50aXRsZX0gLSAke3VwZGF0ZVR5cGV9YCxcbiAgICAgICAgICAgIGBUaGVyZSdzIGJlZW4gYW4gdXBkYXRlIHRvICR7ZGVzdGluYXRpb24udGl0bGV9LiBDaGVjayBvdXQgd2hhdCdzIG5ldyFgLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBwcmlvcml0eTogJ2xvdycsXG4gICAgICAgICAgICAgIGFjdGlvblVybDogYC9kZXN0aW5hdGlvbnMvJHtkZXN0aW5hdGlvbi5faWR9YCxcbiAgICAgICAgICAgICAgYWN0aW9uVGV4dDogJ1ZpZXcgRGVzdGluYXRpb24nLFxuICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24uX2lkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGluZm8oJ0Rlc3RpbmF0aW9uIHVwZGF0ZSBub3RpZmljYXRpb25zIGNyZWF0ZWQnLCB7XG4gICAgICAgIG5vdGlmaWNhdGlvbkNvdW50OiBub3RpZmljYXRpb25zLmxlbmd0aCxcbiAgICAgICAgZGVzdGluYXRpb25JZDogZGVzdGluYXRpb24uX2lkLFxuICAgICAgICB1cGRhdGVUeXBlXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbnM7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBlcnJvcignRXJyb3IgY3JlYXRpbmcgZGVzdGluYXRpb24gdXBkYXRlIG5vdGlmaWNhdGlvbnMnLCB7XG4gICAgICAgIGVycm9yOiBlcnIubWVzc2FnZSxcbiAgICAgICAgZGVzdGluYXRpb25JZDogZGVzdGluYXRpb24uX2lkXG4gICAgICB9KTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHByb21vdGlvbiBub3RpZmljYXRpb25cbiAgICogQHBhcmFtIHtBcnJheX0gdXNlcklkcyAtIEFycmF5IG9mIHVzZXIgSURzIHRvIG5vdGlmeVxuICAgKiBAcGFyYW0ge09iamVjdH0gcHJvbW90aW9uIC0gUHJvbW90aW9uIG9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IENyZWF0ZWQgbm90aWZpY2F0aW9uc1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZVByb21vdGlvbk5vdGlmaWNhdGlvbih1c2VySWRzLCBwcm9tb3Rpb24pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgbm90aWZpY2F0aW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICB1c2VySWRzLm1hcChhc3luYyh1c2VySWQpID0+IHtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgY3JlYXRlU3lzdGVtTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgJ3Byb21vdGlvbicsXG4gICAgICAgICAgICBwcm9tb3Rpb24udGl0bGUsXG4gICAgICAgICAgICBwcm9tb3Rpb24ubWVzc2FnZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxuICAgICAgICAgICAgICBhY3Rpb25Vcmw6IHByb21vdGlvbi5hY3Rpb25VcmwsXG4gICAgICAgICAgICAgIGFjdGlvblRleHQ6IHByb21vdGlvbi5hY3Rpb25UZXh0LFxuICAgICAgICAgICAgICBleHBpcmVzQXQ6IHByb21vdGlvbi5leHBpcmVzQXQgPyBuZXcgRGF0ZShwcm9tb3Rpb24uZXhwaXJlc0F0KSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBpbmZvKCdQcm9tb3Rpb24gbm90aWZpY2F0aW9ucyBjcmVhdGVkJywge1xuICAgICAgICBub3RpZmljYXRpb25Db3VudDogbm90aWZpY2F0aW9ucy5sZW5ndGgsXG4gICAgICAgIHByb21vdGlvbklkOiBwcm9tb3Rpb24uX2lkXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbnM7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBlcnJvcignRXJyb3IgY3JlYXRpbmcgcHJvbW90aW9uIG5vdGlmaWNhdGlvbnMnLCB7XG4gICAgICAgIGVycm9yOiBlcnIubWVzc2FnZSxcbiAgICAgICAgcHJvbW90aW9uSWQ6IHByb21vdGlvbi5faWRcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgc3lzdGVtIG5vdGlmaWNhdGlvblxuICAgKiBAcGFyYW0ge0FycmF5fSB1c2VySWRzIC0gQXJyYXkgb2YgdXNlciBJRHMgdG8gbm90aWZ5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZSAtIE5vdGlmaWNhdGlvbiB0aXRsZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIE5vdGlmaWNhdGlvbiBtZXNzYWdlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gQ3JlYXRlZCBub3RpZmljYXRpb25zXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY3JlYXRlU3lzdGVtTm90aWZpY2F0aW9uKHVzZXJJZHMsIHRpdGxlLCBtZXNzYWdlLCBvcHRpb25zID0ge30pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgbm90aWZpY2F0aW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICB1c2VySWRzLm1hcChhc3luYyh1c2VySWQpID0+IHtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgY3JlYXRlU3lzdGVtTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgJ3N5c3RlbScsXG4gICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHByaW9yaXR5OiBvcHRpb25zLnByaW9yaXR5IHx8ICdtZWRpdW0nLFxuICAgICAgICAgICAgICBhY3Rpb25Vcmw6IG9wdGlvbnMuYWN0aW9uVXJsLFxuICAgICAgICAgICAgICBhY3Rpb25UZXh0OiBvcHRpb25zLmFjdGlvblRleHQsXG4gICAgICAgICAgICAgIGV4cGlyZXNBdDogb3B0aW9ucy5leHBpcmVzQXQgPyBuZXcgRGF0ZShvcHRpb25zLmV4cGlyZXNBdCkgOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgaW5mbygnU3lzdGVtIG5vdGlmaWNhdGlvbnMgY3JlYXRlZCcsIHtcbiAgICAgICAgbm90aWZpY2F0aW9uQ291bnQ6IG5vdGlmaWNhdGlvbnMubGVuZ3RoLFxuICAgICAgICB0aXRsZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBub3RpZmljYXRpb25zO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHN5c3RlbSBub3RpZmljYXRpb25zJywge1xuICAgICAgICBlcnJvcjogZXJyLm1lc3NhZ2UsXG4gICAgICAgIHRpdGxlXG4gICAgICB9KTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAgZXhwaXJlZCBub3RpZmljYXRpb25zXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG51bWJlcj59IE51bWJlciBvZiBub3RpZmljYXRpb25zIGNsZWFuZWQgdXBcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjbGVhbnVwRXhwaXJlZE5vdGlmaWNhdGlvbnMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IE5vdGlmaWNhdGlvbi5jbGVhbnVwRXhwaXJlZCgpO1xuXG4gICAgICBpbmZvKCdFeHBpcmVkIG5vdGlmaWNhdGlvbnMgY2xlYW5lZCB1cCcsIHtcbiAgICAgICAgZGVsZXRlZENvdW50OiByZXN1bHQuZGVsZXRlZENvdW50XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHJlc3VsdC5kZWxldGVkQ291bnQ7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBlcnJvcignRXJyb3IgY2xlYW5pbmcgdXAgZXhwaXJlZCBub3RpZmljYXRpb25zJywge1xuICAgICAgICBlcnJvcjogZXJyLm1lc3NhZ2VcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbm90aWZpY2F0aW9uIHN0YXRpc3RpY3MgZm9yIGEgdXNlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBOb3RpZmljYXRpb24gc3RhdGlzdGljc1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldFVzZXJOb3RpZmljYXRpb25TdGF0cyh1c2VySWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RhdHMgPSBhd2FpdCBOb3RpZmljYXRpb24uYWdncmVnYXRlKFtcbiAgICAgICAgeyAkbWF0Y2g6IHsgdXNlcjogdXNlcklkIH0gfSxcbiAgICAgICAge1xuICAgICAgICAgICRncm91cDoge1xuICAgICAgICAgICAgX2lkOiBudWxsLFxuICAgICAgICAgICAgdG90YWw6IHsgJHN1bTogMSB9LFxuICAgICAgICAgICAgdW5yZWFkOiB7XG4gICAgICAgICAgICAgICRzdW06IHsgJGNvbmQ6IFt7ICRlcTogWyckaXNSZWFkJywgZmFsc2VdIH0sIDEsIDBdIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBieVR5cGU6IHtcbiAgICAgICAgICAgICAgJHB1c2g6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnJHR5cGUnLFxuICAgICAgICAgICAgICAgIGlzUmVhZDogJyRpc1JlYWQnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBieVByaW9yaXR5OiB7XG4gICAgICAgICAgICAgICRwdXNoOiB7XG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6ICckcHJpb3JpdHknLFxuICAgICAgICAgICAgICAgIGlzUmVhZDogJyRpc1JlYWQnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF0pO1xuXG4gICAgICBsZXQgbm90aWZpY2F0aW9uU3RhdHMgPSB7XG4gICAgICAgIHRvdGFsOiAwLFxuICAgICAgICB1bnJlYWQ6IDAsXG4gICAgICAgIGJ5VHlwZToge30sXG4gICAgICAgIGJ5UHJpb3JpdHk6IHt9XG4gICAgICB9O1xuXG4gICAgICBpZiAoc3RhdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBzdGF0ID0gc3RhdHNbMF07XG4gICAgICAgIG5vdGlmaWNhdGlvblN0YXRzLnRvdGFsID0gc3RhdC50b3RhbDtcbiAgICAgICAgbm90aWZpY2F0aW9uU3RhdHMudW5yZWFkID0gc3RhdC51bnJlYWQ7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIGJ5IHR5cGVcbiAgICAgICAgc3RhdC5ieVR5cGUuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICBpZiAoIW5vdGlmaWNhdGlvblN0YXRzLmJ5VHlwZVtpdGVtLnR5cGVdKSB7XG4gICAgICAgICAgICBub3RpZmljYXRpb25TdGF0cy5ieVR5cGVbaXRlbS50eXBlXSA9IHsgdG90YWw6IDAsIHVucmVhZDogMCB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBub3RpZmljYXRpb25TdGF0cy5ieVR5cGVbaXRlbS50eXBlXS50b3RhbCsrO1xuICAgICAgICAgIGlmICghaXRlbS5pc1JlYWQpIHtcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvblN0YXRzLmJ5VHlwZVtpdGVtLnR5cGVdLnVucmVhZCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIGJ5IHByaW9yaXR5XG4gICAgICAgIHN0YXQuYnlQcmlvcml0eS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgIGlmICghbm90aWZpY2F0aW9uU3RhdHMuYnlQcmlvcml0eVtpdGVtLnByaW9yaXR5XSkge1xuICAgICAgICAgICAgbm90aWZpY2F0aW9uU3RhdHMuYnlQcmlvcml0eVtpdGVtLnByaW9yaXR5XSA9IHsgdG90YWw6IDAsIHVucmVhZDogMCB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBub3RpZmljYXRpb25TdGF0cy5ieVByaW9yaXR5W2l0ZW0ucHJpb3JpdHldLnRvdGFsKys7XG4gICAgICAgICAgaWYgKCFpdGVtLmlzUmVhZCkge1xuICAgICAgICAgICAgbm90aWZpY2F0aW9uU3RhdHMuYnlQcmlvcml0eVtpdGVtLnByaW9yaXR5XS51bnJlYWQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm90aWZpY2F0aW9uU3RhdHM7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBlcnJvcignRXJyb3IgZ2V0dGluZyB1c2VyIG5vdGlmaWNhdGlvbiBzdGF0cycsIHtcbiAgICAgICAgZXJyb3I6IGVyci5tZXNzYWdlLFxuICAgICAgICB1c2VySWRcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE5vdGlmaWNhdGlvblNlcnZpY2U7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyxxQ0FBcUMsQ0FBQztBQUNuRSxNQUFNO0VBQUVDO0FBQXlCLENBQUMsR0FBR0QsT0FBTyxDQUFDLHdDQUF3QyxDQUFDO0FBQ3RGLE1BQU07RUFBRUUsSUFBSTtFQUFFQztBQUFNLENBQUMsR0FBR0gsT0FBTyxDQUFDLGlCQUFpQixDQUFDO0FBRWxELE1BQU1JLG1CQUFtQixDQUFDO0VBQ3hCO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFLGFBQWFDLHFDQUFxQ0EsQ0FBQ0MsTUFBTSxFQUFFQyxPQUFPLEVBQUU7SUFDbEUsSUFBSTtNQUNGLE1BQU1DLFlBQVksR0FBRyxNQUFNUCx3QkFBd0IsQ0FDakRLLE1BQU0sRUFDTixtQkFBbUIsRUFDbkIsdUJBQXVC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