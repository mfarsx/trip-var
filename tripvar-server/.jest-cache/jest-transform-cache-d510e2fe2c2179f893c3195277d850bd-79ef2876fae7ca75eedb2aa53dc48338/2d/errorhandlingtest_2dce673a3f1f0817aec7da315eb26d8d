5a94c3f925e84722ac58926810a6e245
const request = require('supertest');
const app = require('./app.test');
const {
  setupTestEnvironment,
  cleanupTestEnvironment,
  clearDatabase,
  createTestUser,
  generateTestToken,
  expectValidationError,
  expectAuthError,
  expectSuccessResponse
} = require('./setup');
describe('Error Handling Tests', () => {
  beforeAll(async () => {
    await setupTestEnvironment();
  });
  afterAll(async () => {
    await cleanupTestEnvironment();
  });
  beforeEach(async () => {
    await clearDatabase();
  });
  describe('Malformed Request Handling', () => {
    it('should handle malformed JSON gracefully', async () => {
      const response = await request(app).post('/api/v1/auth/register').set('Content-Type', 'application/json').send('invalid json').expect(400);
      expect(response.body.status).toBe('fail');
      expect(response.body.message).toContain('JSON');
    });
    it('should handle oversized request body', async () => {
      const largeData = 'x'.repeat(11 * 1024 * 1024); // 11MB

      const response = await request(app).post('/api/v1/auth/register').set('Content-Type', 'application/json').send({
        data: largeData
      }).expect(413); // Payload too large

      expect(response.body.status).toBe('fail');
    });
    it('should handle missing Content-Type header', async () => {
      const response = await request(app).post('/api/v1/auth/register').send({
        email: 'test@example.com'
      }).expect(400);
      expect(response.body.status).toBe('fail');
    });
  });
  describe('Invalid Route Handling', () => {
    it('should return 404 for undefined routes', async () => {
      const response = await request(app).get('/api/v1/nonexistent-route').expect(404);
      expect(response.body.status).toBe('fail');
      expect(response.body.message).toContain('not found');
    });
    it('should return 405 for unsupported HTTP methods', async () => {
      const response = await request(app).patch('/api/v1/destinations').expect(405);
      expect(response.body.status).toBe('fail');
    });
  });
  describe('Database Error Handling', () => {
    it('should handle database connection errors gracefully', async () => {
      // This test simulates a database error scenario
      const response = await request(app).get('/api/v1/destinations').expect(200);

      // Should still respond even if there are database issues
      expect(response.body.status).toBe('success');
    });
  });
  describe('Authentication Error Scenarios', () => {
    it('should handle malformed authorization header', async () => {
      const response = await request(app).get('/api/v1/auth/profile').set('Authorization', 'InvalidFormat token').expect(401);
      expectAuthError(response, 401);
    });
    it('should handle empty authorization header', async () => {
      const response = await request(app).get('/api/v1/auth/profile').set('Authorization', '').expect(401);
      expectAuthError(response, 401);
    });
    it('should handle missing authorization header', async () => {
      const response = await request(app).get('/api/v1/auth/profile').expect(401);
      expectAuthError(response, 401);
    });
  });
  describe('Input Validation Edge Cases', () => {
    it('should handle extremely long input strings', async () => {
      const longString = 'a'.repeat(10000);
      const response = await request(app).post('/api/v1/auth/register').send({
        email: 'test@example.com',
        password: 'ValidPassword123!',
        name: longString
      }).expect(400);
      expectValidationError(response, 400, ['name']);
    });
    it('should handle special characters in input', async () => {
      const response = await request(app).post('/api/v1/auth/register').send({
        email: 'test@example.com',
        password: 'ValidPassword123!',
        name: '<script>alert("xss")</script>'
      }).expect(201); // Should be sanitized and accepted

      expectSuccessResponse(response, 201);
    });
    it('should handle null and undefined values', async () => {
      const response = await request(app).post('/api/v1/auth/register').send({
        email: null,
        password: undefined,
        name: 'Test User'
      }).expect(400);
      expectValidationError(response, 400, ['email', 'password']);
    });
    it('should handle empty strings', async () => {
      const response = await request(app).post('/api/v1/auth/register').send({
        email: '',
        password: '',
        name: ''
      }).expect(400);
      expectValidationError(response, 400, ['email', 'password', 'name']);
    });
  });
  describe('Rate Limiting Edge Cases', () => {
    it('should handle rapid successive requests', async () => {
      const requests = Array(20).fill().map(() => request(app).get('/api/v1/destinations'));
      const responses = await Promise.allSettled(requests);

      // Some requests should be rate limited
      const rateLimitedResponses = responses.filter(response => response.status === 'fulfilled' && response.value.status === 429);
      expect(responses.length).toBe(20);
      // Rate limiting should kick in for some requests
      expect(rateLimitedResponses.length).toBeGreaterThan(0);
    });
  });
  describe('Concurrent Request Handling', () => {
    it('should handle concurrent user registrations', async () => {
      const userData = {
        email: 'concurrent@example.com',
        password: 'ConcurrentPassword123!',
        name: 'Concurrent User'
      };
      const requests = Array(5).fill().map((_, index) => request(app).post('/api/v1/auth/register').send({
        ...userData,
        email: `concurrent${index}@example.com`
      }));
      const responses = await Promise.allSettled(requests);

      // All should succeed since they have different emails
      const successfulResponses = responses.filter(response => response.status === 'fulfilled' && response.value.status === 201);
      expect(successfulResponses.length).toBe(5);
    });
  });
  describe('Memory and Resource Management', () => {
    it('should handle large response payloads', async () => {
      // Create multiple destinations to test large responses
      const createPromises = Array(100).fill().map(async (_, index) => {
        const adminUser = await createTestUser({
          role: 'admin'
        });
        return request(app).post('/api/v1/destinations').set('Authorization', `Bearer ${generateTestToken(adminUser)}`).send({
          title: `Test Destination ${index}`,
          description: 'Test description',
          location: 'Test Location',
          category: 'Test',
          price: 100
        });
      });

      // This test ensures the server can handle large response payloads
      const response = await request(app).get('/api/v1/destinations').expect(200);
      expect(response.body.status).toBe('success');
      expect(Array.isArray(response.body.data.destinations)).toBe(true);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImFwcCIsInNldHVwVGVzdEVudmlyb25tZW50IiwiY2xlYW51cFRlc3RFbnZpcm9ubWVudCIsImNsZWFyRGF0YWJhc2UiLCJjcmVhdGVUZXN0VXNlciIsImdlbmVyYXRlVGVzdFRva2VuIiwiZXhwZWN0VmFsaWRhdGlvbkVycm9yIiwiZXhwZWN0QXV0aEVycm9yIiwiZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlIiwiZGVzY3JpYmUiLCJiZWZvcmVBbGwiLCJhZnRlckFsbCIsImJlZm9yZUVhY2giLCJpdCIsInJlc3BvbnNlIiwicG9zdCIsInNldCIsInNlbmQiLCJleHBlY3QiLCJib2R5Iiwic3RhdHVzIiwidG9CZSIsIm1lc3NhZ2UiLCJ0b0NvbnRhaW4iLCJsYXJnZURhdGEiLCJyZXBlYXQiLCJkYXRhIiwiZW1haWwiLCJnZXQiLCJwYXRjaCIsImxvbmdTdHJpbmciLCJwYXNzd29yZCIsIm5hbWUiLCJ1bmRlZmluZWQiLCJyZXF1ZXN0cyIsIkFycmF5IiwiZmlsbCIsIm1hcCIsInJlc3BvbnNlcyIsIlByb21pc2UiLCJhbGxTZXR0bGVkIiwicmF0ZUxpbWl0ZWRSZXNwb25zZXMiLCJmaWx0ZXIiLCJ2YWx1ZSIsImxlbmd0aCIsInRvQmVHcmVhdGVyVGhhbiIsInVzZXJEYXRhIiwiXyIsImluZGV4Iiwic3VjY2Vzc2Z1bFJlc3BvbnNlcyIsImNyZWF0ZVByb21pc2VzIiwiYWRtaW5Vc2VyIiwicm9sZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJsb2NhdGlvbiIsImNhdGVnb3J5IiwicHJpY2UiLCJpc0FycmF5IiwiZGVzdGluYXRpb25zIl0sInNvdXJjZXMiOlsiZXJyb3ItaGFuZGxpbmcudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnc3VwZXJ0ZXN0Jyk7XG5jb25zdCBhcHAgPSByZXF1aXJlKCcuL2FwcC50ZXN0Jyk7XG5jb25zdCB7XG4gIHNldHVwVGVzdEVudmlyb25tZW50LFxuICBjbGVhbnVwVGVzdEVudmlyb25tZW50LFxuICBjbGVhckRhdGFiYXNlLFxuICBjcmVhdGVUZXN0VXNlcixcbiAgZ2VuZXJhdGVUZXN0VG9rZW4sXG4gIGV4cGVjdFZhbGlkYXRpb25FcnJvcixcbiAgZXhwZWN0QXV0aEVycm9yLFxuICBleHBlY3RTdWNjZXNzUmVzcG9uc2Vcbn0gPSByZXF1aXJlKCcuL3NldHVwJyk7XG5cbmRlc2NyaWJlKCdFcnJvciBIYW5kbGluZyBUZXN0cycsICgpID0+IHtcbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBzZXR1cFRlc3RFbnZpcm9ubWVudCgpO1xuICB9KTtcblxuICBhZnRlckFsbChhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgY2xlYW51cFRlc3RFbnZpcm9ubWVudCgpO1xuICB9KTtcblxuICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBjbGVhckRhdGFiYXNlKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNYWxmb3JtZWQgUmVxdWVzdCBIYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtYWxmb3JtZWQgSlNPTiBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvdjEvYXV0aC9yZWdpc3RlcicpXG4gICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJylcbiAgICAgICAgLnNlbmQoJ2ludmFsaWQganNvbicpXG4gICAgICAgIC5leHBlY3QoNDAwKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3RhdHVzKS50b0JlKCdmYWlsJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5tZXNzYWdlKS50b0NvbnRhaW4oJ0pTT04nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG92ZXJzaXplZCByZXF1ZXN0IGJvZHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBsYXJnZURhdGEgPSAneCcucmVwZWF0KDExICogMTAyNCAqIDEwMjQpOyAvLyAxMU1CXG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3YxL2F1dGgvcmVnaXN0ZXInKVxuICAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpXG4gICAgICAgIC5zZW5kKHsgZGF0YTogbGFyZ2VEYXRhIH0pXG4gICAgICAgIC5leHBlY3QoNDEzKTsgLy8gUGF5bG9hZCB0b28gbGFyZ2VcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3RhdHVzKS50b0JlKCdmYWlsJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIENvbnRlbnQtVHlwZSBoZWFkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS92MS9hdXRoL3JlZ2lzdGVyJylcbiAgICAgICAgLnNlbmQoeyBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0pXG4gICAgICAgIC5leHBlY3QoNDAwKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3RhdHVzKS50b0JlKCdmYWlsJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdJbnZhbGlkIFJvdXRlIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwNCBmb3IgdW5kZWZpbmVkIHJvdXRlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvdjEvbm9uZXhpc3RlbnQtcm91dGUnKVxuICAgICAgICAuZXhwZWN0KDQwNCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN0YXR1cykudG9CZSgnZmFpbCcpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkubWVzc2FnZSkudG9Db250YWluKCdub3QgZm91bmQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwNSBmb3IgdW5zdXBwb3J0ZWQgSFRUUCBtZXRob2RzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBhdGNoKCcvYXBpL3YxL2Rlc3RpbmF0aW9ucycpXG4gICAgICAgIC5leHBlY3QoNDA1KTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3RhdHVzKS50b0JlKCdmYWlsJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdEYXRhYmFzZSBFcnJvciBIYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSBjb25uZWN0aW9uIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gVGhpcyB0ZXN0IHNpbXVsYXRlcyBhIGRhdGFiYXNlIGVycm9yIHNjZW5hcmlvXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3YxL2Rlc3RpbmF0aW9ucycpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgLy8gU2hvdWxkIHN0aWxsIHJlc3BvbmQgZXZlbiBpZiB0aGVyZSBhcmUgZGF0YWJhc2UgaXNzdWVzXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdGF0dXMpLnRvQmUoJ3N1Y2Nlc3MnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0F1dGhlbnRpY2F0aW9uIEVycm9yIFNjZW5hcmlvcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtYWxmb3JtZWQgYXV0aG9yaXphdGlvbiBoZWFkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3YxL2F1dGgvcHJvZmlsZScpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnSW52YWxpZEZvcm1hdCB0b2tlbicpXG4gICAgICAgIC5leHBlY3QoNDAxKTtcblxuICAgICAgZXhwZWN0QXV0aEVycm9yKHJlc3BvbnNlLCA0MDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgYXV0aG9yaXphdGlvbiBoZWFkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3YxL2F1dGgvcHJvZmlsZScpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnJylcbiAgICAgICAgLmV4cGVjdCg0MDEpO1xuXG4gICAgICBleHBlY3RBdXRoRXJyb3IocmVzcG9uc2UsIDQwMSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIGF1dGhvcml6YXRpb24gaGVhZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS9hdXRoL3Byb2ZpbGUnKVxuICAgICAgICAuZXhwZWN0KDQwMSk7XG5cbiAgICAgIGV4cGVjdEF1dGhFcnJvcihyZXNwb25zZSwgNDAxKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0lucHV0IFZhbGlkYXRpb24gRWRnZSBDYXNlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBleHRyZW1lbHkgbG9uZyBpbnB1dCBzdHJpbmdzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbG9uZ1N0cmluZyA9ICdhJy5yZXBlYXQoMTAwMDApO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS92MS9hdXRoL3JlZ2lzdGVyJylcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgICAgcGFzc3dvcmQ6ICdWYWxpZFBhc3N3b3JkMTIzIScsXG4gICAgICAgICAgbmFtZTogbG9uZ1N0cmluZ1xuICAgICAgICB9KVxuICAgICAgICAuZXhwZWN0KDQwMCk7XG5cbiAgICAgIGV4cGVjdFZhbGlkYXRpb25FcnJvcihyZXNwb25zZSwgNDAwLCBbJ25hbWUnXSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gaW5wdXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS92MS9hdXRoL3JlZ2lzdGVyJylcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgICAgcGFzc3dvcmQ6ICdWYWxpZFBhc3N3b3JkMTIzIScsXG4gICAgICAgICAgbmFtZTogJzxzY3JpcHQ+YWxlcnQoXCJ4c3NcIik8L3NjcmlwdD4nXG4gICAgICAgIH0pXG4gICAgICAgIC5leHBlY3QoMjAxKTsgLy8gU2hvdWxkIGJlIHNhbml0aXplZCBhbmQgYWNjZXB0ZWRcblxuICAgICAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlKHJlc3BvbnNlLCAyMDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbCBhbmQgdW5kZWZpbmVkIHZhbHVlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3YxL2F1dGgvcmVnaXN0ZXInKVxuICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgZW1haWw6IG51bGwsXG4gICAgICAgICAgcGFzc3dvcmQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuYW1lOiAnVGVzdCBVc2VyJ1xuICAgICAgICB9KVxuICAgICAgICAuZXhwZWN0KDQwMCk7XG5cbiAgICAgIGV4cGVjdFZhbGlkYXRpb25FcnJvcihyZXNwb25zZSwgNDAwLCBbJ2VtYWlsJywgJ3Bhc3N3b3JkJ10pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgc3RyaW5ncycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3YxL2F1dGgvcmVnaXN0ZXInKVxuICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgZW1haWw6ICcnLFxuICAgICAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgICAgICBuYW1lOiAnJ1xuICAgICAgICB9KVxuICAgICAgICAuZXhwZWN0KDQwMCk7XG5cbiAgICAgIGV4cGVjdFZhbGlkYXRpb25FcnJvcihyZXNwb25zZSwgNDAwLCBbJ2VtYWlsJywgJ3Bhc3N3b3JkJywgJ25hbWUnXSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSYXRlIExpbWl0aW5nIEVkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcmFwaWQgc3VjY2Vzc2l2ZSByZXF1ZXN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RzID0gQXJyYXkoMjApLmZpbGwoKS5tYXAoKCkgPT5cbiAgICAgICAgcmVxdWVzdChhcHApLmdldCgnL2FwaS92MS9kZXN0aW5hdGlvbnMnKVxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHJlcXVlc3RzKTtcbiAgICAgIFxuICAgICAgLy8gU29tZSByZXF1ZXN0cyBzaG91bGQgYmUgcmF0ZSBsaW1pdGVkXG4gICAgICBjb25zdCByYXRlTGltaXRlZFJlc3BvbnNlcyA9IHJlc3BvbnNlcy5maWx0ZXIoXG4gICAgICAgIHJlc3BvbnNlID0+IHJlc3BvbnNlLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgJiYgcmVzcG9uc2UudmFsdWUuc3RhdHVzID09PSA0MjlcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZXMubGVuZ3RoKS50b0JlKDIwKTtcbiAgICAgIC8vIFJhdGUgbGltaXRpbmcgc2hvdWxkIGtpY2sgaW4gZm9yIHNvbWUgcmVxdWVzdHNcbiAgICAgIGV4cGVjdChyYXRlTGltaXRlZFJlc3BvbnNlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbmN1cnJlbnQgUmVxdWVzdCBIYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb25jdXJyZW50IHVzZXIgcmVnaXN0cmF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXJEYXRhID0ge1xuICAgICAgICBlbWFpbDogJ2NvbmN1cnJlbnRAZXhhbXBsZS5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ0NvbmN1cnJlbnRQYXNzd29yZDEyMyEnLFxuICAgICAgICBuYW1lOiAnQ29uY3VycmVudCBVc2VyJ1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVxdWVzdHMgPSBBcnJheSg1KS5maWxsKCkubWFwKChfLCBpbmRleCkgPT5cbiAgICAgICAgcmVxdWVzdChhcHApXG4gICAgICAgICAgLnBvc3QoJy9hcGkvdjEvYXV0aC9yZWdpc3RlcicpXG4gICAgICAgICAgLnNlbmQoe1xuICAgICAgICAgICAgLi4udXNlckRhdGEsXG4gICAgICAgICAgICBlbWFpbDogYGNvbmN1cnJlbnQke2luZGV4fUBleGFtcGxlLmNvbWBcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHJlcXVlc3RzKTtcbiAgICAgIFxuICAgICAgLy8gQWxsIHNob3VsZCBzdWNjZWVkIHNpbmNlIHRoZXkgaGF2ZSBkaWZmZXJlbnQgZW1haWxzXG4gICAgICBjb25zdCBzdWNjZXNzZnVsUmVzcG9uc2VzID0gcmVzcG9uc2VzLmZpbHRlcihcbiAgICAgICAgcmVzcG9uc2UgPT4gcmVzcG9uc2Uuc3RhdHVzID09PSAnZnVsZmlsbGVkJyAmJiByZXNwb25zZS52YWx1ZS5zdGF0dXMgPT09IDIwMVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHN1Y2Nlc3NmdWxSZXNwb25zZXMubGVuZ3RoKS50b0JlKDUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTWVtb3J5IGFuZCBSZXNvdXJjZSBNYW5hZ2VtZW50JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGxhcmdlIHJlc3BvbnNlIHBheWxvYWRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIG11bHRpcGxlIGRlc3RpbmF0aW9ucyB0byB0ZXN0IGxhcmdlIHJlc3BvbnNlc1xuICAgICAgY29uc3QgY3JlYXRlUHJvbWlzZXMgPSBBcnJheSgxMDApLmZpbGwoKS5tYXAoYXN5bmMgKF8sIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGFkbWluVXNlciA9IGF3YWl0IGNyZWF0ZVRlc3RVc2VyKHsgcm9sZTogJ2FkbWluJyB9KTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3QoYXBwKVxuICAgICAgICAgIC5wb3N0KCcvYXBpL3YxL2Rlc3RpbmF0aW9ucycpXG4gICAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHtnZW5lcmF0ZVRlc3RUb2tlbihhZG1pblVzZXIpfWApXG4gICAgICAgICAgLnNlbmQoe1xuICAgICAgICAgICAgdGl0bGU6IGBUZXN0IERlc3RpbmF0aW9uICR7aW5kZXh9YCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCBkZXNjcmlwdGlvbicsXG4gICAgICAgICAgICBsb2NhdGlvbjogJ1Rlc3QgTG9jYXRpb24nLFxuICAgICAgICAgICAgY2F0ZWdvcnk6ICdUZXN0JyxcbiAgICAgICAgICAgIHByaWNlOiAxMDBcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBUaGlzIHRlc3QgZW5zdXJlcyB0aGUgc2VydmVyIGNhbiBoYW5kbGUgbGFyZ2UgcmVzcG9uc2UgcGF5bG9hZHNcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvdjEvZGVzdGluYXRpb25zJylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdGF0dXMpLnRvQmUoJ3N1Y2Nlc3MnKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3BvbnNlLmJvZHkuZGF0YS5kZXN0aW5hdGlvbnMpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3BDLE1BQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLFlBQVksQ0FBQztBQUNqQyxNQUFNO0VBQ0pFLG9CQUFvQjtFQUNwQkMsc0JBQXNCO0VBQ3RCQyxhQUFhO0VBQ2JDLGNBQWM7RUFDZEMsaUJBQWlCO0VBQ2pCQyxxQkFBcUI7RUFDckJDLGVBQWU7RUFDZkM7QUFDRixDQUFDLEdBQUdULE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFFdEJVLFFBQVEsQ0FBQyxzQkFBc0IsRUFBRSxNQUFNO0VBQ3JDQyxTQUFTLENBQUMsWUFBWTtJQUNwQixNQUFNVCxvQkFBb0IsQ0FBQyxDQUFDO0VBQzlCLENBQUMsQ0FBQztFQUVGVSxRQUFRLENBQUMsWUFBWTtJQUNuQixNQUFNVCxzQkFBc0IsQ0FBQyxDQUFDO0VBQ2hDLENBQUMsQ0FBQztFQUVGVSxVQUFVLENBQUMsWUFBWTtJQUNyQixNQUFNVCxhQUFhLENBQUMsQ0FBQztFQUN2QixDQUFDLENBQUM7RUFFRk0sUUFBUSxDQUFDLDRCQUE0QixFQUFFLE1BQU07SUFD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