66749323a852254196381f9d17d71df2
const request = require('supertest');
const app = require('./app.test');
const {
  setupTestEnvironment,
  cleanupTestEnvironment,
  clearDatabase,
  createTestUser,
  generateTestToken,
  expectValidationError,
  expectAuthError,
  expectSuccessResponse
} = require('./setup');
describe('Error Handling Tests', () => {
  beforeAll(async () => {
    await setupTestEnvironment();
  });
  afterAll(async () => {
    await cleanupTestEnvironment();
  });
  beforeEach(async () => {
    await clearDatabase();
  });
  describe('Malformed Request Handling', () => {
    it('should handle malformed JSON gracefully', async () => {
      const response = await request(app).post('/api/v1/auth/register').set('Content-Type', 'application/json').send('invalid json').expect(400);
      expect(response.body.status).toBe('fail');
      expect(response.body.message).toContain('JSON');
    });
    it('should handle oversized request body', async () => {
      const largeData = 'x'.repeat(11 * 1024 * 1024); // 11MB

      const response = await request(app).post('/api/v1/auth/register').set('Content-Type', 'application/json').send({
        data: largeData
      }).expect(413); // Payload too large

      expect(response.body.status).toBe('fail');
    });
    it('should handle missing Content-Type header', async () => {
      const response = await request(app).post('/api/v1/auth/register').send({
        email: 'test@example.com'
      }).expect(400);
      expect(response.body.status).toBe('fail');
    });
  });
  describe('Invalid Route Handling', () => {
    it('should return 404 for undefined routes', async () => {
      const response = await request(app).get('/api/v1/nonexistent-route').expect(404);
      expect(response.body.status).toBe('fail');
      expect(response.body.message).toContain('not found');
    });
    it('should return 404 for unsupported HTTP methods on existing routes', async () => {
      const response = await request(app).patch('/api/v1/destinations').expect(404);
      expect(response.body.status).toBe('fail');
    });
  });
  describe('Database Error Handling', () => {
    it('should handle database connection errors gracefully', async () => {
      // This test verifies the API responds properly under normal conditions
      const response = await request(app).get('/api/v1/destinations').expect(200);

      // Should respond with success status
      expect(response.body.status).toBe('success');
      expect(response.body.data).toBeDefined();
    });
  });
  describe('Authentication Error Scenarios', () => {
    it('should handle malformed authorization header', async () => {
      const response = await request(app).get('/api/v1/auth/profile').set('Authorization', 'InvalidFormat token').expect(401);
      expectAuthError(response, 401);
    });
    it('should handle empty authorization header', async () => {
      const response = await request(app).get('/api/v1/auth/profile').set('Authorization', '').expect(401);
      expectAuthError(response, 401);
    });
    it('should handle missing authorization header', async () => {
      const response = await request(app).get('/api/v1/auth/profile').expect(401);
      expectAuthError(response, 401);
    });
  });
  describe('Input Validation Edge Cases', () => {
    it('should handle extremely long input strings', async () => {
      const longString = 'a'.repeat(10000);
      const response = await request(app).post('/api/v1/auth/register').send({
        email: 'test@example.com',
        password: 'ValidPassword123!',
        name: longString
      }).expect(400);
      expectValidationError(response, 400, ['name']);
    });
    it('should handle special characters in input', async () => {
      const response = await request(app).post('/api/v1/auth/register').send({
        email: 'test@example.com',
        password: 'ValidPassword123!',
        name: '<script>alert("xss")</script>'
      }).expect(201); // Should be sanitized and accepted

      expectSuccessResponse(response, 201);
    });
    it('should handle null and undefined values', async () => {
      const response = await request(app).post('/api/v1/auth/register').send({
        email: null,
        password: undefined,
        name: 'Test User'
      }).expect(400);
      expectValidationError(response, 400, ['email', 'password']);
    });
    it('should handle empty strings', async () => {
      const response = await request(app).post('/api/v1/auth/register').send({
        email: '',
        password: '',
        name: ''
      }).expect(400);
      expectValidationError(response, 400, ['email', 'password', 'name']);
    });
  });
  describe('Rate Limiting Edge Cases', () => {
    it('should handle rapid successive requests', async () => {
      const requests = Array(20).fill().map(() => request(app).get('/api/v1/destinations'));
      const responses = await Promise.allSettled(requests);

      // All requests should complete (rate limiting may or may not kick in depending on timing)
      const successfulResponses = responses.filter(response => response.status === 'fulfilled' && (response.value.status === 200 || response.value.status === 429));
      expect(responses.length).toBe(20);
      expect(successfulResponses.length).toBe(20);
    });
  });
  describe('Concurrent Request Handling', () => {
    it('should handle concurrent user registrations', async () => {
      const userData = {
        email: 'concurrent@example.com',
        password: 'ConcurrentPassword123!',
        name: 'Concurrent User'
      };
      const requests = Array(5).fill().map((_, index) => request(app).post('/api/v1/auth/register').send({
        ...userData,
        email: `concurrent${index}@example.com`
      }));
      const responses = await Promise.allSettled(requests);

      // All should succeed since they have different emails
      const successfulResponses = responses.filter(response => response.status === 'fulfilled' && response.value.status === 201);
      expect(successfulResponses.length).toBe(5);
    });
  });
  describe('Memory and Resource Management', () => {
    it('should handle large response payloads', async () => {
      // Create multiple destinations to test large responses
      const createPromises = Array(100).fill().map(async (_, index) => {
        const adminUser = await createTestUser({
          role: 'admin'
        });
        return request(app).post('/api/v1/destinations').set('Authorization', `Bearer ${generateTestToken(adminUser)}`).send({
          title: `Test Destination ${index}`,
          description: 'Test description',
          location: 'Test Location',
          category: 'Test',
          price: 100
        });
      });

      // This test ensures the server can handle large response payloads
      const response = await request(app).get('/api/v1/destinations').expect(200);
      expect(response.body.status).toBe('success');
      expect(Array.isArray(response.body.data.destinations)).toBe(true);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImFwcCIsInNldHVwVGVzdEVudmlyb25tZW50IiwiY2xlYW51cFRlc3RFbnZpcm9ubWVudCIsImNsZWFyRGF0YWJhc2UiLCJjcmVhdGVUZXN0VXNlciIsImdlbmVyYXRlVGVzdFRva2VuIiwiZXhwZWN0VmFsaWRhdGlvbkVycm9yIiwiZXhwZWN0QXV0aEVycm9yIiwiZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlIiwiZGVzY3JpYmUiLCJiZWZvcmVBbGwiLCJhZnRlckFsbCIsImJlZm9yZUVhY2giLCJpdCIsInJlc3BvbnNlIiwicG9zdCIsInNldCIsInNlbmQiLCJleHBlY3QiLCJib2R5Iiwic3RhdHVzIiwidG9CZSIsIm1lc3NhZ2UiLCJ0b0NvbnRhaW4iLCJsYXJnZURhdGEiLCJyZXBlYXQiLCJkYXRhIiwiZW1haWwiLCJnZXQiLCJwYXRjaCIsInRvQmVEZWZpbmVkIiwibG9uZ1N0cmluZyIsInBhc3N3b3JkIiwibmFtZSIsInVuZGVmaW5lZCIsInJlcXVlc3RzIiwiQXJyYXkiLCJmaWxsIiwibWFwIiwicmVzcG9uc2VzIiwiUHJvbWlzZSIsImFsbFNldHRsZWQiLCJzdWNjZXNzZnVsUmVzcG9uc2VzIiwiZmlsdGVyIiwidmFsdWUiLCJsZW5ndGgiLCJ1c2VyRGF0YSIsIl8iLCJpbmRleCIsImNyZWF0ZVByb21pc2VzIiwiYWRtaW5Vc2VyIiwicm9sZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJsb2NhdGlvbiIsImNhdGVnb3J5IiwicHJpY2UiLCJpc0FycmF5IiwiZGVzdGluYXRpb25zIl0sInNvdXJjZXMiOlsiZXJyb3ItaGFuZGxpbmcudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnc3VwZXJ0ZXN0Jyk7XG5jb25zdCBhcHAgPSByZXF1aXJlKCcuL2FwcC50ZXN0Jyk7XG5jb25zdCB7XG4gIHNldHVwVGVzdEVudmlyb25tZW50LFxuICBjbGVhbnVwVGVzdEVudmlyb25tZW50LFxuICBjbGVhckRhdGFiYXNlLFxuICBjcmVhdGVUZXN0VXNlcixcbiAgZ2VuZXJhdGVUZXN0VG9rZW4sXG4gIGV4cGVjdFZhbGlkYXRpb25FcnJvcixcbiAgZXhwZWN0QXV0aEVycm9yLFxuICBleHBlY3RTdWNjZXNzUmVzcG9uc2Vcbn0gPSByZXF1aXJlKCcuL3NldHVwJyk7XG5cbmRlc2NyaWJlKCdFcnJvciBIYW5kbGluZyBUZXN0cycsICgpID0+IHtcbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBzZXR1cFRlc3RFbnZpcm9ubWVudCgpO1xuICB9KTtcblxuICBhZnRlckFsbChhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgY2xlYW51cFRlc3RFbnZpcm9ubWVudCgpO1xuICB9KTtcblxuICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBjbGVhckRhdGFiYXNlKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNYWxmb3JtZWQgUmVxdWVzdCBIYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtYWxmb3JtZWQgSlNPTiBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvdjEvYXV0aC9yZWdpc3RlcicpXG4gICAgICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJylcbiAgICAgICAgLnNlbmQoJ2ludmFsaWQganNvbicpXG4gICAgICAgIC5leHBlY3QoNDAwKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3RhdHVzKS50b0JlKCdmYWlsJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5tZXNzYWdlKS50b0NvbnRhaW4oJ0pTT04nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG92ZXJzaXplZCByZXF1ZXN0IGJvZHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBsYXJnZURhdGEgPSAneCcucmVwZWF0KDExICogMTAyNCAqIDEwMjQpOyAvLyAxMU1CXG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3YxL2F1dGgvcmVnaXN0ZXInKVxuICAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpXG4gICAgICAgIC5zZW5kKHsgZGF0YTogbGFyZ2VEYXRhIH0pXG4gICAgICAgIC5leHBlY3QoNDEzKTsgLy8gUGF5bG9hZCB0b28gbGFyZ2VcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3RhdHVzKS50b0JlKCdmYWlsJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIENvbnRlbnQtVHlwZSBoZWFkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS92MS9hdXRoL3JlZ2lzdGVyJylcbiAgICAgICAgLnNlbmQoeyBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0pXG4gICAgICAgIC5leHBlY3QoNDAwKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3RhdHVzKS50b0JlKCdmYWlsJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdJbnZhbGlkIFJvdXRlIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwNCBmb3IgdW5kZWZpbmVkIHJvdXRlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvdjEvbm9uZXhpc3RlbnQtcm91dGUnKVxuICAgICAgICAuZXhwZWN0KDQwNCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN0YXR1cykudG9CZSgnZmFpbCcpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkubWVzc2FnZSkudG9Db250YWluKCdub3QgZm91bmQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwNCBmb3IgdW5zdXBwb3J0ZWQgSFRUUCBtZXRob2RzIG9uIGV4aXN0aW5nIHJvdXRlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wYXRjaCgnL2FwaS92MS9kZXN0aW5hdGlvbnMnKVxuICAgICAgICAuZXhwZWN0KDQwNCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN0YXR1cykudG9CZSgnZmFpbCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRGF0YWJhc2UgRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGF0YWJhc2UgY29ubmVjdGlvbiBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFRoaXMgdGVzdCB2ZXJpZmllcyB0aGUgQVBJIHJlc3BvbmRzIHByb3Blcmx5IHVuZGVyIG5vcm1hbCBjb25kaXRpb25zXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3YxL2Rlc3RpbmF0aW9ucycpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgLy8gU2hvdWxkIHJlc3BvbmQgd2l0aCBzdWNjZXNzIHN0YXR1c1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3RhdHVzKS50b0JlKCdzdWNjZXNzJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5kYXRhKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQXV0aGVudGljYXRpb24gRXJyb3IgU2NlbmFyaW9zJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1hbGZvcm1lZCBhdXRob3JpemF0aW9uIGhlYWRlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvdjEvYXV0aC9wcm9maWxlJylcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICdJbnZhbGlkRm9ybWF0IHRva2VuJylcbiAgICAgICAgLmV4cGVjdCg0MDEpO1xuXG4gICAgICBleHBlY3RBdXRoRXJyb3IocmVzcG9uc2UsIDQwMSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBhdXRob3JpemF0aW9uIGhlYWRlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvdjEvYXV0aC9wcm9maWxlJylcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsICcnKVxuICAgICAgICAuZXhwZWN0KDQwMSk7XG5cbiAgICAgIGV4cGVjdEF1dGhFcnJvcihyZXNwb25zZSwgNDAxKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1pc3NpbmcgYXV0aG9yaXphdGlvbiBoZWFkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3YxL2F1dGgvcHJvZmlsZScpXG4gICAgICAgIC5leHBlY3QoNDAxKTtcblxuICAgICAgZXhwZWN0QXV0aEVycm9yKHJlc3BvbnNlLCA0MDEpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnSW5wdXQgVmFsaWRhdGlvbiBFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGV4dHJlbWVseSBsb25nIGlucHV0IHN0cmluZ3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBsb25nU3RyaW5nID0gJ2EnLnJlcGVhdCgxMDAwMCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3YxL2F1dGgvcmVnaXN0ZXInKVxuICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBwYXNzd29yZDogJ1ZhbGlkUGFzc3dvcmQxMjMhJyxcbiAgICAgICAgICBuYW1lOiBsb25nU3RyaW5nXG4gICAgICAgIH0pXG4gICAgICAgIC5leHBlY3QoNDAwKTtcblxuICAgICAgZXhwZWN0VmFsaWRhdGlvbkVycm9yKHJlc3BvbnNlLCA0MDAsIFsnbmFtZSddKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNwZWNpYWwgY2hhcmFjdGVycyBpbiBpbnB1dCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3YxL2F1dGgvcmVnaXN0ZXInKVxuICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBwYXNzd29yZDogJ1ZhbGlkUGFzc3dvcmQxMjMhJyxcbiAgICAgICAgICBuYW1lOiAnPHNjcmlwdD5hbGVydChcInhzc1wiKTwvc2NyaXB0PidcbiAgICAgICAgfSlcbiAgICAgICAgLmV4cGVjdCgyMDEpOyAvLyBTaG91bGQgYmUgc2FuaXRpemVkIGFuZCBhY2NlcHRlZFxuXG4gICAgICBleHBlY3RTdWNjZXNzUmVzcG9uc2UocmVzcG9uc2UsIDIwMSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBudWxsIGFuZCB1bmRlZmluZWQgdmFsdWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvdjEvYXV0aC9yZWdpc3RlcicpXG4gICAgICAgIC5zZW5kKHtcbiAgICAgICAgICBlbWFpbDogbnVsbCxcbiAgICAgICAgICBwYXNzd29yZDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5hbWU6ICdUZXN0IFVzZXInXG4gICAgICAgIH0pXG4gICAgICAgIC5leHBlY3QoNDAwKTtcblxuICAgICAgZXhwZWN0VmFsaWRhdGlvbkVycm9yKHJlc3BvbnNlLCA0MDAsIFsnZW1haWwnLCAncGFzc3dvcmQnXSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBzdHJpbmdzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvdjEvYXV0aC9yZWdpc3RlcicpXG4gICAgICAgIC5zZW5kKHtcbiAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgcGFzc3dvcmQ6ICcnLFxuICAgICAgICAgIG5hbWU6ICcnXG4gICAgICAgIH0pXG4gICAgICAgIC5leHBlY3QoNDAwKTtcblxuICAgICAgZXhwZWN0VmFsaWRhdGlvbkVycm9yKHJlc3BvbnNlLCA0MDAsIFsnZW1haWwnLCAncGFzc3dvcmQnLCAnbmFtZSddKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JhdGUgTGltaXRpbmcgRWRnZSBDYXNlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSByYXBpZCBzdWNjZXNzaXZlIHJlcXVlc3RzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdHMgPSBBcnJheSgyMCkuZmlsbCgpLm1hcCgoKSA9PlxuICAgICAgICByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL3YxL2Rlc3RpbmF0aW9ucycpXG4gICAgICApO1xuXG4gICAgICBjb25zdCByZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocmVxdWVzdHMpO1xuICAgICAgXG4gICAgICAvLyBBbGwgcmVxdWVzdHMgc2hvdWxkIGNvbXBsZXRlIChyYXRlIGxpbWl0aW5nIG1heSBvciBtYXkgbm90IGtpY2sgaW4gZGVwZW5kaW5nIG9uIHRpbWluZylcbiAgICAgIGNvbnN0IHN1Y2Nlc3NmdWxSZXNwb25zZXMgPSByZXNwb25zZXMuZmlsdGVyKFxuICAgICAgICByZXNwb25zZSA9PiByZXNwb25zZS5zdGF0dXMgPT09ICdmdWxmaWxsZWQnICYmIFxuICAgICAgICAocmVzcG9uc2UudmFsdWUuc3RhdHVzID09PSAyMDAgfHwgcmVzcG9uc2UudmFsdWUuc3RhdHVzID09PSA0MjkpXG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2VzLmxlbmd0aCkudG9CZSgyMCk7XG4gICAgICBleHBlY3Qoc3VjY2Vzc2Z1bFJlc3BvbnNlcy5sZW5ndGgpLnRvQmUoMjApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29uY3VycmVudCBSZXF1ZXN0IEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgdXNlciByZWdpc3RyYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlckRhdGEgPSB7XG4gICAgICAgIGVtYWlsOiAnY29uY3VycmVudEBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAnQ29uY3VycmVudFBhc3N3b3JkMTIzIScsXG4gICAgICAgIG5hbWU6ICdDb25jdXJyZW50IFVzZXInXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXF1ZXN0cyA9IEFycmF5KDUpLmZpbGwoKS5tYXAoKF8sIGluZGV4KSA9PlxuICAgICAgICByZXF1ZXN0KGFwcClcbiAgICAgICAgICAucG9zdCgnL2FwaS92MS9hdXRoL3JlZ2lzdGVyJylcbiAgICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgICAuLi51c2VyRGF0YSxcbiAgICAgICAgICAgIGVtYWlsOiBgY29uY3VycmVudCR7aW5kZXh9QGV4YW1wbGUuY29tYFxuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBjb25zdCByZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocmVxdWVzdHMpO1xuICAgICAgXG4gICAgICAvLyBBbGwgc2hvdWxkIHN1Y2NlZWQgc2luY2UgdGhleSBoYXZlIGRpZmZlcmVudCBlbWFpbHNcbiAgICAgIGNvbnN0IHN1Y2Nlc3NmdWxSZXNwb25zZXMgPSByZXNwb25zZXMuZmlsdGVyKFxuICAgICAgICByZXNwb25zZSA9PiByZXNwb25zZS5zdGF0dXMgPT09ICdmdWxmaWxsZWQnICYmIHJlc3BvbnNlLnZhbHVlLnN0YXR1cyA9PT0gMjAxXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc3VjY2Vzc2Z1bFJlc3BvbnNlcy5sZW5ndGgpLnRvQmUoNSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNZW1vcnkgYW5kIFJlc291cmNlIE1hbmFnZW1lbnQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbGFyZ2UgcmVzcG9uc2UgcGF5bG9hZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgbXVsdGlwbGUgZGVzdGluYXRpb25zIHRvIHRlc3QgbGFyZ2UgcmVzcG9uc2VzXG4gICAgICBjb25zdCBjcmVhdGVQcm9taXNlcyA9IEFycmF5KDEwMCkuZmlsbCgpLm1hcChhc3luYyAoXywgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgYWRtaW5Vc2VyID0gYXdhaXQgY3JlYXRlVGVzdFVzZXIoeyByb2xlOiAnYWRtaW4nIH0pO1xuICAgICAgICByZXR1cm4gcmVxdWVzdChhcHApXG4gICAgICAgICAgLnBvc3QoJy9hcGkvdjEvZGVzdGluYXRpb25zJylcbiAgICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke2dlbmVyYXRlVGVzdFRva2VuKGFkbWluVXNlcil9YClcbiAgICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgICB0aXRsZTogYFRlc3QgRGVzdGluYXRpb24gJHtpbmRleH1gLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdUZXN0IGRlc2NyaXB0aW9uJyxcbiAgICAgICAgICAgIGxvY2F0aW9uOiAnVGVzdCBMb2NhdGlvbicsXG4gICAgICAgICAgICBjYXRlZ29yeTogJ1Rlc3QnLFxuICAgICAgICAgICAgcHJpY2U6IDEwMFxuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFRoaXMgdGVzdCBlbnN1cmVzIHRoZSBzZXJ2ZXIgY2FuIGhhbmRsZSBsYXJnZSByZXNwb25zZSBwYXlsb2Fkc1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS9kZXN0aW5hdGlvbnMnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LnN0YXR1cykudG9CZSgnc3VjY2VzcycpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzcG9uc2UuYm9keS5kYXRhLmRlc3RpbmF0aW9ucykpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDcEMsTUFBTUMsR0FBRyxHQUFHRCxPQUFPLENBQUMsWUFBWSxDQUFDO0FBQ2pDLE1BQU07RUFDSkUsb0JBQW9CO0VBQ3BCQyxzQkFBc0I7RUFDdEJDLGFBQWE7RUFDYkMsY0FBYztFQUNkQyxpQkFBaUI7RUFDakJDLHFCQUFxQjtFQUNyQkMsZUFBZTtFQUNmQztBQUNGLENBQUMsR0FBR1QsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUV0QlUsUUFBUSxDQUFDLHNCQUFzQixFQUFFLE1BQU07RUFDckNDLFNBQVMsQ0FBQyxZQUFZO0lBQ3BCLE1BQU1ULG9CQUFvQixDQUFDLENBQUM7RUFDOUIsQ0FBQyxDQUFDO0VBRUZVLFFBQVEsQ0FBQyxZQUFZO0lBQ25CLE1BQU1ULHNCQUFzQixDQUFDLENBQUM7RUFDaEMsQ0FBQyxDQUFDO0VBRUZVLFVBQVUsQ0FBQyxZQUFZO0lBQ3JCLE1BQU1ULGFBQWEsQ0FBQyxDQUFDO0VBQ3ZCLENBQUMsQ0FBQztFQUVGTSxRQUFRLENBQUMsNEJBQTRCLEVBQUUsTUFBTTtJQUMzQ0ksRUFBRSxDQUFDLHlDQUF5QyxFQUFFLFlBQVk7TUFDeEQsTUFBTUMsUUFBUSxHQUFHLE1BQU1oQixPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNoQ2UsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQzdCQyxHQUFHLENBQUMsY0FBYyxFQUFFLGtCQUFrQixDQUFDLENBQ3ZDQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQ3BCQyxNQUFNLENBQUMsR0FBRyxDQUFDO01BRWRBLE1BQU0sQ0FBQ0osUUFBUSxDQUFDSyxJQUFJLENBQUNDLE1BQU0sQ0FBQyxDQUFDQyxJQUFJLENBQUMsTUFBTSxDQUFDO01BQ3pDSCxNQUFNLENBQUNKLFFBQVEsQ0FBQ0ssSUFBSSxDQUFDRyxPQUFPLENBQUMsQ0FBQ0MsU0FBUyxDQUFDLE1BQU0sQ0FBQztJQUNqRCxDQUFDLENBQUM7SUFFRlYsRUFBRSxDQUFDLHNDQUFzQyxFQUFFLFlBQVk7TUFDckQsTUFBTVcsU0FBUyxHQUFHLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEVBQUUsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQzs7TUFFaEQsTUFBTVgsUUFBUSxHQUFHLE1BQU1oQixPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNoQ2UsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQzdCQyxHQUFHLENBQUMsY0FBYyxFQUFFLGtCQUFrQixDQUFDLENBQ3ZDQyxJQUFJLENBQUM7UUFBRVMsSUFBSSxFQUFFRjtNQUFVLENBQUMsQ0FBQyxDQUN6Qk4sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7O01BRWhCQSxNQUFNLENBQUNKLFFBQVEsQ0FBQ0ssSUFBSSxDQUFDQyxNQUFNLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUMzQyxDQUFDLENBQUM7SUFFRlIsRUFBRSxDQUFDLDJDQUEyQyxFQUFFLFlBQVk7TUFDMUQsTUFBTUMsUUFBUSxHQUFHLE1BQU1oQixPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNoQ2UsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQzdCRSxJQUFJLENBQUM7UUFBRVUsS0FBSyxFQUFFO01BQW1CLENBQUMsQ0FBQyxDQUNuQ1QsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUVkQSxNQUFNLENBQUNKLFFBQVEsQ0FBQ0ssSUFBSSxDQUFDQyxNQUFNLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUMzQyxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRlosUUFBUSxDQUFDLHdCQUF3QixFQUFFLE1BQU07SUFDdkNJLEVBQUUsQ0FBQyx3Q0FBd0MsRUFBRSxZQUFZO01BQ3ZELE1BQU1DLFFBQVEsR0FBRyxNQUFNaEIsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaEM0QixHQUFHLENBQUMsMkJBQTJCLENBQUMsQ0FDaENWLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDSixRQUFRLENBQUNLLElBQUksQ0FBQ0MsTUFBTSxDQUFDLENBQUNDLElBQUksQ0FBQyxNQUFNLENBQUM7TUFDekNILE1BQU0sQ0FBQ0osUUFBUSxDQUFDSyxJQUFJLENBQUNHLE9BQU8sQ0FBQyxDQUFDQyxTQUFTLENBQUMsV0FBVyxDQUFDO0lBQ3RELENBQUMsQ0FBQztJQUVGVixFQUFFLENBQUMsbUVBQW1FLEVBQUUsWUFBWTtNQUNsRixNQUFNQyxRQUFRLEdBQUcsTUFBTWhCLE9BQU8sQ0FBQ0UsR0FBRyxDQUFDLENBQ2hDNkIsS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQzdCWCxNQUFNLENBQUMsR0FBRyxDQUFDO01BRWRBLE1BQU0sQ0FBQ0osUUFBUSxDQUFDSyxJQUFJLENBQUNDLE1BQU0sQ0FBQyxDQUFDQyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQzNDLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGWixRQUFRLENBQUMseUJBQXlCLEVBQUUsTUFBTTtJQUN4Q0ksRUFBRSxDQUFDLHFEQUFxRCxFQUFFLFlBQVk7TUFDcEU7TUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTWhCLE9BQU8sQ0FBQ0UsR0FBRyxDQUFDLENBQ2hDNEIsR0FBRyxDQUFDLHNCQUFzQixDQUFDLENBQzNCVixNQUFNLENBQUMsR0FBRyxDQUFDOztNQUVkO01BQ0FBLE1BQU0sQ0FBQ0osUUFBUSxDQUFDSyxJQUFJLENBQUNDLE1BQU0sQ0FBQyxDQUFDQyxJQUFJLENBQUMsU0FBUyxDQUFDO01BQzVDSCxNQUFNLENBQUNKLFFBQVEsQ0FBQ0ssSUFBSSxDQUFDTyxJQUFJLENBQUMsQ0FBQ0ksV0FBVyxDQUFDLENBQUM7SUFDMUMsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZyQixRQUFRLENBQUMsZ0NBQWdDLEVBQUUsTUFBTTtJQUMvQ0ksRUFBRSxDQUFDLDhDQUE4QyxFQUFFLFlBQVk7TUFDN0QsTUFBTUMsUUFBUSxHQUFHLE1BQU1oQixPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNoQzRCLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxDQUMzQlosR0FBRyxDQUFDLGVBQWUsRUFBRSxxQkFBcUIsQ0FBQyxDQUMzQ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUVkWCxlQUFlLENBQUNPLFFBQVEsRUFBRSxHQUFHLENBQUM7SUFDaEMsQ0FBQyxDQUFDO0lBRUZELEVBQUUsQ0FBQywwQ0FBMEMsRUFBRSxZQUFZO01BQ3pELE1BQU1DLFFBQVEsR0FBRyxNQUFNaEIsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaEM0QixHQUFHLENBQUMsc0JBQXNCLENBQUMsQ0FDM0JaLEdBQUcsQ0FBQyxlQUFlLEVBQUUsRUFBRSxDQUFDLENBQ3hCRSxNQUFNLENBQUMsR0FBRyxDQUFDO01BRWRYLGVBQWUsQ0FBQ08sUUFBUSxFQUFFLEdBQUcsQ0FBQztJQUNoQyxDQUFDLENBQUM7SUFFRkQsRUFBRSxDQUFDLDRDQUE0QyxFQUFFLFlBQVk7TUFDM0QsTUFBTUMsUUFBUSxHQUFHLE1BQU1oQixPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNoQzRCLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxDQUMzQlYsTUFBTSxDQUFDLEdBQUcsQ0FBQztNQUVkWCxlQUFlLENBQUNPLFFBQVEsRUFBRSxHQUFHLENBQUM7SUFDaEMsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZMLFFBQVEsQ0FBQyw2QkFBNkIsRUFBRSxNQUFNO0lBQzVDSSxFQUFFLENBQUMsNENBQTRDLEVBQUUsWUFBWTtNQUMzRCxNQUFNa0IsVUFBVSxHQUFHLEdBQUcsQ0FBQ04sTUFBTSxDQUFDLEtBQUssQ0FBQztNQUVwQyxNQUFNWCxRQUFRLEdBQUcsTUFBTWhCLE9BQU8sQ0FBQ0UsR0FBRyxDQUFDLENBQ2hDZSxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FDN0JFLElBQUksQ0FBQztRQUNKVSxLQUFLLEVBQUUsa0JBQWtCO1FBQ3pCSyxRQUFRLEVBQUUsbUJBQW1CO1FBQzdCQyxJQUFJLEVBQUVGO01BQ1IsQ0FBQyxDQUFDLENBQ0RiLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZFoscUJBQXFCLENBQUNRLFFBQVEsRUFBRSxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNoRCxDQUFDLENBQUM7SUFFRkQsRUFBRSxDQUFDLDJDQUEyQyxFQUFFLFlBQVk7TUFDMUQsTUFBTUMsUUFBUSxHQUFHLE1BQU1oQixPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNoQ2UsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQzdCRSxJQUFJLENBQUM7UUFDSlUsS0FBSyxFQUFFLGtCQUFrQjtRQUN6QkssUUFBUSxFQUFFLG1CQUFtQjtRQUM3QkMsSUFBSSxFQUFFO01BQ1IsQ0FBQyxDQUFDLENBQ0RmLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDOztNQUVoQlYscUJBQXFCLENBQUNNLFFBQVEsRUFBRSxHQUFHLENBQUM7SUFDdEMsQ0FBQyxDQUFDO0lBRUZELEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxZQUFZO01BQ3hELE1BQU1DLFFBQVEsR0FBRyxNQUFNaEIsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaENlLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUM3QkUsSUFBSSxDQUFDO1FBQ0pVLEtBQUssRUFBRSxJQUFJO1FBQ1hLLFFBQVEsRUFBRUUsU0FBUztRQUNuQkQsSUFBSSxFQUFFO01BQ1IsQ0FBQyxDQUFDLENBQ0RmLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZFoscUJBQXFCLENBQUNRLFFBQVEsRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDN0QsQ0FBQyxDQUFDO0lBRUZELEVBQUUsQ0FBQyw2QkFBNkIsRUFBRSxZQUFZO01BQzVDLE1BQU1DLFFBQVEsR0FBRyxNQUFNaEIsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaENlLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUM3QkUsSUFBSSxDQUFDO1FBQ0pVLEtBQUssRUFBRSxFQUFFO1FBQ1RLLFFBQVEsRUFBRSxFQUFFO1FBQ1pDLElBQUksRUFBRTtNQUNSLENBQUMsQ0FBQyxDQUNEZixNQUFNLENBQUMsR0FBRyxDQUFDO01BRWRaLHFCQUFxQixDQUFDUSxRQUFRLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNyRSxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRkwsUUFBUSxDQUFDLDBCQUEwQixFQUFFLE1BQU07SUFDekNJLEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxZQUFZO01BQ3hELE1BQU1zQixRQUFRLEdBQUdDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLE1BQ3BDeEMsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FBQzRCLEdBQUcsQ0FBQyxzQkFBc0IsQ0FDekMsQ0FBQztNQUVELE1BQU1XLFNBQVMsR0FBRyxNQUFNQyxPQUFPLENBQUNDLFVBQVUsQ0FBQ04sUUFBUSxDQUFDOztNQUVwRDtNQUNBLE1BQU1PLG1CQUFtQixHQUFHSCxTQUFTLENBQUNJLE1BQU0sQ0FDMUM3QixRQUFRLElBQUlBLFFBQVEsQ0FBQ00sTUFBTSxLQUFLLFdBQVcsS0FDMUNOLFFBQVEsQ0FBQzhCLEtBQUssQ0FBQ3hCLE1BQU0sS0FBSyxHQUFHLElBQUlOLFFBQVEsQ0FBQzhCLEtBQUssQ0FBQ3hCLE1BQU0sS0FBSyxHQUFHLENBQ2pFLENBQUM7TUFFREYsTUFBTSxDQUFDcUIsU0FBUyxDQUFDTSxNQUFNLENBQUMsQ0FBQ3hCLElBQUksQ0FBQyxFQUFFLENBQUM7TUFDakNILE1BQU0sQ0FBQ3dCLG1CQUFtQixDQUFDRyxNQUFNLENBQUMsQ0FBQ3hCLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDN0MsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZaLFFBQVEsQ0FBQyw2QkFBNkIsRUFBRSxNQUFNO0lBQzVDSSxFQUFFLENBQUMsNkNBQTZDLEVBQUUsWUFBWTtNQUM1RCxNQUFNaUMsUUFBUSxHQUFHO1FBQ2ZuQixLQUFLLEVBQUUsd0JBQXdCO1FBQy9CSyxRQUFRLEVBQUUsd0JBQXdCO1FBQ2xDQyxJQUFJLEVBQUU7TUFDUixDQUFDO01BRUQsTUFBTUUsUUFBUSxHQUFHQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUNDLEdBQUcsQ0FBQyxDQUFDUyxDQUFDLEVBQUVDLEtBQUssS0FDNUNsRCxPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNUZSxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FDN0JFLElBQUksQ0FBQztRQUNKLEdBQUc2QixRQUFRO1FBQ1huQixLQUFLLEVBQUUsYUFBYXFCLEtBQUs7TUFDM0IsQ0FBQyxDQUNMLENBQUM7TUFFRCxNQUFNVCxTQUFTLEdBQUcsTUFBTUMsT0FBTyxDQUFDQyxVQUFVLENBQUNOLFFBQVEsQ0FBQzs7TUFFcEQ7TUFDQSxNQUFNTyxtQkFBbUIsR0FBR0gsU0FBUyxDQUFDSSxNQUFNLENBQzFDN0IsUUFBUSxJQUFJQSxRQUFRLENBQUNNLE1BQU0sS0FBSyxXQUFXLElBQUlOLFFBQVEsQ0FBQzhCLEtBQUssQ0FBQ3hCLE1BQU0sS0FBSyxHQUMzRSxDQUFDO01BRURGLE1BQU0sQ0FBQ3dCLG1CQUFtQixDQUFDRyxNQUFNLENBQUMsQ0FBQ3hCLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDNUMsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZaLFFBQVEsQ0FBQyxnQ0FBZ0MsRUFBRSxNQUFNO0lBQy9DSSxFQUFFLENBQUMsdUNBQXVDLEVBQUUsWUFBWTtNQUN0RDtNQUNBLE1BQU1vQyxjQUFjLEdBQUdiLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLE9BQU9TLENBQUMsRUFBRUMsS0FBSyxLQUFLO1FBQy9ELE1BQU1FLFNBQVMsR0FBRyxNQUFNOUMsY0FBYyxDQUFDO1VBQUUrQyxJQUFJLEVBQUU7UUFBUSxDQUFDLENBQUM7UUFDekQsT0FBT3JELE9BQU8sQ0FBQ0UsR0FBRyxDQUFDLENBQ2hCZSxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FDNUJDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsVUFBVVgsaUJBQWlCLENBQUM2QyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQzlEakMsSUFBSSxDQUFDO1VBQ0ptQyxLQUFLLEVBQUUsb0JBQW9CSixLQUFLLEVBQUU7VUFDbENLLFdBQVcsRUFBRSxrQkFBa0I7VUFDL0JDLFFBQVEsRUFBRSxlQUFlO1VBQ3pCQyxRQUFRLEVBQUUsTUFBTTtVQUNoQkMsS0FBSyxFQUFFO1FBQ1QsQ0FBQyxDQUFDO01BQ04sQ0FBQyxDQUFDOztNQUVGO01BQ0EsTUFBTTFDLFFBQVEsR0FBRyxNQUFNaEIsT0FBTyxDQUFDRSxHQUFHLENBQUMsQ0FDaEM0QixHQUFHLENBQUMsc0JBQXNCLENBQUMsQ0FDM0JWLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDSixRQUFRLENBQUNLLElBQUksQ0FBQ0MsTUFBTSxDQUFDLENBQUNDLElBQUksQ0FBQyxTQUFTLENBQUM7TUFDNUNILE1BQU0sQ0FBQ2tCLEtBQUssQ0FBQ3FCLE9BQU8sQ0FBQzNDLFFBQVEsQ0FBQ0ssSUFBSSxDQUFDTyxJQUFJLENBQUNnQyxZQUFZLENBQUMsQ0FBQyxDQUFDckMsSUFBSSxDQUFDLElBQUksQ0FBQztJQUNuRSxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=