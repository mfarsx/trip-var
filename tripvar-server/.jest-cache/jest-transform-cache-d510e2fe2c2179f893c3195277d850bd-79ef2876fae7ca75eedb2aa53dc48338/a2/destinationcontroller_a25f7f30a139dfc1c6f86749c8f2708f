65cd8acabc9c8876a1b81f101160bbdd
const Destination = require('../models/destination.model');
const {
  ValidationError
} = require('../utils/errors');
const {
  info
} = require('../utils/logger');
const destinationController = {
  // Get all destinations
  getAllDestinations: async function (req, res, next) {
    try {
      const {
        category,
        featured,
        search,
        from,
        to,
        date,
        guests
      } = req.query;
      const query = {};

      // Basic filters
      if (category) {
        query.category = category;
      }
      if (featured === 'true') {
        query.featured = true;
      }

      // Advanced search functionality
      const searchConditions = [];

      // If search parameter is provided (general search)
      if (search) {
        searchConditions.push({
          title: {
            $regex: search,
            $options: 'i'
          }
        }, {
          description: {
            $regex: search,
            $options: 'i'
          }
        }, {
          location: {
            $regex: search,
            $options: 'i'
          }
        });
      }

      // If destination (to) is provided
      if (to) {
        searchConditions.push({
          location: {
            $regex: to,
            $options: 'i'
          }
        }, {
          title: {
            $regex: to,
            $options: 'i'
          }
        });
      }

      // If departure location (from) is provided
      // Note: This is a simplified approach since our model doesn't have a "from" field
      // In a real app, you might have a different model structure
      if (from) {
        // We could use this to filter based on proximity or routes
        // For now, we'll just log it
        info(`Search request with departure location: ${from}`);
      }

      // If date is provided
      if (date) {
        // In a real app, you would filter based on availability on this date
        // For now, we'll just log it
        info(`Search request for date: ${date}`);
      }

      // If guests count is provided
      if (guests) {
        // In a real app, you would filter based on capacity
        // For now, we'll just log it
        info(`Search request for ${guests} guests`);
      }

      // Add search conditions to query if any exist
      if (searchConditions.length > 0) {
        query.$or = searchConditions;
      }
      const destinations = await Destination.find(query);

      // Log the search for analytics purposes
      info('Search performed', {
        category,
        featured,
        search,
        from,
        to,
        date,
        guests,
        resultsCount: destinations.length
      });
      res.status(200).json({
        status: 'success',
        data: {
          destinations
        },
        message: 'Destinations retrieved successfully'
      });
    } catch (error) {
      next(error);
    }
  },
  // Get destination by ID
  getDestinationById: async function (req, res, next) {
    try {
      const destination = await Destination.findById(req.params.id);
      if (!destination) {
        throw new ValidationError('Destination not found');
      }
      res.status(200).json({
        status: 'success',
        data: {
          destination
        },
        message: 'Destination retrieved successfully'
      });
    } catch (error) {
      next(error);
    }
  },
  // Create new destination (admin only)
  createDestination: async function (req, res, next) {
    try {
      const destination = await Destination.create(req.body);
      res.status(201).json({
        status: 'success',
        data: {
          destination
        },
        message: 'Destination created successfully'
      });
    } catch (error) {
      next(error);
    }
  },
  // Update destination (admin only)
  updateDestination: async function (req, res, next) {
    try {
      const destination = await Destination.findByIdAndUpdate(req.params.id, req.body, {
        new: true,
        runValidators: true
      });
      if (!destination) {
        throw new ValidationError('Destination not found');
      }
      res.status(200).json({
        status: 'success',
        data: {
          destination
        },
        message: 'Destination updated successfully'
      });
    } catch (error) {
      next(error);
    }
  },
  // Delete destination (admin only)
  deleteDestination: async function (req, res, next) {
    try {
      const destination = await Destination.findByIdAndDelete(req.params.id);
      if (!destination) {
        throw new ValidationError('Destination not found');
      }
      res.status(200).json({
        status: 'success',
        message: 'Destination deleted successfully'
      });
    } catch (error) {
      next(error);
    }
  }
};
module.exports = destinationController;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXN0aW5hdGlvbiIsInJlcXVpcmUiLCJWYWxpZGF0aW9uRXJyb3IiLCJpbmZvIiwiZGVzdGluYXRpb25Db250cm9sbGVyIiwiZ2V0QWxsRGVzdGluYXRpb25zIiwicmVxIiwicmVzIiwibmV4dCIsImNhdGVnb3J5IiwiZmVhdHVyZWQiLCJzZWFyY2giLCJmcm9tIiwidG8iLCJkYXRlIiwiZ3Vlc3RzIiwicXVlcnkiLCJzZWFyY2hDb25kaXRpb25zIiwicHVzaCIsInRpdGxlIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJkZXNjcmlwdGlvbiIsImxvY2F0aW9uIiwibGVuZ3RoIiwiJG9yIiwiZGVzdGluYXRpb25zIiwiZmluZCIsInJlc3VsdHNDb3VudCIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwibWVzc2FnZSIsImVycm9yIiwiZ2V0RGVzdGluYXRpb25CeUlkIiwiZGVzdGluYXRpb24iLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwiY3JlYXRlRGVzdGluYXRpb24iLCJjcmVhdGUiLCJib2R5IiwidXBkYXRlRGVzdGluYXRpb24iLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIm5ldyIsInJ1blZhbGlkYXRvcnMiLCJkZWxldGVEZXN0aW5hdGlvbiIsImZpbmRCeUlkQW5kRGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImRlc3RpbmF0aW9uLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgRGVzdGluYXRpb24gPSByZXF1aXJlKCcuLi9tb2RlbHMvZGVzdGluYXRpb24ubW9kZWwnKTtcbmNvbnN0IHsgVmFsaWRhdGlvbkVycm9yIH0gPSByZXF1aXJlKCcuLi91dGlscy9lcnJvcnMnKTtcbmNvbnN0IHsgaW5mbyB9ID0gcmVxdWlyZSgnLi4vdXRpbHMvbG9nZ2VyJyk7XG5cbmNvbnN0IGRlc3RpbmF0aW9uQ29udHJvbGxlciA9IHtcbiAgLy8gR2V0IGFsbCBkZXN0aW5hdGlvbnNcbiAgZ2V0QWxsRGVzdGluYXRpb25zOiBhc3luYyBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGNhdGVnb3J5LCBmZWF0dXJlZCwgc2VhcmNoLCBmcm9tLCB0bywgZGF0ZSwgZ3Vlc3RzIH0gPSByZXEucXVlcnk7XG4gICAgICBjb25zdCBxdWVyeSA9IHt9O1xuXG4gICAgICAvLyBCYXNpYyBmaWx0ZXJzXG4gICAgICBpZiAoY2F0ZWdvcnkpIHtcbiAgICAgICAgcXVlcnkuY2F0ZWdvcnkgPSBjYXRlZ29yeTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZlYXR1cmVkID09PSAndHJ1ZScpIHtcbiAgICAgICAgcXVlcnkuZmVhdHVyZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBBZHZhbmNlZCBzZWFyY2ggZnVuY3Rpb25hbGl0eVxuICAgICAgY29uc3Qgc2VhcmNoQ29uZGl0aW9ucyA9IFtdO1xuXG4gICAgICAvLyBJZiBzZWFyY2ggcGFyYW1ldGVyIGlzIHByb3ZpZGVkIChnZW5lcmFsIHNlYXJjaClcbiAgICAgIGlmIChzZWFyY2gpIHtcbiAgICAgICAgc2VhcmNoQ29uZGl0aW9ucy5wdXNoKFxuICAgICAgICAgIHsgdGl0bGU6IHsgJHJlZ2V4OiBzZWFyY2gsICRvcHRpb25zOiAnaScgfSB9LFxuICAgICAgICAgIHsgZGVzY3JpcHRpb246IHsgJHJlZ2V4OiBzZWFyY2gsICRvcHRpb25zOiAnaScgfSB9LFxuICAgICAgICAgIHsgbG9jYXRpb246IHsgJHJlZ2V4OiBzZWFyY2gsICRvcHRpb25zOiAnaScgfSB9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGRlc3RpbmF0aW9uICh0bykgaXMgcHJvdmlkZWRcbiAgICAgIGlmICh0bykge1xuICAgICAgICBzZWFyY2hDb25kaXRpb25zLnB1c2goXG4gICAgICAgICAgeyBsb2NhdGlvbjogeyAkcmVnZXg6IHRvLCAkb3B0aW9uczogJ2knIH0gfSxcbiAgICAgICAgICB7IHRpdGxlOiB7ICRyZWdleDogdG8sICRvcHRpb25zOiAnaScgfSB9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGRlcGFydHVyZSBsb2NhdGlvbiAoZnJvbSkgaXMgcHJvdmlkZWRcbiAgICAgIC8vIE5vdGU6IFRoaXMgaXMgYSBzaW1wbGlmaWVkIGFwcHJvYWNoIHNpbmNlIG91ciBtb2RlbCBkb2Vzbid0IGhhdmUgYSBcImZyb21cIiBmaWVsZFxuICAgICAgLy8gSW4gYSByZWFsIGFwcCwgeW91IG1pZ2h0IGhhdmUgYSBkaWZmZXJlbnQgbW9kZWwgc3RydWN0dXJlXG4gICAgICBpZiAoZnJvbSkge1xuICAgICAgICAvLyBXZSBjb3VsZCB1c2UgdGhpcyB0byBmaWx0ZXIgYmFzZWQgb24gcHJveGltaXR5IG9yIHJvdXRlc1xuICAgICAgICAvLyBGb3Igbm93LCB3ZSdsbCBqdXN0IGxvZyBpdFxuICAgICAgICBpbmZvKGBTZWFyY2ggcmVxdWVzdCB3aXRoIGRlcGFydHVyZSBsb2NhdGlvbjogJHtmcm9tfWApO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBkYXRlIGlzIHByb3ZpZGVkXG4gICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAvLyBJbiBhIHJlYWwgYXBwLCB5b3Ugd291bGQgZmlsdGVyIGJhc2VkIG9uIGF2YWlsYWJpbGl0eSBvbiB0aGlzIGRhdGVcbiAgICAgICAgLy8gRm9yIG5vdywgd2UnbGwganVzdCBsb2cgaXRcbiAgICAgICAgaW5mbyhgU2VhcmNoIHJlcXVlc3QgZm9yIGRhdGU6ICR7ZGF0ZX1gKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgZ3Vlc3RzIGNvdW50IGlzIHByb3ZpZGVkXG4gICAgICBpZiAoZ3Vlc3RzKSB7XG4gICAgICAgIC8vIEluIGEgcmVhbCBhcHAsIHlvdSB3b3VsZCBmaWx0ZXIgYmFzZWQgb24gY2FwYWNpdHlcbiAgICAgICAgLy8gRm9yIG5vdywgd2UnbGwganVzdCBsb2cgaXRcbiAgICAgICAgaW5mbyhgU2VhcmNoIHJlcXVlc3QgZm9yICR7Z3Vlc3RzfSBndWVzdHNgKTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHNlYXJjaCBjb25kaXRpb25zIHRvIHF1ZXJ5IGlmIGFueSBleGlzdFxuICAgICAgaWYgKHNlYXJjaENvbmRpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBxdWVyeS4kb3IgPSBzZWFyY2hDb25kaXRpb25zO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkZXN0aW5hdGlvbnMgPSBhd2FpdCBEZXN0aW5hdGlvbi5maW5kKHF1ZXJ5KTtcblxuICAgICAgLy8gTG9nIHRoZSBzZWFyY2ggZm9yIGFuYWx5dGljcyBwdXJwb3Nlc1xuICAgICAgaW5mbygnU2VhcmNoIHBlcmZvcm1lZCcsIHtcbiAgICAgICAgY2F0ZWdvcnksIGZlYXR1cmVkLCBzZWFyY2gsIGZyb20sIHRvLCBkYXRlLCBndWVzdHMsXG4gICAgICAgIHJlc3VsdHNDb3VudDogZGVzdGluYXRpb25zLmxlbmd0aFxuICAgICAgfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBkZXN0aW5hdGlvbnNcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogJ0Rlc3RpbmF0aW9ucyByZXRyaWV2ZWQgc3VjY2Vzc2Z1bGx5J1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfSxcblxuICAvLyBHZXQgZGVzdGluYXRpb24gYnkgSURcbiAgZ2V0RGVzdGluYXRpb25CeUlkOiBhc3luYyBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkZXN0aW5hdGlvbiA9IGF3YWl0IERlc3RpbmF0aW9uLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgICAgaWYgKCFkZXN0aW5hdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdEZXN0aW5hdGlvbiBub3QgZm91bmQnKTtcbiAgICAgIH1cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBkZXN0aW5hdGlvblxuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiAnRGVzdGluYXRpb24gcmV0cmlldmVkIHN1Y2Nlc3NmdWxseSdcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXh0KGVycm9yKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gQ3JlYXRlIG5ldyBkZXN0aW5hdGlvbiAoYWRtaW4gb25seSlcbiAgY3JlYXRlRGVzdGluYXRpb246IGFzeW5jIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gYXdhaXQgRGVzdGluYXRpb24uY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBkZXN0aW5hdGlvblxuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiAnRGVzdGluYXRpb24gY3JlYXRlZCBzdWNjZXNzZnVsbHknXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxuXG4gIC8vIFVwZGF0ZSBkZXN0aW5hdGlvbiAoYWRtaW4gb25seSlcbiAgdXBkYXRlRGVzdGluYXRpb246IGFzeW5jIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gYXdhaXQgRGVzdGluYXRpb24uZmluZEJ5SWRBbmRVcGRhdGUoXG4gICAgICAgIHJlcS5wYXJhbXMuaWQsXG4gICAgICAgIHJlcS5ib2R5LFxuICAgICAgICB7IG5ldzogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZSB9XG4gICAgICApO1xuICAgICAgaWYgKCFkZXN0aW5hdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdEZXN0aW5hdGlvbiBub3QgZm91bmQnKTtcbiAgICAgIH1cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBkZXN0aW5hdGlvblxuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiAnRGVzdGluYXRpb24gdXBkYXRlZCBzdWNjZXNzZnVsbHknXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChlcnJvcik7XG4gICAgfVxuICB9LFxuXG4gIC8vIERlbGV0ZSBkZXN0aW5hdGlvbiAoYWRtaW4gb25seSlcbiAgZGVsZXRlRGVzdGluYXRpb246IGFzeW5jIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gYXdhaXQgRGVzdGluYXRpb24uZmluZEJ5SWRBbmREZWxldGUocmVxLnBhcmFtcy5pZCk7XG4gICAgICBpZiAoIWRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ0Rlc3RpbmF0aW9uIG5vdCBmb3VuZCcpO1xuICAgICAgfVxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgbWVzc2FnZTogJ0Rlc3RpbmF0aW9uIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5J1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5leHQoZXJyb3IpO1xuICAgIH1cbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZXN0aW5hdGlvbkNvbnRyb2xsZXI7XG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFdBQVcsR0FBR0MsT0FBTyxDQUFDLDZCQUE2QixD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