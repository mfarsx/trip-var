{"version":3,"names":["cov_5zg6nxsd7","actualCoverage","express","s","require","authenticate","authorize","validateRequest","validationRules","getUserNotifications","markNotificationsAsRead","deleteNotifications","getNotificationById","getNotificationStats","createNotification","getAllNotifications","router","Router","use","get","put","notificationIds","optional","delete","post","notificationUserId","notificationTitle","notificationMessage","notificationType","notificationPriority","module","exports"],"sources":["notification.routes.js"],"sourcesContent":["const express = require('express');\nconst { authenticate, authorize } = require('../middleware/auth');\nconst { validateRequest, validationRules } = require('../config/security');\nconst {\n  getUserNotifications,\n  markNotificationsAsRead,\n  deleteNotifications,\n  getNotificationById,\n  getNotificationStats,\n  createNotification,\n  getAllNotifications\n} = require('../controllers/notification.controller');\n\nconst router = express.Router();\n\n// All notification routes require authentication\nrouter.use(authenticate);\n\n// User notification routes\nrouter.get('/', getUserNotifications);\nrouter.get('/stats', getNotificationStats);\nrouter.get('/:notificationId', getNotificationById);\n\nrouter.put('/mark-read',\n  [\n    validationRules.notificationIds.optional()\n  ],\n  validateRequest,\n  markNotificationsAsRead\n);\n\nrouter.delete('/',\n  [\n    validationRules.notificationIds\n  ],\n  validateRequest,\n  deleteNotifications\n);\n\n// Admin routes\nrouter.post('/admin/create',\n  authorize('admin'),\n  [\n    validationRules.notificationUserId,\n    validationRules.notificationTitle,\n    validationRules.notificationMessage,\n    validationRules.notificationType,\n    validationRules.notificationPriority.optional()\n  ],\n  validateRequest,\n  createNotification\n);\n\nrouter.get('/admin/all', authorize('admin'), getAllNotifications);\n\nmodule.exports = router;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAfZ,MAAME,OAAO;AAAA;AAAA,CAAAF,aAAA,GAAAG,CAAA,OAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAM;EAAEC,YAAY;EAAEC;AAAU,CAAC;AAAA;AAAA,CAAAN,aAAA,GAAAG,CAAA,OAAGC,OAAO,CAAC,oBAAoB,CAAC;AACjE,MAAM;EAAEG,eAAe;EAAEC;AAAgB,CAAC;AAAA;AAAA,CAAAR,aAAA,GAAAG,CAAA,OAAGC,OAAO,CAAC,oBAAoB,CAAC;AAC1E,MAAM;EACJK,oBAAoB;EACpBC,uBAAuB;EACvBC,mBAAmB;EACnBC,mBAAmB;EACnBC,oBAAoB;EACpBC,kBAAkB;EAClBC;AACF,CAAC;AAAA;AAAA,CAAAf,aAAA,GAAAG,CAAA,OAAGC,OAAO,CAAC,wCAAwC,CAAC;AAErD,MAAMY,MAAM;AAAA;AAAA,CAAAhB,aAAA,GAAAG,CAAA,OAAGD,OAAO,CAACe,MAAM,CAAC,CAAC;;AAE/B;AAAA;AAAAjB,aAAA,GAAAG,CAAA;AACAa,MAAM,CAACE,GAAG,CAACb,YAAY,CAAC;;AAExB;AAAA;AAAAL,aAAA,GAAAG,CAAA;AACAa,MAAM,CAACG,GAAG,CAAC,GAAG,EAAEV,oBAAoB,CAAC;AAAC;AAAAT,aAAA,GAAAG,CAAA;AACtCa,MAAM,CAACG,GAAG,CAAC,QAAQ,EAAEN,oBAAoB,CAAC;AAAC;AAAAb,aAAA,GAAAG,CAAA;AAC3Ca,MAAM,CAACG,GAAG,CAAC,kBAAkB,EAAEP,mBAAmB,CAAC;AAAC;AAAAZ,aAAA,GAAAG,CAAA;AAEpDa,MAAM,CAACI,GAAG,CAAC,YAAY,EACrB,CACEZ,eAAe,CAACa,eAAe,CAACC,QAAQ,CAAC,CAAC,CAC3C,EACDf,eAAe,EACfG,uBACF,CAAC;AAAC;AAAAV,aAAA,GAAAG,CAAA;AAEFa,MAAM,CAACO,MAAM,CAAC,GAAG,EACf,CACEf,eAAe,CAACa,eAAe,CAChC,EACDd,eAAe,EACfI,mBACF,CAAC;;AAED;AAAA;AAAAX,aAAA,GAAAG,CAAA;AACAa,MAAM,CAACQ,IAAI,CAAC,eAAe,EACzBlB,SAAS,CAAC,OAAO,CAAC,EAClB,CACEE,eAAe,CAACiB,kBAAkB,EAClCjB,eAAe,CAACkB,iBAAiB,EACjClB,eAAe,CAACmB,mBAAmB,EACnCnB,eAAe,CAACoB,gBAAgB,EAChCpB,eAAe,CAACqB,oBAAoB,CAACP,QAAQ,CAAC,CAAC,CAChD,EACDf,eAAe,EACfO,kBACF,CAAC;AAAC;AAAAd,aAAA,GAAAG,CAAA;AAEFa,MAAM,CAACG,GAAG,CAAC,YAAY,EAAEb,SAAS,CAAC,OAAO,CAAC,EAAES,mBAAmB,CAAC;AAAC;AAAAf,aAAA,GAAAG,CAAA;AAElE2B,MAAM,CAACC,OAAO,GAAGf,MAAM","ignoreList":[]}