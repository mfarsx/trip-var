{"version":3,"names":["express","require","authenticate","authorize","validateRequest","validationRules","createReview","getDestinationReviews","getUserReviews","updateReview","deleteReview","markReviewHelpful","getAllReviews","updateReviewStatus","router","Router","get","use","post","destinationId","reviewTitle","reviewContent","reviewRating","put","optional","delete","module","exports"],"sources":["review.routes.js"],"sourcesContent":["const express = require('express');\nconst { authenticate, authorize } = require('../middleware/auth');\nconst { validateRequest, validationRules } = require('../config/security');\nconst {\n  createReview,\n  getDestinationReviews,\n  getUserReviews,\n  updateReview,\n  deleteReview,\n  markReviewHelpful,\n  getAllReviews,\n  updateReviewStatus\n} = require('../controllers/review.controller');\n\nconst router = express.Router();\n\n// Public routes\nrouter.get('/destination/:destinationId', getDestinationReviews);\n\n// Protected routes (require authentication)\nrouter.use(authenticate);\n\n// User review routes\nrouter.post('/',\n  [\n    validationRules.destinationId,\n    validationRules.reviewTitle,\n    validationRules.reviewContent,\n    validationRules.reviewRating\n  ],\n  validateRequest,\n  createReview\n);\n\nrouter.get('/my-reviews', getUserReviews);\n\nrouter.put('/:reviewId',\n  [\n    validationRules.reviewTitle.optional(),\n    validationRules.reviewContent.optional(),\n    validationRules.reviewRating.optional()\n  ],\n  validateRequest,\n  updateReview\n);\n\nrouter.delete('/:reviewId', deleteReview);\n\nrouter.post('/:reviewId/helpful', markReviewHelpful);\n\n// Admin routes\nrouter.get('/admin/all', authorize('admin'), getAllReviews);\nrouter.put('/admin/:reviewId/status', authorize('admin'), updateReviewStatus);\n\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAM;EAAEC,YAAY;EAAEC;AAAU,CAAC,GAAGF,OAAO,CAAC,oBAAoB,CAAC;AACjE,MAAM;EAAEG,eAAe;EAAEC;AAAgB,CAAC,GAAGJ,OAAO,CAAC,oBAAoB,CAAC;AAC1E,MAAM;EACJK,YAAY;EACZC,qBAAqB;EACrBC,cAAc;EACdC,YAAY;EACZC,YAAY;EACZC,iBAAiB;EACjBC,aAAa;EACbC;AACF,CAAC,GAAGZ,OAAO,CAAC,kCAAkC,CAAC;AAE/C,MAAMa,MAAM,GAAGd,OAAO,CAACe,MAAM,CAAC,CAAC;;AAE/B;AACAD,MAAM,CAACE,GAAG,CAAC,6BAA6B,EAAET,qBAAqB,CAAC;;AAEhE;AACAO,MAAM,CAACG,GAAG,CAACf,YAAY,CAAC;;AAExB;AACAY,MAAM,CAACI,IAAI,CAAC,GAAG,EACb,CACEb,eAAe,CAACc,aAAa,EAC7Bd,eAAe,CAACe,WAAW,EAC3Bf,eAAe,CAACgB,aAAa,EAC7BhB,eAAe,CAACiB,YAAY,CAC7B,EACDlB,eAAe,EACfE,YACF,CAAC;AAEDQ,MAAM,CAACE,GAAG,CAAC,aAAa,EAAER,cAAc,CAAC;AAEzCM,MAAM,CAACS,GAAG,CAAC,YAAY,EACrB,CACElB,eAAe,CAACe,WAAW,CAACI,QAAQ,CAAC,CAAC,EACtCnB,eAAe,CAACgB,aAAa,CAACG,QAAQ,CAAC,CAAC,EACxCnB,eAAe,CAACiB,YAAY,CAACE,QAAQ,CAAC,CAAC,CACxC,EACDpB,eAAe,EACfK,YACF,CAAC;AAEDK,MAAM,CAACW,MAAM,CAAC,YAAY,EAAEf,YAAY,CAAC;AAEzCI,MAAM,CAACI,IAAI,CAAC,oBAAoB,EAAEP,iBAAiB,CAAC;;AAEpD;AACAG,MAAM,CAACE,GAAG,CAAC,YAAY,EAAEb,SAAS,CAAC,OAAO,CAAC,EAAES,aAAa,CAAC;AAC3DE,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAAEpB,SAAS,CAAC,OAAO,CAAC,EAAEU,kBAAkB,CAAC;AAE7Ea,MAAM,CAACC,OAAO,GAAGb,MAAM","ignoreList":[]}