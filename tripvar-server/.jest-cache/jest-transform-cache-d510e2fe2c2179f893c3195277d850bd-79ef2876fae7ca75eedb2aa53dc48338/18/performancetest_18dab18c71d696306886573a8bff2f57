c48c8044e68738c12a138c8cf23e0326
const request = require('supertest');
const app = require('./app.test');
const {
  setupTestEnvironment,
  cleanupTestEnvironment,
  clearDatabase,
  createTestUser,
  createTestDestination,
  generateTestToken,
  generateFutureDates,
  expectSuccessResponse
} = require('./setup');
describe('Performance Tests', () => {
  let user, destination, token;
  beforeAll(async () => {
    await setupTestEnvironment();
  });
  afterAll(async () => {
    await cleanupTestEnvironment();
  });
  beforeEach(async () => {
    await clearDatabase();

    // Create test data
    user = await createTestUser();
    destination = await createTestDestination();
    token = generateTestToken(user);
  });
  describe('Response Time Tests', () => {
    it('should respond to destination list within acceptable time', async () => {
      const startTime = Date.now();
      const response = await request(app).get('/api/v1/destinations').expect(200);
      const responseTime = Date.now() - startTime;
      expectSuccessResponse(response, 200);
      expect(responseTime).toBeLessThan(1000); // Should respond within 1 second
    });
    it('should respond to authentication within acceptable time', async () => {
      const startTime = Date.now();
      const response = await request(app).post('/api/v1/auth/login').send({
        email: user.email,
        password: 'TestPassword123!'
      }).expect(200);
      const responseTime = Date.now() - startTime;
      expectSuccessResponse(response, 200);
      expect(responseTime).toBeLessThan(2000); // Should respond within 2 seconds
    });
    it('should handle concurrent requests efficiently', async () => {
      const startTime = Date.now();
      const requests = Array(10).fill().map(() => request(app).get('/api/v1/destinations'));
      const responses = await Promise.allSettled(requests);
      const totalTime = Date.now() - startTime;

      // All requests should succeed
      const successfulResponses = responses.filter(response => response.status === 'fulfilled' && response.value.status === 200);
      expect(successfulResponses.length).toBe(10);
      expect(totalTime).toBeLessThan(5000); // All requests should complete within 5 seconds
    });
  });
  describe('Memory Usage Tests', () => {
    it('should handle large dataset queries efficiently', async () => {
      // Create multiple destinations
      const createPromises = Array(50).fill().map((_, index) => {
        return createTestDestination({
          title: `Performance Test Destination ${index}`,
          description: 'Performance test description',
          location: 'Test Location',
          category: 'Test'
        });
      });
      await Promise.all(createPromises);
      const startTime = Date.now();
      const response = await request(app).get('/api/v1/destinations').expect(200);
      const responseTime = Date.now() - startTime;
      expectSuccessResponse(response, 200);
      expect(response.body.data.destinations.length).toBeGreaterThan(50);
      expect(responseTime).toBeLessThan(2000); // Should handle large datasets efficiently
    });
    it('should handle pagination efficiently', async () => {
      // Create multiple destinations
      const createPromises = Array(100).fill().map((_, index) => {
        return createTestDestination({
          title: `Pagination Test Destination ${index}`,
          description: 'Pagination test description',
          location: 'Test Location',
          category: 'Test'
        });
      });
      await Promise.all(createPromises);
      const startTime = Date.now();
      const response = await request(app).get('/api/v1/destinations?page=1&limit=10').expect(200);
      const responseTime = Date.now() - startTime;
      expectSuccessResponse(response, 200);
      expect(response.body.data.destinations.length).toBe(10);
      expect(responseTime).toBeLessThan(1000); // Pagination should be fast
    });
  });
  describe('Database Performance Tests', () => {
    it('should handle complex queries efficiently', async () => {
      // Create destinations with different categories
      const categories = ['Beach', 'Mountain', 'City', 'Adventure'];
      const createPromises = [];
      categories.forEach((category, categoryIndex) => {
        for (let i = 0; i < 25; i++) {
          createPromises.push(createTestDestination({
            title: `${category} Destination ${i}`,
            description: `Beautiful ${category.toLowerCase()} destination`,
            location: `${category} Location ${i}`,
            category: category,
            featured: i % 5 === 0
          }));
        }
      });
      await Promise.all(createPromises);
      const startTime = Date.now();

      // Test complex search with multiple filters
      const response = await request(app).get('/api/v1/destinations?category=Beach&featured=true&search=beautiful').expect(200);
      const responseTime = Date.now() - startTime;
      expectSuccessResponse(response, 200);
      expect(responseTime).toBeLessThan(1500); // Complex queries should be reasonably fast
    });
    it('should handle booking creation efficiently', async () => {
      const dates = generateFutureDates();
      const startTime = Date.now();
      const bookingData = {
        destinationId: destination._id,
        checkInDate: dates.checkInDate,
        checkOutDate: dates.checkOutDate,
        numberOfGuests: 2,
        paymentMethod: 'credit-card'
      };
      const response = await request(app).post('/api/v1/bookings').set('Authorization', `Bearer ${token}`).send(bookingData).expect(201);
      const responseTime = Date.now() - startTime;
      expectSuccessResponse(response, 201);
      expect(responseTime).toBeLessThan(2000); // Booking creation should be reasonably fast
    });
  });
  describe('Caching Performance Tests', () => {
    it('should benefit from caching on repeated requests', async () => {
      // First request (cache miss)
      const firstRequestStart = Date.now();
      const firstResponse = await request(app).get('/api/v1/destinations').expect(200);
      const firstRequestTime = Date.now() - firstRequestStart;

      // Second request (should be faster due to caching)
      const secondRequestStart = Date.now();
      const secondResponse = await request(app).get('/api/v1/destinations').expect(200);
      const secondRequestTime = Date.now() - secondRequestStart;
      expectSuccessResponse(firstResponse, 200);
      expectSuccessResponse(secondResponse, 200);

      // Second request should be faster (though this might not always be true in test environment)
      // The important thing is that both requests succeed
      expect(firstRequestTime).toBeLessThan(2000);
      expect(secondRequestTime).toBeLessThan(2000);
    });
  });
  describe('Load Testing', () => {
    it('should handle moderate load without degradation', async () => {
      const startTime = Date.now();

      // Simulate moderate load with 20 concurrent requests
      const requests = Array(20).fill().map((_, index) => {
        if (index % 2 === 0) {
          // GET requests
          return request(app).get('/api/v1/destinations');
        } else {
          // POST requests (login)
          return request(app).post('/api/v1/auth/login').send({
            email: user.email,
            password: 'TestPassword123!'
          });
        }
      });
      const responses = await Promise.allSettled(requests);
      const totalTime = Date.now() - startTime;

      // Count successful responses
      const successfulResponses = responses.filter(response => response.status === 'fulfilled' && (response.value.status === 200 || response.value.status === 201));
      expect(successfulResponses.length).toBeGreaterThan(15); // At least 75% should succeed
      expect(totalTime).toBeLessThan(10000); // Should complete within 10 seconds
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImFwcCIsInNldHVwVGVzdEVudmlyb25tZW50IiwiY2xlYW51cFRlc3RFbnZpcm9ubWVudCIsImNsZWFyRGF0YWJhc2UiLCJjcmVhdGVUZXN0VXNlciIsImNyZWF0ZVRlc3REZXN0aW5hdGlvbiIsImdlbmVyYXRlVGVzdFRva2VuIiwiZ2VuZXJhdGVGdXR1cmVEYXRlcyIsImV4cGVjdFN1Y2Nlc3NSZXNwb25zZSIsImRlc2NyaWJlIiwidXNlciIsImRlc3RpbmF0aW9uIiwidG9rZW4iLCJiZWZvcmVBbGwiLCJhZnRlckFsbCIsImJlZm9yZUVhY2giLCJpdCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJyZXNwb25zZSIsImdldCIsImV4cGVjdCIsInJlc3BvbnNlVGltZSIsInRvQmVMZXNzVGhhbiIsInBvc3QiLCJzZW5kIiwiZW1haWwiLCJwYXNzd29yZCIsInJlcXVlc3RzIiwiQXJyYXkiLCJmaWxsIiwibWFwIiwicmVzcG9uc2VzIiwiUHJvbWlzZSIsImFsbFNldHRsZWQiLCJ0b3RhbFRpbWUiLCJzdWNjZXNzZnVsUmVzcG9uc2VzIiwiZmlsdGVyIiwic3RhdHVzIiwidmFsdWUiLCJsZW5ndGgiLCJ0b0JlIiwiY3JlYXRlUHJvbWlzZXMiLCJfIiwiaW5kZXgiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwibG9jYXRpb24iLCJjYXRlZ29yeSIsImFsbCIsImJvZHkiLCJkYXRhIiwiZGVzdGluYXRpb25zIiwidG9CZUdyZWF0ZXJUaGFuIiwiY2F0ZWdvcmllcyIsImZvckVhY2giLCJjYXRlZ29yeUluZGV4IiwiaSIsInB1c2giLCJ0b0xvd2VyQ2FzZSIsImZlYXR1cmVkIiwiZGF0ZXMiLCJib29raW5nRGF0YSIsImRlc3RpbmF0aW9uSWQiLCJfaWQiLCJjaGVja0luRGF0ZSIsImNoZWNrT3V0RGF0ZSIsIm51bWJlck9mR3Vlc3RzIiwicGF5bWVudE1ldGhvZCIsInNldCIsImZpcnN0UmVxdWVzdFN0YXJ0IiwiZmlyc3RSZXNwb25zZSIsImZpcnN0UmVxdWVzdFRpbWUiLCJzZWNvbmRSZXF1ZXN0U3RhcnQiLCJzZWNvbmRSZXNwb25zZSIsInNlY29uZFJlcXVlc3RUaW1lIl0sInNvdXJjZXMiOlsicGVyZm9ybWFuY2UudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnc3VwZXJ0ZXN0Jyk7XG5jb25zdCBhcHAgPSByZXF1aXJlKCcuL2FwcC50ZXN0Jyk7XG5jb25zdCB7XG4gIHNldHVwVGVzdEVudmlyb25tZW50LFxuICBjbGVhbnVwVGVzdEVudmlyb25tZW50LFxuICBjbGVhckRhdGFiYXNlLFxuICBjcmVhdGVUZXN0VXNlcixcbiAgY3JlYXRlVGVzdERlc3RpbmF0aW9uLFxuICBnZW5lcmF0ZVRlc3RUb2tlbixcbiAgZ2VuZXJhdGVGdXR1cmVEYXRlcyxcbiAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlXG59ID0gcmVxdWlyZSgnLi9zZXR1cCcpO1xuXG5kZXNjcmliZSgnUGVyZm9ybWFuY2UgVGVzdHMnLCAoKSA9PiB7XG4gIGxldCB1c2VyLCBkZXN0aW5hdGlvbiwgdG9rZW47XG5cbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBzZXR1cFRlc3RFbnZpcm9ubWVudCgpO1xuICB9KTtcblxuICBhZnRlckFsbChhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgY2xlYW51cFRlc3RFbnZpcm9ubWVudCgpO1xuICB9KTtcblxuICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBjbGVhckRhdGFiYXNlKCk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIHRlc3QgZGF0YVxuICAgIHVzZXIgPSBhd2FpdCBjcmVhdGVUZXN0VXNlcigpO1xuICAgIGRlc3RpbmF0aW9uID0gYXdhaXQgY3JlYXRlVGVzdERlc3RpbmF0aW9uKCk7XG4gICAgdG9rZW4gPSBnZW5lcmF0ZVRlc3RUb2tlbih1c2VyKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Jlc3BvbnNlIFRpbWUgVGVzdHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXNwb25kIHRvIGRlc3RpbmF0aW9uIGxpc3Qgd2l0aGluIGFjY2VwdGFibGUgdGltZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvdjEvZGVzdGluYXRpb25zJylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBjb25zdCByZXNwb25zZVRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICBleHBlY3RTdWNjZXNzUmVzcG9uc2UocmVzcG9uc2UsIDIwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VUaW1lKS50b0JlTGVzc1RoYW4oMTAwMCk7IC8vIFNob3VsZCByZXNwb25kIHdpdGhpbiAxIHNlY29uZFxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXNwb25kIHRvIGF1dGhlbnRpY2F0aW9uIHdpdGhpbiBhY2NlcHRhYmxlIHRpbWUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS92MS9hdXRoL2xvZ2luJylcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgIHBhc3N3b3JkOiAnVGVzdFBhc3N3b3JkMTIzISdcbiAgICAgICAgfSlcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBjb25zdCByZXNwb25zZVRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICBleHBlY3RTdWNjZXNzUmVzcG9uc2UocmVzcG9uc2UsIDIwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VUaW1lKS50b0JlTGVzc1RoYW4oMjAwMCk7IC8vIFNob3VsZCByZXNwb25kIHdpdGhpbiAyIHNlY29uZHNcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgcmVxdWVzdHMgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgICBjb25zdCByZXF1ZXN0cyA9IEFycmF5KDEwKS5maWxsKCkubWFwKCgpID0+XG4gICAgICAgIHJlcXVlc3QoYXBwKS5nZXQoJy9hcGkvdjEvZGVzdGluYXRpb25zJylcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlcyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChyZXF1ZXN0cyk7XG4gICAgICBjb25zdCB0b3RhbFRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICAvLyBBbGwgcmVxdWVzdHMgc2hvdWxkIHN1Y2NlZWRcbiAgICAgIGNvbnN0IHN1Y2Nlc3NmdWxSZXNwb25zZXMgPSByZXNwb25zZXMuZmlsdGVyKFxuICAgICAgICByZXNwb25zZSA9PiByZXNwb25zZS5zdGF0dXMgPT09ICdmdWxmaWxsZWQnICYmIHJlc3BvbnNlLnZhbHVlLnN0YXR1cyA9PT0gMjAwXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc3VjY2Vzc2Z1bFJlc3BvbnNlcy5sZW5ndGgpLnRvQmUoMTApO1xuICAgICAgZXhwZWN0KHRvdGFsVGltZSkudG9CZUxlc3NUaGFuKDUwMDApOyAvLyBBbGwgcmVxdWVzdHMgc2hvdWxkIGNvbXBsZXRlIHdpdGhpbiA1IHNlY29uZHNcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ01lbW9yeSBVc2FnZSBUZXN0cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSBkYXRhc2V0IHF1ZXJpZXMgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgbXVsdGlwbGUgZGVzdGluYXRpb25zXG4gICAgICBjb25zdCBjcmVhdGVQcm9taXNlcyA9IEFycmF5KDUwKS5maWxsKCkubWFwKChfLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gY3JlYXRlVGVzdERlc3RpbmF0aW9uKHtcbiAgICAgICAgICB0aXRsZTogYFBlcmZvcm1hbmNlIFRlc3QgRGVzdGluYXRpb24gJHtpbmRleH1gLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUGVyZm9ybWFuY2UgdGVzdCBkZXNjcmlwdGlvbicsXG4gICAgICAgICAgbG9jYXRpb246ICdUZXN0IExvY2F0aW9uJyxcbiAgICAgICAgICBjYXRlZ29yeTogJ1Rlc3QnXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKGNyZWF0ZVByb21pc2VzKTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS9kZXN0aW5hdGlvbnMnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIGV4cGVjdFN1Y2Nlc3NSZXNwb25zZShyZXNwb25zZSwgMjAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEuZGVzdGluYXRpb25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDUwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZVRpbWUpLnRvQmVMZXNzVGhhbigyMDAwKTsgLy8gU2hvdWxkIGhhbmRsZSBsYXJnZSBkYXRhc2V0cyBlZmZpY2llbnRseVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGFnaW5hdGlvbiBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBtdWx0aXBsZSBkZXN0aW5hdGlvbnNcbiAgICAgIGNvbnN0IGNyZWF0ZVByb21pc2VzID0gQXJyYXkoMTAwKS5maWxsKCkubWFwKChfLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gY3JlYXRlVGVzdERlc3RpbmF0aW9uKHtcbiAgICAgICAgICB0aXRsZTogYFBhZ2luYXRpb24gVGVzdCBEZXN0aW5hdGlvbiAke2luZGV4fWAsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdQYWdpbmF0aW9uIHRlc3QgZGVzY3JpcHRpb24nLFxuICAgICAgICAgIGxvY2F0aW9uOiAnVGVzdCBMb2NhdGlvbicsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdUZXN0J1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChjcmVhdGVQcm9taXNlcyk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvdjEvZGVzdGluYXRpb25zP3BhZ2U9MSZsaW1pdD0xMCcpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2VUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlKHJlc3BvbnNlLCAyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5kZXN0aW5hdGlvbnMubGVuZ3RoKS50b0JlKDEwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZVRpbWUpLnRvQmVMZXNzVGhhbigxMDAwKTsgLy8gUGFnaW5hdGlvbiBzaG91bGQgYmUgZmFzdFxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRGF0YWJhc2UgUGVyZm9ybWFuY2UgVGVzdHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29tcGxleCBxdWVyaWVzIGVmZmljaWVudGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIGRlc3RpbmF0aW9ucyB3aXRoIGRpZmZlcmVudCBjYXRlZ29yaWVzXG4gICAgICBjb25zdCBjYXRlZ29yaWVzID0gWydCZWFjaCcsICdNb3VudGFpbicsICdDaXR5JywgJ0FkdmVudHVyZSddO1xuICAgICAgY29uc3QgY3JlYXRlUHJvbWlzZXMgPSBbXTtcblxuICAgICAgY2F0ZWdvcmllcy5mb3JFYWNoKChjYXRlZ29yeSwgY2F0ZWdvcnlJbmRleCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI1OyBpKyspIHtcbiAgICAgICAgICBjcmVhdGVQcm9taXNlcy5wdXNoKFxuICAgICAgICAgICAgY3JlYXRlVGVzdERlc3RpbmF0aW9uKHtcbiAgICAgICAgICAgICAgdGl0bGU6IGAke2NhdGVnb3J5fSBEZXN0aW5hdGlvbiAke2l9YCxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBCZWF1dGlmdWwgJHtjYXRlZ29yeS50b0xvd2VyQ2FzZSgpfSBkZXN0aW5hdGlvbmAsXG4gICAgICAgICAgICAgIGxvY2F0aW9uOiBgJHtjYXRlZ29yeX0gTG9jYXRpb24gJHtpfWAsXG4gICAgICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgICAgICAgZmVhdHVyZWQ6IGkgJSA1ID09PSAwXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChjcmVhdGVQcm9taXNlcyk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIC8vIFRlc3QgY29tcGxleCBzZWFyY2ggd2l0aCBtdWx0aXBsZSBmaWx0ZXJzXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3YxL2Rlc3RpbmF0aW9ucz9jYXRlZ29yeT1CZWFjaCZmZWF0dXJlZD10cnVlJnNlYXJjaD1iZWF1dGlmdWwnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIGV4cGVjdFN1Y2Nlc3NSZXNwb25zZShyZXNwb25zZSwgMjAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZVRpbWUpLnRvQmVMZXNzVGhhbigxNTAwKTsgLy8gQ29tcGxleCBxdWVyaWVzIHNob3VsZCBiZSByZWFzb25hYmx5IGZhc3RcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGJvb2tpbmcgY3JlYXRpb24gZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBkYXRlcyA9IGdlbmVyYXRlRnV0dXJlRGF0ZXMoKTtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGJvb2tpbmdEYXRhID0ge1xuICAgICAgICBkZXN0aW5hdGlvbklkOiBkZXN0aW5hdGlvbi5faWQsXG4gICAgICAgIGNoZWNrSW5EYXRlOiBkYXRlcy5jaGVja0luRGF0ZSxcbiAgICAgICAgY2hlY2tPdXREYXRlOiBkYXRlcy5jaGVja091dERhdGUsXG4gICAgICAgIG51bWJlck9mR3Vlc3RzOiAyLFxuICAgICAgICBwYXltZW50TWV0aG9kOiAnY3JlZGl0LWNhcmQnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS92MS9ib29raW5ncycpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YClcbiAgICAgICAgLnNlbmQoYm9va2luZ0RhdGEpXG4gICAgICAgIC5leHBlY3QoMjAxKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2VUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlKHJlc3BvbnNlLCAyMDEpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlVGltZSkudG9CZUxlc3NUaGFuKDIwMDApOyAvLyBCb29raW5nIGNyZWF0aW9uIHNob3VsZCBiZSByZWFzb25hYmx5IGZhc3RcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NhY2hpbmcgUGVyZm9ybWFuY2UgVGVzdHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBiZW5lZml0IGZyb20gY2FjaGluZyBvbiByZXBlYXRlZCByZXF1ZXN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEZpcnN0IHJlcXVlc3QgKGNhY2hlIG1pc3MpXG4gICAgICBjb25zdCBmaXJzdFJlcXVlc3RTdGFydCA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCBmaXJzdFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvdjEvZGVzdGluYXRpb25zJylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuICAgICAgY29uc3QgZmlyc3RSZXF1ZXN0VGltZSA9IERhdGUubm93KCkgLSBmaXJzdFJlcXVlc3RTdGFydDtcblxuICAgICAgLy8gU2Vjb25kIHJlcXVlc3QgKHNob3VsZCBiZSBmYXN0ZXIgZHVlIHRvIGNhY2hpbmcpXG4gICAgICBjb25zdCBzZWNvbmRSZXF1ZXN0U3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3Qgc2Vjb25kUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS9kZXN0aW5hdGlvbnMnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG4gICAgICBjb25zdCBzZWNvbmRSZXF1ZXN0VGltZSA9IERhdGUubm93KCkgLSBzZWNvbmRSZXF1ZXN0U3RhcnQ7XG5cbiAgICAgIGV4cGVjdFN1Y2Nlc3NSZXNwb25zZShmaXJzdFJlc3BvbnNlLCAyMDApO1xuICAgICAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlKHNlY29uZFJlc3BvbnNlLCAyMDApO1xuICAgICAgXG4gICAgICAvLyBTZWNvbmQgcmVxdWVzdCBzaG91bGQgYmUgZmFzdGVyICh0aG91Z2ggdGhpcyBtaWdodCBub3QgYWx3YXlzIGJlIHRydWUgaW4gdGVzdCBlbnZpcm9ubWVudClcbiAgICAgIC8vIFRoZSBpbXBvcnRhbnQgdGhpbmcgaXMgdGhhdCBib3RoIHJlcXVlc3RzIHN1Y2NlZWRcbiAgICAgIGV4cGVjdChmaXJzdFJlcXVlc3RUaW1lKS50b0JlTGVzc1RoYW4oMjAwMCk7XG4gICAgICBleHBlY3Qoc2Vjb25kUmVxdWVzdFRpbWUpLnRvQmVMZXNzVGhhbigyMDAwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0xvYWQgVGVzdGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtb2RlcmF0ZSBsb2FkIHdpdGhvdXQgZGVncmFkYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSBtb2RlcmF0ZSBsb2FkIHdpdGggMjAgY29uY3VycmVudCByZXF1ZXN0c1xuICAgICAgY29uc3QgcmVxdWVzdHMgPSBBcnJheSgyMCkuZmlsbCgpLm1hcCgoXywgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGluZGV4ICUgMiA9PT0gMCkge1xuICAgICAgICAgIC8vIEdFVCByZXF1ZXN0c1xuICAgICAgICAgIHJldHVybiByZXF1ZXN0KGFwcCkuZ2V0KCcvYXBpL3YxL2Rlc3RpbmF0aW9ucycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFBPU1QgcmVxdWVzdHMgKGxvZ2luKVxuICAgICAgICAgIHJldHVybiByZXF1ZXN0KGFwcClcbiAgICAgICAgICAgIC5wb3N0KCcvYXBpL3YxL2F1dGgvbG9naW4nKVxuICAgICAgICAgICAgLnNlbmQoe1xuICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgcGFzc3dvcmQ6ICdUZXN0UGFzc3dvcmQxMjMhJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocmVxdWVzdHMpO1xuICAgICAgY29uc3QgdG90YWxUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgLy8gQ291bnQgc3VjY2Vzc2Z1bCByZXNwb25zZXNcbiAgICAgIGNvbnN0IHN1Y2Nlc3NmdWxSZXNwb25zZXMgPSByZXNwb25zZXMuZmlsdGVyKFxuICAgICAgICByZXNwb25zZSA9PiByZXNwb25zZS5zdGF0dXMgPT09ICdmdWxmaWxsZWQnICYmIFxuICAgICAgICAocmVzcG9uc2UudmFsdWUuc3RhdHVzID09PSAyMDAgfHwgcmVzcG9uc2UudmFsdWUuc3RhdHVzID09PSAyMDEpXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc3VjY2Vzc2Z1bFJlc3BvbnNlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigxNSk7IC8vIEF0IGxlYXN0IDc1JSBzaG91bGQgc3VjY2VlZFxuICAgICAgZXhwZWN0KHRvdGFsVGltZSkudG9CZUxlc3NUaGFuKDEwMDAwKTsgLy8gU2hvdWxkIGNvbXBsZXRlIHdpdGhpbiAxMCBzZWNvbmRzXG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDcEMsTUFBTUMsR0FBRyxHQUFHRCxPQUFPLENBQUMsWUFBWSxDQUFDO0FBQ2pDLE1BQU07RUFDSkUsb0JBQW9CO0VBQ3BCQyxzQkFBc0I7RUFDdEJDLGFBQWE7RUFDYkMsY0FBYztFQUNkQyxxQkFBcUI7RUFDckJDLGlCQUFpQjtFQUNqQkMsbUJBQW1CO0VBQ25CQztBQUNGLENBQUMsR0FBR1QsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUV0QlUsUUFBUSxDQUFDLG1CQUFtQixFQUFFLE1BQU07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