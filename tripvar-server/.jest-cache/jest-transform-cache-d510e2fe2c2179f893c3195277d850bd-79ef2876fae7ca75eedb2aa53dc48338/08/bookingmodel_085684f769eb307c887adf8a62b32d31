613404e3c0158965a0287cd03b706892
/* istanbul ignore next */
function cov_6fapnpyte() {
  var path = "/Users/mfarsx/dev/tripvar/tripvar-server/src/models/booking.model.js";
  var hash = "59004dbcf59ace4b10abfdd392eb11a320242998";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/mfarsx/dev/tripvar/tripvar-server/src/models/booking.model.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 17
        },
        end: {
          line: 1,
          column: 36
        }
      },
      "1": {
        start: {
          line: 3,
          column: 22
        },
        end: {
          line: 163,
          column: 1
        }
      },
      "2": {
        start: {
          line: 26,
          column: 10
        },
        end: {
          line: 26,
          column: 32
        }
      },
      "3": {
        start: {
          line: 38,
          column: 10
        },
        end: {
          line: 38,
          column: 38
        }
      },
      "4": {
        start: {
          line: 122,
          column: 10
        },
        end: {
          line: 122,
          column: 71
        }
      },
      "5": {
        start: {
          line: 166,
          column: 0
        },
        end: {
          line: 172,
          column: 3
        }
      },
      "6": {
        start: {
          line: 167,
          column: 2
        },
        end: {
          line: 170,
          column: 3
        }
      },
      "7": {
        start: {
          line: 168,
          column: 21
        },
        end: {
          line: 168,
          column: 77
        }
      },
      "8": {
        start: {
          line: 169,
          column: 4
        },
        end: {
          line: 169,
          column: 52
        }
      },
      "9": {
        start: {
          line: 171,
          column: 2
        },
        end: {
          line: 171,
          column: 11
        }
      },
      "10": {
        start: {
          line: 175,
          column: 0
        },
        end: {
          line: 177,
          column: 3
        }
      },
      "11": {
        start: {
          line: 176,
          column: 2
        },
        end: {
          line: 176,
          column: 62
        }
      },
      "12": {
        start: {
          line: 180,
          column: 0
        },
        end: {
          line: 187,
          column: 3
        }
      },
      "13": {
        start: {
          line: 181,
          column: 2
        },
        end: {
          line: 185,
          column: 3
        }
      },
      "14": {
        start: {
          line: 182,
          column: 21
        },
        end: {
          line: 182,
          column: 77
        }
      },
      "15": {
        start: {
          line: 183,
          column: 4
        },
        end: {
          line: 183,
          column: 64
        }
      },
      "16": {
        start: {
          line: 184,
          column: 4
        },
        end: {
          line: 184,
          column: 83
        }
      },
      "17": {
        start: {
          line: 186,
          column: 2
        },
        end: {
          line: 186,
          column: 9
        }
      },
      "18": {
        start: {
          line: 190,
          column: 0
        },
        end: {
          line: 190,
          column: 48
        }
      },
      "19": {
        start: {
          line: 191,
          column: 0
        },
        end: {
          line: 191,
          column: 73
        }
      },
      "20": {
        start: {
          line: 192,
          column: 0
        },
        end: {
          line: 192,
          column: 35
        }
      },
      "21": {
        start: {
          line: 193,
          column: 0
        },
        end: {
          line: 193,
          column: 42
        }
      },
      "22": {
        start: {
          line: 196,
          column: 0
        },
        end: {
          line: 209,
          column: 2
        }
      },
      "23": {
        start: {
          line: 197,
          column: 27
        },
        end: {
          line: 206,
          column: 4
        }
      },
      "24": {
        start: {
          line: 208,
          column: 2
        },
        end: {
          line: 208,
          column: 39
        }
      },
      "25": {
        start: {
          line: 212,
          column: 0
        },
        end: {
          line: 228,
          column: 2
        }
      },
      "26": {
        start: {
          line: 213,
          column: 2
        },
        end: {
          line: 215,
          column: 3
        }
      },
      "27": {
        start: {
          line: 214,
          column: 4
        },
        end: {
          line: 214,
          column: 13
        }
      },
      "28": {
        start: {
          line: 217,
          column: 14
        },
        end: {
          line: 217,
          column: 24
        }
      },
      "29": {
        start: {
          line: 218,
          column: 27
        },
        end: {
          line: 218,
          column: 83
        }
      },
      "30": {
        start: {
          line: 221,
          column: 2
        },
        end: {
          line: 227,
          column: 3
        }
      },
      "31": {
        start: {
          line: 222,
          column: 4
        },
        end: {
          line: 222,
          column: 28
        }
      },
      "32": {
        start: {
          line: 223,
          column: 9
        },
        end: {
          line: 227,
          column: 3
        }
      },
      "33": {
        start: {
          line: 224,
          column: 4
        },
        end: {
          line: 224,
          column: 34
        }
      },
      "34": {
        start: {
          line: 226,
          column: 4
        },
        end: {
          line: 226,
          column: 13
        }
      },
      "35": {
        start: {
          line: 230,
          column: 16
        },
        end: {
          line: 230,
          column: 56
        }
      },
      "36": {
        start: {
          line: 232,
          column: 0
        },
        end: {
          line: 232,
          column: 25
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 24,
            column: 19
          },
          end: {
            line: 24,
            column: 20
          }
        },
        loc: {
          start: {
            line: 24,
            column: 31
          },
          end: {
            line: 27,
            column: 9
          }
        },
        line: 24
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 36,
            column: 19
          },
          end: {
            line: 36,
            column: 20
          }
        },
        loc: {
          start: {
            line: 36,
            column: 31
          },
          end: {
            line: 39,
            column: 9
          }
        },
        line: 36
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 121,
            column: 19
          },
          end: {
            line: 121,
            column: 20
          }
        },
        loc: {
          start: {
            line: 121,
            column: 31
          },
          end: {
            line: 123,
            column: 9
          }
        },
        line: 121
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 166,
            column: 38
          },
          end: {
            line: 166,
            column: 39
          }
        },
        loc: {
          start: {
            line: 166,
            column: 49
          },
          end: {
            line: 172,
            column: 1
          }
        },
        line: 166
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 175,
            column: 46
          },
          end: {
            line: 175,
            column: 47
          }
        },
        loc: {
          start: {
            line: 175,
            column: 57
          },
          end: {
            line: 177,
            column: 1
          }
        },
        line: 175
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 180,
            column: 26
          },
          end: {
            line: 180,
            column: 27
          }
        },
        loc: {
          start: {
            line: 180,
            column: 41
          },
          end: {
            line: 187,
            column: 1
          }
        },
        line: 180
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 196,
            column: 42
          },
          end: {
            line: 196,
            column: 43
          }
        },
        loc: {
          start: {
            line: 196,
            column: 99
          },
          end: {
            line: 209,
            column: 1
          }
        },
        line: 196
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 212,
            column: 40
          },
          end: {
            line: 212,
            column: 41
          }
        },
        loc: {
          start: {
            line: 212,
            column: 51
          },
          end: {
            line: 228,
            column: 1
          }
        },
        line: 212
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 167,
            column: 2
          },
          end: {
            line: 170,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 167,
            column: 2
          },
          end: {
            line: 170,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 167
      },
      "1": {
        loc: {
          start: {
            line: 167,
            column: 6
          },
          end: {
            line: 167,
            column: 43
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 167,
            column: 6
          },
          end: {
            line: 167,
            column: 22
          }
        }, {
          start: {
            line: 167,
            column: 26
          },
          end: {
            line: 167,
            column: 43
          }
        }],
        line: 167
      },
      "2": {
        loc: {
          start: {
            line: 181,
            column: 2
          },
          end: {
            line: 185,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 181,
            column: 2
          },
          end: {
            line: 185,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 181
      },
      "3": {
        loc: {
          start: {
            line: 181,
            column: 6
          },
          end: {
            line: 181,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 181,
            column: 6
          },
          end: {
            line: 181,
            column: 22
          }
        }, {
          start: {
            line: 181,
            column: 26
          },
          end: {
            line: 181,
            column: 43
          }
        }, {
          start: {
            line: 181,
            column: 47
          },
          end: {
            line: 181,
            column: 65
          }
        }],
        line: 181
      },
      "4": {
        loc: {
          start: {
            line: 213,
            column: 2
          },
          end: {
            line: 215,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 213,
            column: 2
          },
          end: {
            line: 215,
            column: 3
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 213
      },
      "5": {
        loc: {
          start: {
            line: 221,
            column: 2
          },
          end: {
            line: 227,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 221,
            column: 2
          },
          end: {
            line: 227,
            column: 3
          }
        }, {
          start: {
            line: 223,
            column: 9
          },
          end: {
            line: 227,
            column: 3
          }
        }],
        line: 221
      },
      "6": {
        loc: {
          start: {
            line: 223,
            column: 9
          },
          end: {
            line: 227,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 223,
            column: 9
          },
          end: {
            line: 227,
            column: 3
          }
        }, {
          start: {
            line: 225,
            column: 9
          },
          end: {
            line: 227,
            column: 3
          }
        }],
        line: 223
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "59004dbcf59ace4b10abfdd392eb11a320242998"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_6fapnpyte = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_6fapnpyte();
const mongoose =
/* istanbul ignore next */
(cov_6fapnpyte().s[0]++, require('mongoose'));
const bookingSchema =
/* istanbul ignore next */
(cov_6fapnpyte().s[1]++, new mongoose.Schema({
  // User who made the booking
  user: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'User',
    required: [true, 'Booking must belong to a user']
  },
  // Destination being booked
  destination: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'Destination',
    required: [true, 'Booking must be for a destination']
  },
  // Booking dates
  checkInDate: {
    type: Date,
    required: [true, 'Check-in date is required'],
    validate: {
      validator: function (v) {
        /* istanbul ignore next */
        cov_6fapnpyte().f[0]++;
        cov_6fapnpyte().s[2]++;
        // Check-in date must be in the future
        return v > new Date();
      },
      message: 'Check-in date must be in the future'
    }
  },
  checkOutDate: {
    type: Date,
    required: [true, 'Check-out date is required'],
    validate: {
      validator: function (v) {
        /* istanbul ignore next */
        cov_6fapnpyte().f[1]++;
        cov_6fapnpyte().s[3]++;
        // Check-out date must be after check-in date
        return v > this.checkInDate;
      },
      message: 'Check-out date must be after check-in date'
    }
  },
  // Number of guests
  numberOfGuests: {
    type: Number,
    required: [true, 'Number of guests is required'],
    min: [1, 'At least 1 guest is required'],
    max: [10, 'Maximum 10 guests allowed']
  },
  // Pricing information
  pricePerNight: {
    type: Number,
    required: [true, 'Price per night is required'],
    min: [0, 'Price cannot be negative']
  },
  totalNights: {
    type: Number,
    required: true,
    min: [1, 'At least 1 night is required']
  },
  totalAmount: {
    type: Number,
    required: [true, 'Total amount is required'],
    min: [0, 'Total amount cannot be negative']
  },
  // Payment information
  paymentMethod: {
    type: String,
    required: [true, 'Payment method is required'],
    enum: {
      values: ['credit-card', 'paypal', 'bank-transfer'],
      message: 'Payment method must be credit-card, paypal, or bank-transfer'
    }
  },
  paymentStatus: {
    type: String,
    required: true,
    enum: {
      values: ['pending', 'paid', 'failed', 'refunded'],
      message: 'Payment status must be pending, paid, failed, or refunded'
    },
    default: 'pending'
  },
  paymentIntentId: {
    type: String,
    required: false // Will be set when payment is processed
  },
  // Booking status
  status: {
    type: String,
    required: true,
    enum: {
      values: ['confirmed', 'cancelled', 'completed', 'no-show'],
      message: 'Status must be confirmed, cancelled, completed, or no-show'
    },
    default: 'confirmed'
  },
  // Additional information
  specialRequests: {
    type: String,
    maxlength: [500, 'Special requests cannot exceed 500 characters'],
    required: false
  },
  // Contact information for the booking
  contactEmail: {
    type: String,
    required: [true, 'Contact email is required'],
    lowercase: true,
    trim: true,
    validate: {
      validator: function (v) {
        /* istanbul ignore next */
        cov_6fapnpyte().f[2]++;
        cov_6fapnpyte().s[4]++;
        return /^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(v);
      },
      message: 'Please provide a valid email address'
    }
  },
  contactPhone: {
    type: String,
    required: false,
    trim: true
  },
  // Cancellation information
  cancelledAt: {
    type: Date,
    required: false
  },
  cancellationReason: {
    type: String,
    required: false,
    maxlength: [200, 'Cancellation reason cannot exceed 200 characters']
  },
  // Refund information
  refundAmount: {
    type: Number,
    required: false,
    min: [0, 'Refund amount cannot be negative']
  },
  refundedAt: {
    type: Date,
    required: false
  }
}, {
  timestamps: true,
  toJSON: {
    virtuals: true
  },
  toObject: {
    virtuals: true
  }
}));

// Virtual field for booking duration in days
/* istanbul ignore next */
cov_6fapnpyte().s[5]++;
bookingSchema.virtual('duration').get(function () {
  /* istanbul ignore next */
  cov_6fapnpyte().f[3]++;
  cov_6fapnpyte().s[6]++;
  if (
  /* istanbul ignore next */
  (cov_6fapnpyte().b[1][0]++, this.checkInDate) &&
  /* istanbul ignore next */
  (cov_6fapnpyte().b[1][1]++, this.checkOutDate)) {
    /* istanbul ignore next */
    cov_6fapnpyte().b[0][0]++;
    const timeDiff =
    /* istanbul ignore next */
    (cov_6fapnpyte().s[7]++, this.checkOutDate.getTime() - this.checkInDate.getTime());
    /* istanbul ignore next */
    cov_6fapnpyte().s[8]++;
    return Math.ceil(timeDiff / (1000 * 3600 * 24));
  } else
  /* istanbul ignore next */
  {
    cov_6fapnpyte().b[0][1]++;
  }
  cov_6fapnpyte().s[9]++;
  return 0;
});

// Virtual field for booking reference number
/* istanbul ignore next */
cov_6fapnpyte().s[10]++;
bookingSchema.virtual('bookingReference').get(function () {
  /* istanbul ignore next */
  cov_6fapnpyte().f[4]++;
  cov_6fapnpyte().s[11]++;
  return `TRV-${this._id.toString().slice(-8).toUpperCase()}`;
});

// Pre-save middleware to calculate total nights and amount
/* istanbul ignore next */
cov_6fapnpyte().s[12]++;
bookingSchema.pre('save', function (next) {
  /* istanbul ignore next */
  cov_6fapnpyte().f[5]++;
  cov_6fapnpyte().s[13]++;
  if (
  /* istanbul ignore next */
  (cov_6fapnpyte().b[3][0]++, this.checkInDate) &&
  /* istanbul ignore next */
  (cov_6fapnpyte().b[3][1]++, this.checkOutDate) &&
  /* istanbul ignore next */
  (cov_6fapnpyte().b[3][2]++, this.pricePerNight)) {
    /* istanbul ignore next */
    cov_6fapnpyte().b[2][0]++;
    const timeDiff =
    /* istanbul ignore next */
    (cov_6fapnpyte().s[14]++, this.checkOutDate.getTime() - this.checkInDate.getTime());
    /* istanbul ignore next */
    cov_6fapnpyte().s[15]++;
    this.totalNights = Math.ceil(timeDiff / (1000 * 3600 * 24));
    /* istanbul ignore next */
    cov_6fapnpyte().s[16]++;
    this.totalAmount = this.totalNights * this.pricePerNight * this.numberOfGuests;
  } else
  /* istanbul ignore next */
  {
    cov_6fapnpyte().b[2][1]++;
  }
  cov_6fapnpyte().s[17]++;
  next();
});

// Index for better query performance
/* istanbul ignore next */
cov_6fapnpyte().s[18]++;
bookingSchema.index({
  user: 1,
  createdAt: -1
});
/* istanbul ignore next */
cov_6fapnpyte().s[19]++;
bookingSchema.index({
  destination: 1,
  checkInDate: 1,
  checkOutDate: 1
});
/* istanbul ignore next */
cov_6fapnpyte().s[20]++;
bookingSchema.index({
  status: 1
});
/* istanbul ignore next */
cov_6fapnpyte().s[21]++;
bookingSchema.index({
  paymentStatus: 1
});

// Static method to check availability
/* istanbul ignore next */
cov_6fapnpyte().s[22]++;
bookingSchema.statics.checkAvailability = async function (destinationId, checkInDate, checkOutDate) {
  /* istanbul ignore next */
  cov_6fapnpyte().f[6]++;
  const existingBookings =
  /* istanbul ignore next */
  (cov_6fapnpyte().s[23]++, await this.find({
    destination: destinationId,
    status: {
      $in: ['confirmed', 'completed']
    },
    $or: [{
      checkInDate: {
        $lt: checkOutDate
      },
      checkOutDate: {
        $gt: checkInDate
      }
    }]
  }));
  /* istanbul ignore next */
  cov_6fapnpyte().s[24]++;
  return existingBookings.length === 0;
};

// Instance method to calculate refund amount
/* istanbul ignore next */
cov_6fapnpyte().s[25]++;
bookingSchema.methods.calculateRefund = function () {
  /* istanbul ignore next */
  cov_6fapnpyte().f[7]++;
  cov_6fapnpyte().s[26]++;
  if (this.status !== 'cancelled') {
    /* istanbul ignore next */
    cov_6fapnpyte().b[4][0]++;
    cov_6fapnpyte().s[27]++;
    return 0;
  } else
  /* istanbul ignore next */
  {
    cov_6fapnpyte().b[4][1]++;
  }
  const now =
  /* istanbul ignore next */
  (cov_6fapnpyte().s[28]++, new Date());
  const daysUntilCheckIn =
  /* istanbul ignore next */
  (cov_6fapnpyte().s[29]++, Math.ceil((this.checkInDate - now) / (1000 * 3600 * 24)));

  // Refund policy: 100% if cancelled 7+ days before, 50% if 3-6 days, 0% if less than 3 days
  /* istanbul ignore next */
  cov_6fapnpyte().s[30]++;
  if (daysUntilCheckIn >= 7) {
    /* istanbul ignore next */
    cov_6fapnpyte().b[5][0]++;
    cov_6fapnpyte().s[31]++;
    return this.totalAmount;
  } else {
    /* istanbul ignore next */
    cov_6fapnpyte().b[5][1]++;
    cov_6fapnpyte().s[32]++;
    if (daysUntilCheckIn >= 3) {
      /* istanbul ignore next */
      cov_6fapnpyte().b[6][0]++;
      cov_6fapnpyte().s[33]++;
      return this.totalAmount * 0.5;
    } else {
      /* istanbul ignore next */
      cov_6fapnpyte().b[6][1]++;
      cov_6fapnpyte().s[34]++;
      return 0;
    }
  }
};
const Booking =
/* istanbul ignore next */
(cov_6fapnpyte().s[35]++, mongoose.model('Booking', bookingSchema));
/* istanbul ignore next */
cov_6fapnpyte().s[36]++;
module.exports = Booking;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfNmZhcG5weXRlIiwiYWN0dWFsQ292ZXJhZ2UiLCJtb25nb29zZSIsInMiLCJyZXF1aXJlIiwiYm9va2luZ1NjaGVtYSIsIlNjaGVtYSIsInVzZXIiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwiZGVzdGluYXRpb24iLCJjaGVja0luRGF0ZSIsIkRhdGUiLCJ2YWxpZGF0ZSIsInZhbGlkYXRvciIsInYiLCJmIiwibWVzc2FnZSIsImNoZWNrT3V0RGF0ZSIsIm51bWJlck9mR3Vlc3RzIiwiTnVtYmVyIiwibWluIiwibWF4IiwicHJpY2VQZXJOaWdodCIsInRvdGFsTmlnaHRzIiwidG90YWxBbW91bnQiLCJwYXltZW50TWV0aG9kIiwiU3RyaW5nIiwiZW51bSIsInZhbHVlcyIsInBheW1lbnRTdGF0dXMiLCJkZWZhdWx0IiwicGF5bWVudEludGVudElkIiwic3RhdHVzIiwic3BlY2lhbFJlcXVlc3RzIiwibWF4bGVuZ3RoIiwiY29udGFjdEVtYWlsIiwibG93ZXJjYXNlIiwidHJpbSIsInRlc3QiLCJjb250YWN0UGhvbmUiLCJjYW5jZWxsZWRBdCIsImNhbmNlbGxhdGlvblJlYXNvbiIsInJlZnVuZEFtb3VudCIsInJlZnVuZGVkQXQiLCJ0aW1lc3RhbXBzIiwidG9KU09OIiwidmlydHVhbHMiLCJ0b09iamVjdCIsInZpcnR1YWwiLCJnZXQiLCJiIiwidGltZURpZmYiLCJnZXRUaW1lIiwiTWF0aCIsImNlaWwiLCJfaWQiLCJ0b1N0cmluZyIsInNsaWNlIiwidG9VcHBlckNhc2UiLCJwcmUiLCJuZXh0IiwiaW5kZXgiLCJjcmVhdGVkQXQiLCJzdGF0aWNzIiwiY2hlY2tBdmFpbGFiaWxpdHkiLCJkZXN0aW5hdGlvbklkIiwiZXhpc3RpbmdCb29raW5ncyIsImZpbmQiLCIkaW4iLCIkb3IiLCIkbHQiLCIkZ3QiLCJsZW5ndGgiLCJtZXRob2RzIiwiY2FsY3VsYXRlUmVmdW5kIiwibm93IiwiZGF5c1VudGlsQ2hlY2tJbiIsIkJvb2tpbmciLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJib29raW5nLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcblxuY29uc3QgYm9va2luZ1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXG4gIHtcbiAgICAvLyBVc2VyIHdobyBtYWRlIHRoZSBib29raW5nXG4gICAgdXNlcjoge1xuICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgICAgcmVmOiAnVXNlcicsXG4gICAgICByZXF1aXJlZDogW3RydWUsICdCb29raW5nIG11c3QgYmVsb25nIHRvIGEgdXNlciddXG4gICAgfSxcblxuICAgIC8vIERlc3RpbmF0aW9uIGJlaW5nIGJvb2tlZFxuICAgIGRlc3RpbmF0aW9uOiB7XG4gICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICByZWY6ICdEZXN0aW5hdGlvbicsXG4gICAgICByZXF1aXJlZDogW3RydWUsICdCb29raW5nIG11c3QgYmUgZm9yIGEgZGVzdGluYXRpb24nXVxuICAgIH0sXG5cbiAgICAvLyBCb29raW5nIGRhdGVzXG4gICAgY2hlY2tJbkRhdGU6IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgICByZXF1aXJlZDogW3RydWUsICdDaGVjay1pbiBkYXRlIGlzIHJlcXVpcmVkJ10sXG4gICAgICB2YWxpZGF0ZToge1xuICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAvLyBDaGVjay1pbiBkYXRlIG11c3QgYmUgaW4gdGhlIGZ1dHVyZVxuICAgICAgICAgIHJldHVybiB2ID4gbmV3IERhdGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogJ0NoZWNrLWluIGRhdGUgbXVzdCBiZSBpbiB0aGUgZnV0dXJlJ1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBjaGVja091dERhdGU6IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgICByZXF1aXJlZDogW3RydWUsICdDaGVjay1vdXQgZGF0ZSBpcyByZXF1aXJlZCddLFxuICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgLy8gQ2hlY2stb3V0IGRhdGUgbXVzdCBiZSBhZnRlciBjaGVjay1pbiBkYXRlXG4gICAgICAgICAgcmV0dXJuIHYgPiB0aGlzLmNoZWNrSW5EYXRlO1xuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiAnQ2hlY2stb3V0IGRhdGUgbXVzdCBiZSBhZnRlciBjaGVjay1pbiBkYXRlJ1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBOdW1iZXIgb2YgZ3Vlc3RzXG4gICAgbnVtYmVyT2ZHdWVzdHM6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ051bWJlciBvZiBndWVzdHMgaXMgcmVxdWlyZWQnXSxcbiAgICAgIG1pbjogWzEsICdBdCBsZWFzdCAxIGd1ZXN0IGlzIHJlcXVpcmVkJ10sXG4gICAgICBtYXg6IFsxMCwgJ01heGltdW0gMTAgZ3Vlc3RzIGFsbG93ZWQnXVxuICAgIH0sXG5cbiAgICAvLyBQcmljaW5nIGluZm9ybWF0aW9uXG4gICAgcHJpY2VQZXJOaWdodDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnUHJpY2UgcGVyIG5pZ2h0IGlzIHJlcXVpcmVkJ10sXG4gICAgICBtaW46IFswLCAnUHJpY2UgY2Fubm90IGJlIG5lZ2F0aXZlJ11cbiAgICB9LFxuXG4gICAgdG90YWxOaWdodHM6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgbWluOiBbMSwgJ0F0IGxlYXN0IDEgbmlnaHQgaXMgcmVxdWlyZWQnXVxuICAgIH0sXG5cbiAgICB0b3RhbEFtb3VudDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVG90YWwgYW1vdW50IGlzIHJlcXVpcmVkJ10sXG4gICAgICBtaW46IFswLCAnVG90YWwgYW1vdW50IGNhbm5vdCBiZSBuZWdhdGl2ZSddXG4gICAgfSxcblxuICAgIC8vIFBheW1lbnQgaW5mb3JtYXRpb25cbiAgICBwYXltZW50TWV0aG9kOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogW3RydWUsICdQYXltZW50IG1ldGhvZCBpcyByZXF1aXJlZCddLFxuICAgICAgZW51bToge1xuICAgICAgICB2YWx1ZXM6IFsnY3JlZGl0LWNhcmQnLCAncGF5cGFsJywgJ2JhbmstdHJhbnNmZXInXSxcbiAgICAgICAgbWVzc2FnZTogJ1BheW1lbnQgbWV0aG9kIG11c3QgYmUgY3JlZGl0LWNhcmQsIHBheXBhbCwgb3IgYmFuay10cmFuc2ZlcidcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcGF5bWVudFN0YXR1czoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICBlbnVtOiB7XG4gICAgICAgIHZhbHVlczogWydwZW5kaW5nJywgJ3BhaWQnLCAnZmFpbGVkJywgJ3JlZnVuZGVkJ10sXG4gICAgICAgIG1lc3NhZ2U6ICdQYXltZW50IHN0YXR1cyBtdXN0IGJlIHBlbmRpbmcsIHBhaWQsIGZhaWxlZCwgb3IgcmVmdW5kZWQnXG4gICAgICB9LFxuICAgICAgZGVmYXVsdDogJ3BlbmRpbmcnXG4gICAgfSxcblxuICAgIHBheW1lbnRJbnRlbnRJZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlIC8vIFdpbGwgYmUgc2V0IHdoZW4gcGF5bWVudCBpcyBwcm9jZXNzZWRcbiAgICB9LFxuXG4gICAgLy8gQm9va2luZyBzdGF0dXNcbiAgICBzdGF0dXM6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgZW51bToge1xuICAgICAgICB2YWx1ZXM6IFsnY29uZmlybWVkJywgJ2NhbmNlbGxlZCcsICdjb21wbGV0ZWQnLCAnbm8tc2hvdyddLFxuICAgICAgICBtZXNzYWdlOiAnU3RhdHVzIG11c3QgYmUgY29uZmlybWVkLCBjYW5jZWxsZWQsIGNvbXBsZXRlZCwgb3Igbm8tc2hvdydcbiAgICAgIH0sXG4gICAgICBkZWZhdWx0OiAnY29uZmlybWVkJ1xuICAgIH0sXG5cbiAgICAvLyBBZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gICAgc3BlY2lhbFJlcXVlc3RzOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBtYXhsZW5ndGg6IFs1MDAsICdTcGVjaWFsIHJlcXVlc3RzIGNhbm5vdCBleGNlZWQgNTAwIGNoYXJhY3RlcnMnXSxcbiAgICAgIHJlcXVpcmVkOiBmYWxzZVxuICAgIH0sXG5cbiAgICAvLyBDb250YWN0IGluZm9ybWF0aW9uIGZvciB0aGUgYm9va2luZ1xuICAgIGNvbnRhY3RFbWFpbDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnQ29udGFjdCBlbWFpbCBpcyByZXF1aXJlZCddLFxuICAgICAgbG93ZXJjYXNlOiB0cnVlLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiAvXlxcdysoWy4tXT9cXHcrKSpAXFx3KyhbLi1dP1xcdyspKihcXC5cXHd7MiwzfSkrJC8udGVzdCh2KTtcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBwcm92aWRlIGEgdmFsaWQgZW1haWwgYWRkcmVzcydcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY29udGFjdFBob25lOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB0cmltOiB0cnVlXG4gICAgfSxcblxuICAgIC8vIENhbmNlbGxhdGlvbiBpbmZvcm1hdGlvblxuICAgIGNhbmNlbGxlZEF0OiB7XG4gICAgICB0eXBlOiBEYXRlLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlXG4gICAgfSxcblxuICAgIGNhbmNlbGxhdGlvblJlYXNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgbWF4bGVuZ3RoOiBbMjAwLCAnQ2FuY2VsbGF0aW9uIHJlYXNvbiBjYW5ub3QgZXhjZWVkIDIwMCBjaGFyYWN0ZXJzJ11cbiAgICB9LFxuXG4gICAgLy8gUmVmdW5kIGluZm9ybWF0aW9uXG4gICAgcmVmdW5kQW1vdW50OiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICBtaW46IFswLCAnUmVmdW5kIGFtb3VudCBjYW5ub3QgYmUgbmVnYXRpdmUnXVxuICAgIH0sXG5cbiAgICByZWZ1bmRlZEF0OiB7XG4gICAgICB0eXBlOiBEYXRlLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlXG4gICAgfVxuICB9LFxuICB7XG4gICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgICB0b0pTT046IHsgdmlydHVhbHM6IHRydWUgfSxcbiAgICB0b09iamVjdDogeyB2aXJ0dWFsczogdHJ1ZSB9XG4gIH1cbik7XG5cbi8vIFZpcnR1YWwgZmllbGQgZm9yIGJvb2tpbmcgZHVyYXRpb24gaW4gZGF5c1xuYm9va2luZ1NjaGVtYS52aXJ0dWFsKCdkdXJhdGlvbicpLmdldChmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuY2hlY2tJbkRhdGUgJiYgdGhpcy5jaGVja091dERhdGUpIHtcbiAgICBjb25zdCB0aW1lRGlmZiA9IHRoaXMuY2hlY2tPdXREYXRlLmdldFRpbWUoKSAtIHRoaXMuY2hlY2tJbkRhdGUuZ2V0VGltZSgpO1xuICAgIHJldHVybiBNYXRoLmNlaWwodGltZURpZmYgLyAoMTAwMCAqIDM2MDAgKiAyNCkpO1xuICB9XG4gIHJldHVybiAwO1xufSk7XG5cbi8vIFZpcnR1YWwgZmllbGQgZm9yIGJvb2tpbmcgcmVmZXJlbmNlIG51bWJlclxuYm9va2luZ1NjaGVtYS52aXJ0dWFsKCdib29raW5nUmVmZXJlbmNlJykuZ2V0KGZ1bmN0aW9uKCkge1xuICByZXR1cm4gYFRSVi0ke3RoaXMuX2lkLnRvU3RyaW5nKCkuc2xpY2UoLTgpLnRvVXBwZXJDYXNlKCl9YDtcbn0pO1xuXG4vLyBQcmUtc2F2ZSBtaWRkbGV3YXJlIHRvIGNhbGN1bGF0ZSB0b3RhbCBuaWdodHMgYW5kIGFtb3VudFxuYm9va2luZ1NjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbihuZXh0KSB7XG4gIGlmICh0aGlzLmNoZWNrSW5EYXRlICYmIHRoaXMuY2hlY2tPdXREYXRlICYmIHRoaXMucHJpY2VQZXJOaWdodCkge1xuICAgIGNvbnN0IHRpbWVEaWZmID0gdGhpcy5jaGVja091dERhdGUuZ2V0VGltZSgpIC0gdGhpcy5jaGVja0luRGF0ZS5nZXRUaW1lKCk7XG4gICAgdGhpcy50b3RhbE5pZ2h0cyA9IE1hdGguY2VpbCh0aW1lRGlmZiAvICgxMDAwICogMzYwMCAqIDI0KSk7XG4gICAgdGhpcy50b3RhbEFtb3VudCA9IHRoaXMudG90YWxOaWdodHMgKiB0aGlzLnByaWNlUGVyTmlnaHQgKiB0aGlzLm51bWJlck9mR3Vlc3RzO1xuICB9XG4gIG5leHQoKTtcbn0pO1xuXG4vLyBJbmRleCBmb3IgYmV0dGVyIHF1ZXJ5IHBlcmZvcm1hbmNlXG5ib29raW5nU2NoZW1hLmluZGV4KHsgdXNlcjogMSwgY3JlYXRlZEF0OiAtMSB9KTtcbmJvb2tpbmdTY2hlbWEuaW5kZXgoeyBkZXN0aW5hdGlvbjogMSwgY2hlY2tJbkRhdGU6IDEsIGNoZWNrT3V0RGF0ZTogMSB9KTtcbmJvb2tpbmdTY2hlbWEuaW5kZXgoeyBzdGF0dXM6IDEgfSk7XG5ib29raW5nU2NoZW1hLmluZGV4KHsgcGF5bWVudFN0YXR1czogMSB9KTtcblxuLy8gU3RhdGljIG1ldGhvZCB0byBjaGVjayBhdmFpbGFiaWxpdHlcbmJvb2tpbmdTY2hlbWEuc3RhdGljcy5jaGVja0F2YWlsYWJpbGl0eSA9IGFzeW5jIGZ1bmN0aW9uKGRlc3RpbmF0aW9uSWQsIGNoZWNrSW5EYXRlLCBjaGVja091dERhdGUpIHtcbiAgY29uc3QgZXhpc3RpbmdCb29raW5ncyA9IGF3YWl0IHRoaXMuZmluZCh7XG4gICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uSWQsXG4gICAgc3RhdHVzOiB7ICRpbjogWydjb25maXJtZWQnLCAnY29tcGxldGVkJ10gfSxcbiAgICAkb3I6IFtcbiAgICAgIHtcbiAgICAgICAgY2hlY2tJbkRhdGU6IHsgJGx0OiBjaGVja091dERhdGUgfSxcbiAgICAgICAgY2hlY2tPdXREYXRlOiB7ICRndDogY2hlY2tJbkRhdGUgfVxuICAgICAgfVxuICAgIF1cbiAgfSk7XG5cbiAgcmV0dXJuIGV4aXN0aW5nQm9va2luZ3MubGVuZ3RoID09PSAwO1xufTtcblxuLy8gSW5zdGFuY2UgbWV0aG9kIHRvIGNhbGN1bGF0ZSByZWZ1bmQgYW1vdW50XG5ib29raW5nU2NoZW1hLm1ldGhvZHMuY2FsY3VsYXRlUmVmdW5kID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLnN0YXR1cyAhPT0gJ2NhbmNlbGxlZCcpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gIGNvbnN0IGRheXNVbnRpbENoZWNrSW4gPSBNYXRoLmNlaWwoKHRoaXMuY2hlY2tJbkRhdGUgLSBub3cpIC8gKDEwMDAgKiAzNjAwICogMjQpKTtcblxuICAvLyBSZWZ1bmQgcG9saWN5OiAxMDAlIGlmIGNhbmNlbGxlZCA3KyBkYXlzIGJlZm9yZSwgNTAlIGlmIDMtNiBkYXlzLCAwJSBpZiBsZXNzIHRoYW4gMyBkYXlzXG4gIGlmIChkYXlzVW50aWxDaGVja0luID49IDcpIHtcbiAgICByZXR1cm4gdGhpcy50b3RhbEFtb3VudDtcbiAgfSBlbHNlIGlmIChkYXlzVW50aWxDaGVja0luID49IDMpIHtcbiAgICByZXR1cm4gdGhpcy50b3RhbEFtb3VudCAqIDAuNTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufTtcblxuY29uc3QgQm9va2luZyA9IG1vbmdvb3NlLm1vZGVsKCdCb29raW5nJywgYm9va2luZ1NjaGVtYSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQm9va2luZzsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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