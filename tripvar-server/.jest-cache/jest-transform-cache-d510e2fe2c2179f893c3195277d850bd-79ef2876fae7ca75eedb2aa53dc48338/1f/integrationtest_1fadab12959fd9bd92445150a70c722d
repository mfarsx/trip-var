a43089592b04ecd494716730558329f1
const request = require('supertest');
const app = require('./app.test');
const {
  setupTestEnvironment,
  cleanupTestEnvironment,
  clearDatabase,
  createTestUser,
  createTestAdmin,
  createTestDestination,
  generateTestToken,
  generateFutureDates,
  expectSuccessResponse,
  expectAuthError
} = require('./setup');
describe('Integration Tests - Complete User Flows', () => {
  let user, admin, destination, userToken, adminToken;
  beforeAll(async () => {
    await setupTestEnvironment();
  });
  afterAll(async () => {
    await cleanupTestEnvironment();
  });
  beforeEach(async () => {
    await clearDatabase();

    // Create test data
    user = await createTestUser();
    admin = await createTestAdmin();
    destination = await createTestDestination();
    userToken = generateTestToken(user);
    adminToken = generateTestToken(admin);
  });
  describe('Complete Booking Flow', () => {
    it('should complete full booking process from search to confirmation', async () => {
      const dates = generateFutureDates();
      // Step 1: Search for destinations
      const searchResponse = await request(app).get('/api/v1/destinations?category=Beach').expect(200);
      expectSuccessResponse(searchResponse, 200);
      expect(searchResponse.body.data.destinations.length).toBeGreaterThan(0);

      // Step 2: Get specific destination details
      const destinationResponse = await request(app).get(`/api/v1/destinations/${destination._id}`).expect(200);
      expectSuccessResponse(destinationResponse, 200);
      expect(destinationResponse.body.data.destination._id).toBe(destination._id.toString());

      // Step 3: Check availability
      const availabilityResponse = await request(app).get(`/api/v1/bookings/availability?destinationId=${destination._id}&checkInDate=${dates.checkInDate}&checkOutDate=${dates.checkOutDate}`).expect(200);
      expectSuccessResponse(availabilityResponse, 200);
      expect(availabilityResponse.body.data.available).toBe(true);

      // Step 4: Create booking
      const bookingData = {
        destinationId: destination._id,
        checkInDate: dates.checkInDate,
        checkOutDate: dates.checkOutDate,
        numberOfGuests: 2,
        paymentMethod: 'credit-card',
        specialRequests: 'Late check-in requested'
      };
      const bookingResponse = await request(app).post('/api/v1/bookings').set('Authorization', `Bearer ${userToken}`).send(bookingData).expect(201);
      expectSuccessResponse(bookingResponse, 201, 'Booking created successfully');
      const bookingId = bookingResponse.body.data.booking._id;

      // Step 5: Get user's bookings
      const userBookingsResponse = await request(app).get('/api/v1/bookings').set('Authorization', `Bearer ${userToken}`).expect(200);
      expectSuccessResponse(userBookingsResponse, 200);
      expect(userBookingsResponse.body.data.bookings.length).toBe(1);
      expect(userBookingsResponse.body.data.bookings[0]._id).toBe(bookingId);

      // Step 6: Get specific booking details
      const bookingDetailsResponse = await request(app).get(`/api/v1/bookings/${bookingId}`).set('Authorization', `Bearer ${userToken}`).expect(200);
      expectSuccessResponse(bookingDetailsResponse, 200);
      expect(bookingDetailsResponse.body.data.booking._id).toBe(bookingId);

      // Step 7: Admin updates booking status
      const statusUpdateResponse = await request(app).patch(`/api/v1/bookings/${bookingId}/status`).set('Authorization', `Bearer ${adminToken}`).send({
        status: 'confirmed'
      }).expect(200);
      expectSuccessResponse(statusUpdateResponse, 200, 'Booking status updated successfully');
      expect(statusUpdateResponse.body.data.booking.status).toBe('confirmed');

      // Step 8: User cancels booking
      const cancelResponse = await request(app).delete(`/api/v1/bookings/${bookingId}`).set('Authorization', `Bearer ${userToken}`).send({
        reason: 'Change of plans'
      }).expect(200);
      expectSuccessResponse(cancelResponse, 200, 'Booking cancelled successfully');
      expect(cancelResponse.body.data.booking.status).toBe('cancelled');
    });
    it('should handle booking conflicts and availability checks', async () => {
      const dates = generateFutureDates();
      // Create first booking
      const bookingData = {
        destinationId: destination._id,
        checkInDate: dates.checkInDate,
        checkOutDate: dates.checkOutDate,
        numberOfGuests: 2,
        paymentMethod: 'credit-card'
      };
      const firstBookingResponse = await request(app).post('/api/v1/bookings').set('Authorization', `Bearer ${userToken}`).send(bookingData).expect(201);
      expectSuccessResponse(firstBookingResponse, 201);

      // Try to create overlapping booking (should fail if availability is properly checked)
      const overlappingBookingData = {
        destinationId: destination._id,
        checkInDate: '2024-06-03',
        // Overlaps with first booking
        checkOutDate: '2024-06-07',
        numberOfGuests: 2,
        paymentMethod: 'credit-card'
      };

      // Note: This test assumes the availability check is implemented
      // If not implemented, this booking would succeed
      const secondBookingResponse = await request(app).post('/api/v1/bookings').set('Authorization', `Bearer ${userToken}`).send(overlappingBookingData);

      // The response could be either success (if availability not checked) or conflict
      // We'll test both scenarios
      if (secondBookingResponse.status === 409) {
        expect(secondBookingResponse.body.status).toBe('fail');
        expect(secondBookingResponse.body.message).toContain('not available');
      } else {
        // If availability check is not implemented, the booking should succeed
        expectSuccessResponse(secondBookingResponse, 201);
      }
    });
  });
  describe('Admin Management Flow', () => {
    it('should complete admin destination management flow', async () => {
      // Step 1: Admin creates new destination
      const newDestinationData = {
        title: 'New Admin Destination',
        description: 'A destination created by admin',
        imageUrl: 'https://example.com/admin-destination.jpg',
        location: 'Admin Test Location',
        category: 'Adventure',
        price: 599.99,
        rating: 4.9,
        amenities: ['WiFi', 'Pool', 'Spa', 'Gym'],
        isActive: true,
        featured: true
      };
      const createResponse = await request(app).post('/api/v1/destinations').set('Authorization', `Bearer ${adminToken}`).send(newDestinationData).expect(201);
      expectSuccessResponse(createResponse, 201, 'Destination created successfully');
      const newDestinationId = createResponse.body.data.destination._id;

      // Step 2: Admin updates destination
      const updateData = {
        title: 'Updated Admin Destination',
        price: 699.99,
        rating: 5.0
      };
      const updateResponse = await request(app).patch(`/api/v1/destinations/${newDestinationId}`).set('Authorization', `Bearer ${adminToken}`).send(updateData).expect(200);
      expectSuccessResponse(updateResponse, 200, 'Destination updated successfully');
      expect(updateResponse.body.data.destination.title).toBe(updateData.title);
      expect(updateResponse.body.data.destination.price).toBe(updateData.price);

      // Step 3: Admin views all bookings
      const allBookingsResponse = await request(app).get('/api/v1/bookings/admin/all').set('Authorization', `Bearer ${adminToken}`).expect(200);
      expectSuccessResponse(allBookingsResponse, 200);
      expect(Array.isArray(allBookingsResponse.body.data.bookings)).toBe(true);

      // Step 4: Admin deletes destination
      const deleteResponse = await request(app).delete(`/api/v1/destinations/${newDestinationId}`).set('Authorization', `Bearer ${adminToken}`).expect(200);
      expectSuccessResponse(deleteResponse, 200, 'Destination deleted successfully');
    });
    it('should prevent regular users from admin operations', async () => {
      // Try to create destination as regular user
      const destinationData = {
        title: 'Unauthorized Destination',
        description: 'Should not be created',
        location: 'Unauthorized Location',
        category: 'Test',
        price: 100
      };
      const createResponse = await request(app).post('/api/v1/destinations').set('Authorization', `Bearer ${userToken}`).send(destinationData).expect(403);
      expect(createResponse.body.status).toBe('fail');
      expect(createResponse.body.message).toContain('Access denied');

      // Try to view all bookings as regular user
      const allBookingsResponse = await request(app).get('/api/v1/bookings/admin/all').set('Authorization', `Bearer ${userToken}`).expect(403);
      expect(allBookingsResponse.body.status).toBe('fail');
      expect(allBookingsResponse.body.message).toContain('Access denied');
    });
  });
  describe('User Authentication Flow', () => {
    it('should handle complete user registration and login flow', async () => {
      // Step 1: Register new user
      const userData = {
        email: 'newuser@example.com',
        password: 'NewPassword123!',
        name: 'New User',
        dateOfBirth: '1990-01-01',
        nationality: 'United States'
      };
      const registerResponse = await request(app).post('/api/v1/auth/register').send(userData).expect(201);
      expectSuccessResponse(registerResponse, 201, 'User registered successfully');
      expect(registerResponse.body.data.user.email).toBe(userData.email);
      expect(registerResponse.body.data.token).toBeDefined();
      const newUserToken = registerResponse.body.data.token;

      // Step 2: Login with new user
      const loginData = {
        email: userData.email,
        password: userData.password
      };
      const loginResponse = await request(app).post('/api/v1/auth/login').send(loginData).expect(200);
      expectSuccessResponse(loginResponse, 200, 'Login successful');
      expect(loginResponse.body.data.user.email).toBe(userData.email);
      expect(loginResponse.body.data.token).toBeDefined();

      // Step 3: Access protected route
      const profileResponse = await request(app).get('/api/v1/auth/profile').set('Authorization', `Bearer ${newUserToken}`).expect(200);
      expectSuccessResponse(profileResponse, 200, 'Profile retrieved successfully');
      expect(profileResponse.body.data.user.email).toBe(userData.email);

      // Step 4: Update profile
      const updateData = {
        name: 'Updated User Name',
        nationality: 'Canada'
      };
      const updateResponse = await request(app).patch('/api/v1/auth/profile').set('Authorization', `Bearer ${newUserToken}`).send(updateData).expect(200);
      expectSuccessResponse(updateResponse, 200, 'Profile updated successfully');
      expect(updateResponse.body.data.user.name).toBe(updateData.name);
      expect(updateResponse.body.data.user.nationality).toBe(updateData.nationality);
    });
    it('should handle authentication errors and token expiration', async () => {
      // Try to access protected route without token
      const noTokenResponse = await request(app).get('/api/v1/auth/profile').expect(401);
      expectAuthError(noTokenResponse, 401);

      // Try to access protected route with invalid token
      const invalidTokenResponse = await request(app).get('/api/v1/auth/profile').set('Authorization', 'Bearer invalid-token').expect(401);
      expectAuthError(invalidTokenResponse, 401);

      // Try to login with wrong credentials
      const wrongCredentialsResponse = await request(app).post('/api/v1/auth/login').send({
        email: 'nonexistent@example.com',
        password: 'wrongpassword'
      }).expect(401);
      expectAuthError(wrongCredentialsResponse, 401);
    });
  });
  describe('Search and Filter Integration', () => {
    beforeEach(async () => {
      // Create multiple destinations for search testing
      await createTestDestination({
        title: 'Tropical Beach Resort',
        description: 'Beautiful tropical beach with palm trees',
        location: 'Bali, Indonesia',
        category: 'Beach',
        featured: true,
        price: 299.99
      });
      await createTestDestination({
        title: 'Mountain Adventure Lodge',
        description: 'High altitude mountain experience with hiking trails',
        location: 'Swiss Alps',
        category: 'Mountain',
        featured: false,
        price: 499.99
      });
      await createTestDestination({
        title: 'Urban City Hotel',
        description: 'Modern city hotel in downtown area',
        location: 'New York City',
        category: 'City',
        featured: true,
        price: 399.99
      });
    });
    it('should handle complex search and filter combinations', async () => {
      // Search with multiple filters
      const complexSearchResponse = await request(app).get('/api/v1/destinations?search=beach&category=Beach&featured=true').expect(200);
      expectSuccessResponse(complexSearchResponse, 200);
      expect(complexSearchResponse.body.data.destinations.length).toBeGreaterThan(0);

      // All results should match the criteria
      complexSearchResponse.body.data.destinations.forEach(dest => {
        expect(dest.category).toBe('Beach');
        expect(dest.featured).toBe(true);
        expect(dest.title.toLowerCase().includes('beach') || dest.description.toLowerCase().includes('beach') || dest.location.toLowerCase().includes('beach')).toBe(true);
      });

      // Test price range filtering (if implemented)
      const priceFilterResponse = await request(app).get('/api/v1/destinations?minPrice=300&maxPrice=500').expect(200);
      expectSuccessResponse(priceFilterResponse, 200);
      // Note: This test assumes price filtering is implemented
      // If not implemented, it will return all destinations
    });
    it('should handle search with no results gracefully', async () => {
      const noResultsResponse = await request(app).get('/api/v1/destinations?search=nonexistentdestination').expect(200);
      expectSuccessResponse(noResultsResponse, 200);
      expect(noResultsResponse.body.data.destinations).toHaveLength(0);
    });
  });
  describe('Error Handling and Edge Cases', () => {
    it('should handle malformed requests gracefully', async () => {
      // Test with invalid JSON
      const malformedResponse = await request(app).post('/api/v1/bookings').set('Authorization', `Bearer ${userToken}`).set('Content-Type', 'application/json').send('invalid json').expect(400);
      expect(malformedResponse.body.status).toBe('fail');

      // Test with missing required fields
      const missingFieldsResponse = await request(app).post('/api/v1/bookings').set('Authorization', `Bearer ${userToken}`).send({}).expect(400);
      expect(missingFieldsResponse.body.status).toBe('fail');
    });
    it('should handle concurrent requests properly', async () => {
      const dates = generateFutureDates();
      const bookingData = {
        destinationId: destination._id,
        checkInDate: dates.checkInDate,
        checkOutDate: dates.checkOutDate,
        numberOfGuests: 2,
        paymentMethod: 'credit-card'
      };

      // Make multiple concurrent booking requests
      const promises = Array(3).fill().map(() => request(app).post('/api/v1/bookings').set('Authorization', `Bearer ${userToken}`).send(bookingData));
      const responses = await Promise.allSettled(promises);

      // At least one should succeed
      const successfulResponses = responses.filter(response => response.status === 'fulfilled' && response.value.status === 201);
      expect(successfulResponses.length).toBeGreaterThan(0);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImFwcCIsInNldHVwVGVzdEVudmlyb25tZW50IiwiY2xlYW51cFRlc3RFbnZpcm9ubWVudCIsImNsZWFyRGF0YWJhc2UiLCJjcmVhdGVUZXN0VXNlciIsImNyZWF0ZVRlc3RBZG1pbiIsImNyZWF0ZVRlc3REZXN0aW5hdGlvbiIsImdlbmVyYXRlVGVzdFRva2VuIiwiZ2VuZXJhdGVGdXR1cmVEYXRlcyIsImV4cGVjdFN1Y2Nlc3NSZXNwb25zZSIsImV4cGVjdEF1dGhFcnJvciIsImRlc2NyaWJlIiwidXNlciIsImFkbWluIiwiZGVzdGluYXRpb24iLCJ1c2VyVG9rZW4iLCJhZG1pblRva2VuIiwiYmVmb3JlQWxsIiwiYWZ0ZXJBbGwiLCJiZWZvcmVFYWNoIiwiaXQiLCJkYXRlcyIsInNlYXJjaFJlc3BvbnNlIiwiZ2V0IiwiZXhwZWN0IiwiYm9keSIsImRhdGEiLCJkZXN0aW5hdGlvbnMiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJkZXN0aW5hdGlvblJlc3BvbnNlIiwiX2lkIiwidG9CZSIsInRvU3RyaW5nIiwiYXZhaWxhYmlsaXR5UmVzcG9uc2UiLCJjaGVja0luRGF0ZSIsImNoZWNrT3V0RGF0ZSIsImF2YWlsYWJsZSIsImJvb2tpbmdEYXRhIiwiZGVzdGluYXRpb25JZCIsIm51bWJlck9mR3Vlc3RzIiwicGF5bWVudE1ldGhvZCIsInNwZWNpYWxSZXF1ZXN0cyIsImJvb2tpbmdSZXNwb25zZSIsInBvc3QiLCJzZXQiLCJzZW5kIiwiYm9va2luZ0lkIiwiYm9va2luZyIsInVzZXJCb29raW5nc1Jlc3BvbnNlIiwiYm9va2luZ3MiLCJib29raW5nRGV0YWlsc1Jlc3BvbnNlIiwic3RhdHVzVXBkYXRlUmVzcG9uc2UiLCJwYXRjaCIsInN0YXR1cyIsImNhbmNlbFJlc3BvbnNlIiwiZGVsZXRlIiwicmVhc29uIiwiZmlyc3RCb29raW5nUmVzcG9uc2UiLCJvdmVybGFwcGluZ0Jvb2tpbmdEYXRhIiwic2Vjb25kQm9va2luZ1Jlc3BvbnNlIiwibWVzc2FnZSIsInRvQ29udGFpbiIsIm5ld0Rlc3RpbmF0aW9uRGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJpbWFnZVVybCIsImxvY2F0aW9uIiwiY2F0ZWdvcnkiLCJwcmljZSIsInJhdGluZyIsImFtZW5pdGllcyIsImlzQWN0aXZlIiwiZmVhdHVyZWQiLCJjcmVhdGVSZXNwb25zZSIsIm5ld0Rlc3RpbmF0aW9uSWQiLCJ1cGRhdGVEYXRhIiwidXBkYXRlUmVzcG9uc2UiLCJhbGxCb29raW5nc1Jlc3BvbnNlIiwiQXJyYXkiLCJpc0FycmF5IiwiZGVsZXRlUmVzcG9uc2UiLCJkZXN0aW5hdGlvbkRhdGEiLCJ1c2VyRGF0YSIsImVtYWlsIiwicGFzc3dvcmQiLCJuYW1lIiwiZGF0ZU9mQmlydGgiLCJuYXRpb25hbGl0eSIsInJlZ2lzdGVyUmVzcG9uc2UiLCJ0b2tlbiIsInRvQmVEZWZpbmVkIiwibmV3VXNlclRva2VuIiwibG9naW5EYXRhIiwibG9naW5SZXNwb25zZSIsInByb2ZpbGVSZXNwb25zZSIsIm5vVG9rZW5SZXNwb25zZSIsImludmFsaWRUb2tlblJlc3BvbnNlIiwid3JvbmdDcmVkZW50aWFsc1Jlc3BvbnNlIiwiY29tcGxleFNlYXJjaFJlc3BvbnNlIiwiZm9yRWFjaCIsImRlc3QiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwicHJpY2VGaWx0ZXJSZXNwb25zZSIsIm5vUmVzdWx0c1Jlc3BvbnNlIiwidG9IYXZlTGVuZ3RoIiwibWFsZm9ybWVkUmVzcG9uc2UiLCJtaXNzaW5nRmllbGRzUmVzcG9uc2UiLCJwcm9taXNlcyIsImZpbGwiLCJtYXAiLCJyZXNwb25zZXMiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsInN1Y2Nlc3NmdWxSZXNwb25zZXMiLCJmaWx0ZXIiLCJyZXNwb25zZSIsInZhbHVlIl0sInNvdXJjZXMiOlsiaW50ZWdyYXRpb24udGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnc3VwZXJ0ZXN0Jyk7XG5jb25zdCBhcHAgPSByZXF1aXJlKCcuL2FwcC50ZXN0Jyk7XG5jb25zdCB7XG4gIHNldHVwVGVzdEVudmlyb25tZW50LFxuICBjbGVhbnVwVGVzdEVudmlyb25tZW50LFxuICBjbGVhckRhdGFiYXNlLFxuICBjcmVhdGVUZXN0VXNlcixcbiAgY3JlYXRlVGVzdEFkbWluLFxuICBjcmVhdGVUZXN0RGVzdGluYXRpb24sXG4gIGdlbmVyYXRlVGVzdFRva2VuLFxuICBnZW5lcmF0ZUZ1dHVyZURhdGVzLFxuICBleHBlY3RTdWNjZXNzUmVzcG9uc2UsXG4gIGV4cGVjdEF1dGhFcnJvclxufSA9IHJlcXVpcmUoJy4vc2V0dXAnKTtcblxuZGVzY3JpYmUoJ0ludGVncmF0aW9uIFRlc3RzIC0gQ29tcGxldGUgVXNlciBGbG93cycsICgpID0+IHtcbiAgbGV0IHVzZXIsIGFkbWluLCBkZXN0aW5hdGlvbiwgdXNlclRva2VuLCBhZG1pblRva2VuO1xuXG4gIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgc2V0dXBUZXN0RW52aXJvbm1lbnQoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJBbGwoYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGNsZWFudXBUZXN0RW52aXJvbm1lbnQoKTtcbiAgfSk7XG5cbiAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgY2xlYXJEYXRhYmFzZSgpO1xuICAgIFxuICAgIC8vIENyZWF0ZSB0ZXN0IGRhdGFcbiAgICB1c2VyID0gYXdhaXQgY3JlYXRlVGVzdFVzZXIoKTtcbiAgICBhZG1pbiA9IGF3YWl0IGNyZWF0ZVRlc3RBZG1pbigpO1xuICAgIGRlc3RpbmF0aW9uID0gYXdhaXQgY3JlYXRlVGVzdERlc3RpbmF0aW9uKCk7XG4gICAgdXNlclRva2VuID0gZ2VuZXJhdGVUZXN0VG9rZW4odXNlcik7XG4gICAgYWRtaW5Ub2tlbiA9IGdlbmVyYXRlVGVzdFRva2VuKGFkbWluKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbXBsZXRlIEJvb2tpbmcgRmxvdycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbXBsZXRlIGZ1bGwgYm9va2luZyBwcm9jZXNzIGZyb20gc2VhcmNoIHRvIGNvbmZpcm1hdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGRhdGVzID0gZ2VuZXJhdGVGdXR1cmVEYXRlcygpO1xuICAgICAgLy8gU3RlcCAxOiBTZWFyY2ggZm9yIGRlc3RpbmF0aW9uc1xuICAgICAgY29uc3Qgc2VhcmNoUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS9kZXN0aW5hdGlvbnM/Y2F0ZWdvcnk9QmVhY2gnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGV4cGVjdFN1Y2Nlc3NSZXNwb25zZShzZWFyY2hSZXNwb25zZSwgMjAwKTtcbiAgICAgIGV4cGVjdChzZWFyY2hSZXNwb25zZS5ib2R5LmRhdGEuZGVzdGluYXRpb25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuXG4gICAgICAvLyBTdGVwIDI6IEdldCBzcGVjaWZpYyBkZXN0aW5hdGlvbiBkZXRhaWxzXG4gICAgICBjb25zdCBkZXN0aW5hdGlvblJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoYC9hcGkvdjEvZGVzdGluYXRpb25zLyR7ZGVzdGluYXRpb24uX2lkfWApXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlKGRlc3RpbmF0aW9uUmVzcG9uc2UsIDIwMCk7XG4gICAgICBleHBlY3QoZGVzdGluYXRpb25SZXNwb25zZS5ib2R5LmRhdGEuZGVzdGluYXRpb24uX2lkKS50b0JlKGRlc3RpbmF0aW9uLl9pZC50b1N0cmluZygpKTtcblxuICAgICAgLy8gU3RlcCAzOiBDaGVjayBhdmFpbGFiaWxpdHlcbiAgICAgIGNvbnN0IGF2YWlsYWJpbGl0eVJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoYC9hcGkvdjEvYm9va2luZ3MvYXZhaWxhYmlsaXR5P2Rlc3RpbmF0aW9uSWQ9JHtkZXN0aW5hdGlvbi5faWR9JmNoZWNrSW5EYXRlPSR7ZGF0ZXMuY2hlY2tJbkRhdGV9JmNoZWNrT3V0RGF0ZT0ke2RhdGVzLmNoZWNrT3V0RGF0ZX1gKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGV4cGVjdFN1Y2Nlc3NSZXNwb25zZShhdmFpbGFiaWxpdHlSZXNwb25zZSwgMjAwKTtcbiAgICAgIGV4cGVjdChhdmFpbGFiaWxpdHlSZXNwb25zZS5ib2R5LmRhdGEuYXZhaWxhYmxlKS50b0JlKHRydWUpO1xuXG4gICAgICAvLyBTdGVwIDQ6IENyZWF0ZSBib29raW5nXG4gICAgICBjb25zdCBib29raW5nRGF0YSA9IHtcbiAgICAgICAgZGVzdGluYXRpb25JZDogZGVzdGluYXRpb24uX2lkLFxuICAgICAgICBjaGVja0luRGF0ZTogZGF0ZXMuY2hlY2tJbkRhdGUsXG4gICAgICAgIGNoZWNrT3V0RGF0ZTogZGF0ZXMuY2hlY2tPdXREYXRlLFxuICAgICAgICBudW1iZXJPZkd1ZXN0czogMixcbiAgICAgICAgcGF5bWVudE1ldGhvZDogJ2NyZWRpdC1jYXJkJyxcbiAgICAgICAgc3BlY2lhbFJlcXVlc3RzOiAnTGF0ZSBjaGVjay1pbiByZXF1ZXN0ZWQnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBib29raW5nUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvdjEvYm9va2luZ3MnKVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3VzZXJUb2tlbn1gKVxuICAgICAgICAuc2VuZChib29raW5nRGF0YSlcbiAgICAgICAgLmV4cGVjdCgyMDEpO1xuXG4gICAgICBleHBlY3RTdWNjZXNzUmVzcG9uc2UoYm9va2luZ1Jlc3BvbnNlLCAyMDEsICdCb29raW5nIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICBjb25zdCBib29raW5nSWQgPSBib29raW5nUmVzcG9uc2UuYm9keS5kYXRhLmJvb2tpbmcuX2lkO1xuXG4gICAgICAvLyBTdGVwIDU6IEdldCB1c2VyJ3MgYm9va2luZ3NcbiAgICAgIGNvbnN0IHVzZXJCb29raW5nc1Jlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvdjEvYm9va2luZ3MnKVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3VzZXJUb2tlbn1gKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGV4cGVjdFN1Y2Nlc3NSZXNwb25zZSh1c2VyQm9va2luZ3NSZXNwb25zZSwgMjAwKTtcbiAgICAgIGV4cGVjdCh1c2VyQm9va2luZ3NSZXNwb25zZS5ib2R5LmRhdGEuYm9va2luZ3MubGVuZ3RoKS50b0JlKDEpO1xuICAgICAgZXhwZWN0KHVzZXJCb29raW5nc1Jlc3BvbnNlLmJvZHkuZGF0YS5ib29raW5nc1swXS5faWQpLnRvQmUoYm9va2luZ0lkKTtcblxuICAgICAgLy8gU3RlcCA2OiBHZXQgc3BlY2lmaWMgYm9va2luZyBkZXRhaWxzXG4gICAgICBjb25zdCBib29raW5nRGV0YWlsc1Jlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoYC9hcGkvdjEvYm9va2luZ3MvJHtib29raW5nSWR9YClcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt1c2VyVG9rZW59YClcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBleHBlY3RTdWNjZXNzUmVzcG9uc2UoYm9va2luZ0RldGFpbHNSZXNwb25zZSwgMjAwKTtcbiAgICAgIGV4cGVjdChib29raW5nRGV0YWlsc1Jlc3BvbnNlLmJvZHkuZGF0YS5ib29raW5nLl9pZCkudG9CZShib29raW5nSWQpO1xuXG4gICAgICAvLyBTdGVwIDc6IEFkbWluIHVwZGF0ZXMgYm9va2luZyBzdGF0dXNcbiAgICAgIGNvbnN0IHN0YXR1c1VwZGF0ZVJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wYXRjaChgL2FwaS92MS9ib29raW5ncy8ke2Jvb2tpbmdJZH0vc3RhdHVzYClcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHthZG1pblRva2VufWApXG4gICAgICAgIC5zZW5kKHsgc3RhdHVzOiAnY29uZmlybWVkJyB9KVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGV4cGVjdFN1Y2Nlc3NSZXNwb25zZShzdGF0dXNVcGRhdGVSZXNwb25zZSwgMjAwLCAnQm9va2luZyBzdGF0dXMgdXBkYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIGV4cGVjdChzdGF0dXNVcGRhdGVSZXNwb25zZS5ib2R5LmRhdGEuYm9va2luZy5zdGF0dXMpLnRvQmUoJ2NvbmZpcm1lZCcpO1xuXG4gICAgICAvLyBTdGVwIDg6IFVzZXIgY2FuY2VscyBib29raW5nXG4gICAgICBjb25zdCBjYW5jZWxSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZGVsZXRlKGAvYXBpL3YxL2Jvb2tpbmdzLyR7Ym9va2luZ0lkfWApXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dXNlclRva2VufWApXG4gICAgICAgIC5zZW5kKHsgcmVhc29uOiAnQ2hhbmdlIG9mIHBsYW5zJyB9KVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGV4cGVjdFN1Y2Nlc3NSZXNwb25zZShjYW5jZWxSZXNwb25zZSwgMjAwLCAnQm9va2luZyBjYW5jZWxsZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICBleHBlY3QoY2FuY2VsUmVzcG9uc2UuYm9keS5kYXRhLmJvb2tpbmcuc3RhdHVzKS50b0JlKCdjYW5jZWxsZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGJvb2tpbmcgY29uZmxpY3RzIGFuZCBhdmFpbGFiaWxpdHkgY2hlY2tzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGF0ZXMgPSBnZW5lcmF0ZUZ1dHVyZURhdGVzKCk7XG4gICAgICAvLyBDcmVhdGUgZmlyc3QgYm9va2luZ1xuICAgICAgY29uc3QgYm9va2luZ0RhdGEgPSB7XG4gICAgICAgIGRlc3RpbmF0aW9uSWQ6IGRlc3RpbmF0aW9uLl9pZCxcbiAgICAgICAgY2hlY2tJbkRhdGU6IGRhdGVzLmNoZWNrSW5EYXRlLFxuICAgICAgICBjaGVja091dERhdGU6IGRhdGVzLmNoZWNrT3V0RGF0ZSxcbiAgICAgICAgbnVtYmVyT2ZHdWVzdHM6IDIsXG4gICAgICAgIHBheW1lbnRNZXRob2Q6ICdjcmVkaXQtY2FyZCdcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGZpcnN0Qm9va2luZ1Jlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3YxL2Jvb2tpbmdzJylcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt1c2VyVG9rZW59YClcbiAgICAgICAgLnNlbmQoYm9va2luZ0RhdGEpXG4gICAgICAgIC5leHBlY3QoMjAxKTtcblxuICAgICAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlKGZpcnN0Qm9va2luZ1Jlc3BvbnNlLCAyMDEpO1xuXG4gICAgICAvLyBUcnkgdG8gY3JlYXRlIG92ZXJsYXBwaW5nIGJvb2tpbmcgKHNob3VsZCBmYWlsIGlmIGF2YWlsYWJpbGl0eSBpcyBwcm9wZXJseSBjaGVja2VkKVxuICAgICAgY29uc3Qgb3ZlcmxhcHBpbmdCb29raW5nRGF0YSA9IHtcbiAgICAgICAgZGVzdGluYXRpb25JZDogZGVzdGluYXRpb24uX2lkLFxuICAgICAgICBjaGVja0luRGF0ZTogJzIwMjQtMDYtMDMnLCAvLyBPdmVybGFwcyB3aXRoIGZpcnN0IGJvb2tpbmdcbiAgICAgICAgY2hlY2tPdXREYXRlOiAnMjAyNC0wNi0wNycsXG4gICAgICAgIG51bWJlck9mR3Vlc3RzOiAyLFxuICAgICAgICBwYXltZW50TWV0aG9kOiAnY3JlZGl0LWNhcmQnXG4gICAgICB9O1xuXG4gICAgICAvLyBOb3RlOiBUaGlzIHRlc3QgYXNzdW1lcyB0aGUgYXZhaWxhYmlsaXR5IGNoZWNrIGlzIGltcGxlbWVudGVkXG4gICAgICAvLyBJZiBub3QgaW1wbGVtZW50ZWQsIHRoaXMgYm9va2luZyB3b3VsZCBzdWNjZWVkXG4gICAgICBjb25zdCBzZWNvbmRCb29raW5nUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvdjEvYm9va2luZ3MnKVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3VzZXJUb2tlbn1gKVxuICAgICAgICAuc2VuZChvdmVybGFwcGluZ0Jvb2tpbmdEYXRhKTtcblxuICAgICAgLy8gVGhlIHJlc3BvbnNlIGNvdWxkIGJlIGVpdGhlciBzdWNjZXNzIChpZiBhdmFpbGFiaWxpdHkgbm90IGNoZWNrZWQpIG9yIGNvbmZsaWN0XG4gICAgICAvLyBXZSdsbCB0ZXN0IGJvdGggc2NlbmFyaW9zXG4gICAgICBpZiAoc2Vjb25kQm9va2luZ1Jlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgIGV4cGVjdChzZWNvbmRCb29raW5nUmVzcG9uc2UuYm9keS5zdGF0dXMpLnRvQmUoJ2ZhaWwnKTtcbiAgICAgICAgZXhwZWN0KHNlY29uZEJvb2tpbmdSZXNwb25zZS5ib2R5Lm1lc3NhZ2UpLnRvQ29udGFpbignbm90IGF2YWlsYWJsZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgYXZhaWxhYmlsaXR5IGNoZWNrIGlzIG5vdCBpbXBsZW1lbnRlZCwgdGhlIGJvb2tpbmcgc2hvdWxkIHN1Y2NlZWRcbiAgICAgICAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlKHNlY29uZEJvb2tpbmdSZXNwb25zZSwgMjAxKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0FkbWluIE1hbmFnZW1lbnQgRmxvdycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbXBsZXRlIGFkbWluIGRlc3RpbmF0aW9uIG1hbmFnZW1lbnQgZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFN0ZXAgMTogQWRtaW4gY3JlYXRlcyBuZXcgZGVzdGluYXRpb25cbiAgICAgIGNvbnN0IG5ld0Rlc3RpbmF0aW9uRGF0YSA9IHtcbiAgICAgICAgdGl0bGU6ICdOZXcgQWRtaW4gRGVzdGluYXRpb24nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0EgZGVzdGluYXRpb24gY3JlYXRlZCBieSBhZG1pbicsXG4gICAgICAgIGltYWdlVXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9hZG1pbi1kZXN0aW5hdGlvbi5qcGcnLFxuICAgICAgICBsb2NhdGlvbjogJ0FkbWluIFRlc3QgTG9jYXRpb24nLFxuICAgICAgICBjYXRlZ29yeTogJ0FkdmVudHVyZScsXG4gICAgICAgIHByaWNlOiA1OTkuOTksXG4gICAgICAgIHJhdGluZzogNC45LFxuICAgICAgICBhbWVuaXRpZXM6IFsnV2lGaScsICdQb29sJywgJ1NwYScsICdHeW0nXSxcbiAgICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICAgIGZlYXR1cmVkOiB0cnVlXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjcmVhdGVSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS92MS9kZXN0aW5hdGlvbnMnKVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke2FkbWluVG9rZW59YClcbiAgICAgICAgLnNlbmQobmV3RGVzdGluYXRpb25EYXRhKVxuICAgICAgICAuZXhwZWN0KDIwMSk7XG5cbiAgICAgIGV4cGVjdFN1Y2Nlc3NSZXNwb25zZShjcmVhdGVSZXNwb25zZSwgMjAxLCAnRGVzdGluYXRpb24gY3JlYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIGNvbnN0IG5ld0Rlc3RpbmF0aW9uSWQgPSBjcmVhdGVSZXNwb25zZS5ib2R5LmRhdGEuZGVzdGluYXRpb24uX2lkO1xuXG4gICAgICAvLyBTdGVwIDI6IEFkbWluIHVwZGF0ZXMgZGVzdGluYXRpb25cbiAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XG4gICAgICAgIHRpdGxlOiAnVXBkYXRlZCBBZG1pbiBEZXN0aW5hdGlvbicsXG4gICAgICAgIHByaWNlOiA2OTkuOTksXG4gICAgICAgIHJhdGluZzogNS4wXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1cGRhdGVSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucGF0Y2goYC9hcGkvdjEvZGVzdGluYXRpb25zLyR7bmV3RGVzdGluYXRpb25JZH1gKVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke2FkbWluVG9rZW59YClcbiAgICAgICAgLnNlbmQodXBkYXRlRGF0YSlcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBleHBlY3RTdWNjZXNzUmVzcG9uc2UodXBkYXRlUmVzcG9uc2UsIDIwMCwgJ0Rlc3RpbmF0aW9uIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICBleHBlY3QodXBkYXRlUmVzcG9uc2UuYm9keS5kYXRhLmRlc3RpbmF0aW9uLnRpdGxlKS50b0JlKHVwZGF0ZURhdGEudGl0bGUpO1xuICAgICAgZXhwZWN0KHVwZGF0ZVJlc3BvbnNlLmJvZHkuZGF0YS5kZXN0aW5hdGlvbi5wcmljZSkudG9CZSh1cGRhdGVEYXRhLnByaWNlKTtcblxuICAgICAgLy8gU3RlcCAzOiBBZG1pbiB2aWV3cyBhbGwgYm9va2luZ3NcbiAgICAgIGNvbnN0IGFsbEJvb2tpbmdzUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS9ib29raW5ncy9hZG1pbi9hbGwnKVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke2FkbWluVG9rZW59YClcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBleHBlY3RTdWNjZXNzUmVzcG9uc2UoYWxsQm9va2luZ3NSZXNwb25zZSwgMjAwKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KGFsbEJvb2tpbmdzUmVzcG9uc2UuYm9keS5kYXRhLmJvb2tpbmdzKSkudG9CZSh0cnVlKTtcblxuICAgICAgLy8gU3RlcCA0OiBBZG1pbiBkZWxldGVzIGRlc3RpbmF0aW9uXG4gICAgICBjb25zdCBkZWxldGVSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZGVsZXRlKGAvYXBpL3YxL2Rlc3RpbmF0aW9ucy8ke25ld0Rlc3RpbmF0aW9uSWR9YClcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHthZG1pblRva2VufWApXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlKGRlbGV0ZVJlc3BvbnNlLCAyMDAsICdEZXN0aW5hdGlvbiBkZWxldGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcmV2ZW50IHJlZ3VsYXIgdXNlcnMgZnJvbSBhZG1pbiBvcGVyYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gVHJ5IHRvIGNyZWF0ZSBkZXN0aW5hdGlvbiBhcyByZWd1bGFyIHVzZXJcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uRGF0YSA9IHtcbiAgICAgICAgdGl0bGU6ICdVbmF1dGhvcml6ZWQgRGVzdGluYXRpb24nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Nob3VsZCBub3QgYmUgY3JlYXRlZCcsXG4gICAgICAgIGxvY2F0aW9uOiAnVW5hdXRob3JpemVkIExvY2F0aW9uJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdUZXN0JyxcbiAgICAgICAgcHJpY2U6IDEwMFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY3JlYXRlUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvdjEvZGVzdGluYXRpb25zJylcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt1c2VyVG9rZW59YClcbiAgICAgICAgLnNlbmQoZGVzdGluYXRpb25EYXRhKVxuICAgICAgICAuZXhwZWN0KDQwMyk7XG5cbiAgICAgIGV4cGVjdChjcmVhdGVSZXNwb25zZS5ib2R5LnN0YXR1cykudG9CZSgnZmFpbCcpO1xuICAgICAgZXhwZWN0KGNyZWF0ZVJlc3BvbnNlLmJvZHkubWVzc2FnZSkudG9Db250YWluKCdBY2Nlc3MgZGVuaWVkJyk7XG5cbiAgICAgIC8vIFRyeSB0byB2aWV3IGFsbCBib29raW5ncyBhcyByZWd1bGFyIHVzZXJcbiAgICAgIGNvbnN0IGFsbEJvb2tpbmdzUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS9ib29raW5ncy9hZG1pbi9hbGwnKVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3VzZXJUb2tlbn1gKVxuICAgICAgICAuZXhwZWN0KDQwMyk7XG5cbiAgICAgIGV4cGVjdChhbGxCb29raW5nc1Jlc3BvbnNlLmJvZHkuc3RhdHVzKS50b0JlKCdmYWlsJyk7XG4gICAgICBleHBlY3QoYWxsQm9va2luZ3NSZXNwb25zZS5ib2R5Lm1lc3NhZ2UpLnRvQ29udGFpbignQWNjZXNzIGRlbmllZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVXNlciBBdXRoZW50aWNhdGlvbiBGbG93JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbXBsZXRlIHVzZXIgcmVnaXN0cmF0aW9uIGFuZCBsb2dpbiBmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gU3RlcCAxOiBSZWdpc3RlciBuZXcgdXNlclxuICAgICAgY29uc3QgdXNlckRhdGEgPSB7XG4gICAgICAgIGVtYWlsOiAnbmV3dXNlckBleGFtcGxlLmNvbScsXG4gICAgICAgIHBhc3N3b3JkOiAnTmV3UGFzc3dvcmQxMjMhJyxcbiAgICAgICAgbmFtZTogJ05ldyBVc2VyJyxcbiAgICAgICAgZGF0ZU9mQmlydGg6ICcxOTkwLTAxLTAxJyxcbiAgICAgICAgbmF0aW9uYWxpdHk6ICdVbml0ZWQgU3RhdGVzJ1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVnaXN0ZXJSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS92MS9hdXRoL3JlZ2lzdGVyJylcbiAgICAgICAgLnNlbmQodXNlckRhdGEpXG4gICAgICAgIC5leHBlY3QoMjAxKTtcblxuICAgICAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlKHJlZ2lzdGVyUmVzcG9uc2UsIDIwMSwgJ1VzZXIgcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIGV4cGVjdChyZWdpc3RlclJlc3BvbnNlLmJvZHkuZGF0YS51c2VyLmVtYWlsKS50b0JlKHVzZXJEYXRhLmVtYWlsKTtcbiAgICAgIGV4cGVjdChyZWdpc3RlclJlc3BvbnNlLmJvZHkuZGF0YS50b2tlbikudG9CZURlZmluZWQoKTtcblxuICAgICAgY29uc3QgbmV3VXNlclRva2VuID0gcmVnaXN0ZXJSZXNwb25zZS5ib2R5LmRhdGEudG9rZW47XG5cbiAgICAgIC8vIFN0ZXAgMjogTG9naW4gd2l0aCBuZXcgdXNlclxuICAgICAgY29uc3QgbG9naW5EYXRhID0ge1xuICAgICAgICBlbWFpbDogdXNlckRhdGEuZW1haWwsXG4gICAgICAgIHBhc3N3b3JkOiB1c2VyRGF0YS5wYXNzd29yZFxuICAgICAgfTtcblxuICAgICAgY29uc3QgbG9naW5SZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS92MS9hdXRoL2xvZ2luJylcbiAgICAgICAgLnNlbmQobG9naW5EYXRhKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGV4cGVjdFN1Y2Nlc3NSZXNwb25zZShsb2dpblJlc3BvbnNlLCAyMDAsICdMb2dpbiBzdWNjZXNzZnVsJyk7XG4gICAgICBleHBlY3QobG9naW5SZXNwb25zZS5ib2R5LmRhdGEudXNlci5lbWFpbCkudG9CZSh1c2VyRGF0YS5lbWFpbCk7XG4gICAgICBleHBlY3QobG9naW5SZXNwb25zZS5ib2R5LmRhdGEudG9rZW4pLnRvQmVEZWZpbmVkKCk7XG5cbiAgICAgIC8vIFN0ZXAgMzogQWNjZXNzIHByb3RlY3RlZCByb3V0ZVxuICAgICAgY29uc3QgcHJvZmlsZVJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvdjEvYXV0aC9wcm9maWxlJylcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHtuZXdVc2VyVG9rZW59YClcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBleHBlY3RTdWNjZXNzUmVzcG9uc2UocHJvZmlsZVJlc3BvbnNlLCAyMDAsICdQcm9maWxlIHJldHJpZXZlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIGV4cGVjdChwcm9maWxlUmVzcG9uc2UuYm9keS5kYXRhLnVzZXIuZW1haWwpLnRvQmUodXNlckRhdGEuZW1haWwpO1xuXG4gICAgICAvLyBTdGVwIDQ6IFVwZGF0ZSBwcm9maWxlXG4gICAgICBjb25zdCB1cGRhdGVEYXRhID0ge1xuICAgICAgICBuYW1lOiAnVXBkYXRlZCBVc2VyIE5hbWUnLFxuICAgICAgICBuYXRpb25hbGl0eTogJ0NhbmFkYSdcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVwZGF0ZVJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wYXRjaCgnL2FwaS92MS9hdXRoL3Byb2ZpbGUnKVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke25ld1VzZXJUb2tlbn1gKVxuICAgICAgICAuc2VuZCh1cGRhdGVEYXRhKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGV4cGVjdFN1Y2Nlc3NSZXNwb25zZSh1cGRhdGVSZXNwb25zZSwgMjAwLCAnUHJvZmlsZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgZXhwZWN0KHVwZGF0ZVJlc3BvbnNlLmJvZHkuZGF0YS51c2VyLm5hbWUpLnRvQmUodXBkYXRlRGF0YS5uYW1lKTtcbiAgICAgIGV4cGVjdCh1cGRhdGVSZXNwb25zZS5ib2R5LmRhdGEudXNlci5uYXRpb25hbGl0eSkudG9CZSh1cGRhdGVEYXRhLm5hdGlvbmFsaXR5KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGF1dGhlbnRpY2F0aW9uIGVycm9ycyBhbmQgdG9rZW4gZXhwaXJhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFRyeSB0byBhY2Nlc3MgcHJvdGVjdGVkIHJvdXRlIHdpdGhvdXQgdG9rZW5cbiAgICAgIGNvbnN0IG5vVG9rZW5SZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3YxL2F1dGgvcHJvZmlsZScpXG4gICAgICAgIC5leHBlY3QoNDAxKTtcblxuICAgICAgZXhwZWN0QXV0aEVycm9yKG5vVG9rZW5SZXNwb25zZSwgNDAxKTtcblxuICAgICAgLy8gVHJ5IHRvIGFjY2VzcyBwcm90ZWN0ZWQgcm91dGUgd2l0aCBpbnZhbGlkIHRva2VuXG4gICAgICBjb25zdCBpbnZhbGlkVG9rZW5SZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3YxL2F1dGgvcHJvZmlsZScpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyIGludmFsaWQtdG9rZW4nKVxuICAgICAgICAuZXhwZWN0KDQwMSk7XG5cbiAgICAgIGV4cGVjdEF1dGhFcnJvcihpbnZhbGlkVG9rZW5SZXNwb25zZSwgNDAxKTtcblxuICAgICAgLy8gVHJ5IHRvIGxvZ2luIHdpdGggd3JvbmcgY3JlZGVudGlhbHNcbiAgICAgIGNvbnN0IHdyb25nQ3JlZGVudGlhbHNSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS92MS9hdXRoL2xvZ2luJylcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIGVtYWlsOiAnbm9uZXhpc3RlbnRAZXhhbXBsZS5jb20nLFxuICAgICAgICAgIHBhc3N3b3JkOiAnd3JvbmdwYXNzd29yZCdcbiAgICAgICAgfSlcbiAgICAgICAgLmV4cGVjdCg0MDEpO1xuXG4gICAgICBleHBlY3RBdXRoRXJyb3Iod3JvbmdDcmVkZW50aWFsc1Jlc3BvbnNlLCA0MDEpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2VhcmNoIGFuZCBGaWx0ZXIgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgbXVsdGlwbGUgZGVzdGluYXRpb25zIGZvciBzZWFyY2ggdGVzdGluZ1xuICAgICAgYXdhaXQgY3JlYXRlVGVzdERlc3RpbmF0aW9uKHtcbiAgICAgICAgdGl0bGU6ICdUcm9waWNhbCBCZWFjaCBSZXNvcnQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0JlYXV0aWZ1bCB0cm9waWNhbCBiZWFjaCB3aXRoIHBhbG0gdHJlZXMnLFxuICAgICAgICBsb2NhdGlvbjogJ0JhbGksIEluZG9uZXNpYScsXG4gICAgICAgIGNhdGVnb3J5OiAnQmVhY2gnLFxuICAgICAgICBmZWF0dXJlZDogdHJ1ZSxcbiAgICAgICAgcHJpY2U6IDI5OS45OVxuICAgICAgfSk7XG4gICAgICBhd2FpdCBjcmVhdGVUZXN0RGVzdGluYXRpb24oe1xuICAgICAgICB0aXRsZTogJ01vdW50YWluIEFkdmVudHVyZSBMb2RnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaCBhbHRpdHVkZSBtb3VudGFpbiBleHBlcmllbmNlIHdpdGggaGlraW5nIHRyYWlscycsXG4gICAgICAgIGxvY2F0aW9uOiAnU3dpc3MgQWxwcycsXG4gICAgICAgIGNhdGVnb3J5OiAnTW91bnRhaW4nLFxuICAgICAgICBmZWF0dXJlZDogZmFsc2UsXG4gICAgICAgIHByaWNlOiA0OTkuOTlcbiAgICAgIH0pO1xuICAgICAgYXdhaXQgY3JlYXRlVGVzdERlc3RpbmF0aW9uKHtcbiAgICAgICAgdGl0bGU6ICdVcmJhbiBDaXR5IEhvdGVsJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdNb2Rlcm4gY2l0eSBob3RlbCBpbiBkb3dudG93biBhcmVhJyxcbiAgICAgICAgbG9jYXRpb246ICdOZXcgWW9yayBDaXR5JyxcbiAgICAgICAgY2F0ZWdvcnk6ICdDaXR5JyxcbiAgICAgICAgZmVhdHVyZWQ6IHRydWUsXG4gICAgICAgIHByaWNlOiAzOTkuOTlcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29tcGxleCBzZWFyY2ggYW5kIGZpbHRlciBjb21iaW5hdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBTZWFyY2ggd2l0aCBtdWx0aXBsZSBmaWx0ZXJzXG4gICAgICBjb25zdCBjb21wbGV4U2VhcmNoUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS9kZXN0aW5hdGlvbnM/c2VhcmNoPWJlYWNoJmNhdGVnb3J5PUJlYWNoJmZlYXR1cmVkPXRydWUnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGV4cGVjdFN1Y2Nlc3NSZXNwb25zZShjb21wbGV4U2VhcmNoUmVzcG9uc2UsIDIwMCk7XG4gICAgICBleHBlY3QoY29tcGxleFNlYXJjaFJlc3BvbnNlLmJvZHkuZGF0YS5kZXN0aW5hdGlvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBcbiAgICAgIC8vIEFsbCByZXN1bHRzIHNob3VsZCBtYXRjaCB0aGUgY3JpdGVyaWFcbiAgICAgIGNvbXBsZXhTZWFyY2hSZXNwb25zZS5ib2R5LmRhdGEuZGVzdGluYXRpb25zLmZvckVhY2goZGVzdCA9PiB7XG4gICAgICAgIGV4cGVjdChkZXN0LmNhdGVnb3J5KS50b0JlKCdCZWFjaCcpO1xuICAgICAgICBleHBlY3QoZGVzdC5mZWF0dXJlZCkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KFxuICAgICAgICAgIGRlc3QudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYmVhY2gnKSB8fFxuICAgICAgICAgIGRlc3QuZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYmVhY2gnKSB8fFxuICAgICAgICAgIGRlc3QubG9jYXRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYmVhY2gnKVxuICAgICAgICApLnRvQmUodHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gVGVzdCBwcmljZSByYW5nZSBmaWx0ZXJpbmcgKGlmIGltcGxlbWVudGVkKVxuICAgICAgY29uc3QgcHJpY2VGaWx0ZXJSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3YxL2Rlc3RpbmF0aW9ucz9taW5QcmljZT0zMDAmbWF4UHJpY2U9NTAwJylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBleHBlY3RTdWNjZXNzUmVzcG9uc2UocHJpY2VGaWx0ZXJSZXNwb25zZSwgMjAwKTtcbiAgICAgIC8vIE5vdGU6IFRoaXMgdGVzdCBhc3N1bWVzIHByaWNlIGZpbHRlcmluZyBpcyBpbXBsZW1lbnRlZFxuICAgICAgLy8gSWYgbm90IGltcGxlbWVudGVkLCBpdCB3aWxsIHJldHVybiBhbGwgZGVzdGluYXRpb25zXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzZWFyY2ggd2l0aCBubyByZXN1bHRzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBub1Jlc3VsdHNSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3YxL2Rlc3RpbmF0aW9ucz9zZWFyY2g9bm9uZXhpc3RlbnRkZXN0aW5hdGlvbicpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlKG5vUmVzdWx0c1Jlc3BvbnNlLCAyMDApO1xuICAgICAgZXhwZWN0KG5vUmVzdWx0c1Jlc3BvbnNlLmJvZHkuZGF0YS5kZXN0aW5hdGlvbnMpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nIGFuZCBFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1hbGZvcm1lZCByZXF1ZXN0cyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gVGVzdCB3aXRoIGludmFsaWQgSlNPTlxuICAgICAgY29uc3QgbWFsZm9ybWVkUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLnBvc3QoJy9hcGkvdjEvYm9va2luZ3MnKVxuICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3VzZXJUb2tlbn1gKVxuICAgICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpXG4gICAgICAgIC5zZW5kKCdpbnZhbGlkIGpzb24nKVxuICAgICAgICAuZXhwZWN0KDQwMCk7XG5cbiAgICAgIGV4cGVjdChtYWxmb3JtZWRSZXNwb25zZS5ib2R5LnN0YXR1cykudG9CZSgnZmFpbCcpO1xuXG4gICAgICAvLyBUZXN0IHdpdGggbWlzc2luZyByZXF1aXJlZCBmaWVsZHNcbiAgICAgIGNvbnN0IG1pc3NpbmdGaWVsZHNSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS92MS9ib29raW5ncycpXG4gICAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dXNlclRva2VufWApXG4gICAgICAgIC5zZW5kKHt9KVxuICAgICAgICAuZXhwZWN0KDQwMCk7XG5cbiAgICAgIGV4cGVjdChtaXNzaW5nRmllbGRzUmVzcG9uc2UuYm9keS5zdGF0dXMpLnRvQmUoJ2ZhaWwnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgcmVxdWVzdHMgcHJvcGVybHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBkYXRlcyA9IGdlbmVyYXRlRnV0dXJlRGF0ZXMoKTtcbiAgICAgIGNvbnN0IGJvb2tpbmdEYXRhID0ge1xuICAgICAgICBkZXN0aW5hdGlvbklkOiBkZXN0aW5hdGlvbi5faWQsXG4gICAgICAgIGNoZWNrSW5EYXRlOiBkYXRlcy5jaGVja0luRGF0ZSxcbiAgICAgICAgY2hlY2tPdXREYXRlOiBkYXRlcy5jaGVja091dERhdGUsXG4gICAgICAgIG51bWJlck9mR3Vlc3RzOiAyLFxuICAgICAgICBwYXltZW50TWV0aG9kOiAnY3JlZGl0LWNhcmQnXG4gICAgICB9O1xuXG4gICAgICAvLyBNYWtlIG11bHRpcGxlIGNvbmN1cnJlbnQgYm9va2luZyByZXF1ZXN0c1xuICAgICAgY29uc3QgcHJvbWlzZXMgPSBBcnJheSgzKS5maWxsKCkubWFwKCgpID0+XG4gICAgICAgIHJlcXVlc3QoYXBwKVxuICAgICAgICAgIC5wb3N0KCcvYXBpL3YxL2Jvb2tpbmdzJylcbiAgICAgICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3VzZXJUb2tlbn1gKVxuICAgICAgICAgIC5zZW5kKGJvb2tpbmdEYXRhKVxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHByb21pc2VzKTtcblxuICAgICAgLy8gQXQgbGVhc3Qgb25lIHNob3VsZCBzdWNjZWVkXG4gICAgICBjb25zdCBzdWNjZXNzZnVsUmVzcG9uc2VzID0gcmVzcG9uc2VzLmZpbHRlcihcbiAgICAgICAgcmVzcG9uc2UgPT4gcmVzcG9uc2Uuc3RhdHVzID09PSAnZnVsZmlsbGVkJyAmJiByZXNwb25zZS52YWx1ZS5zdGF0dXMgPT09IDIwMVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHN1Y2Nlc3NmdWxSZXNwb25zZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdz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QUMsQ0FBQ3RCLElBQUksQ0FBQyxNQUFNLENBQUM7O01BRWxEO01BQ0EsTUFBTTRFLHFCQUFxQixHQUFHLE1BQU05RyxPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUM3QzRDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUN4QkMsR0FBRyxDQUFDLGVBQWUsRUFBRSxVQUFVOUIsU0FBUyxFQUFFLENBQUMsQ0FDM0MrQixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDUnRCLE1BQU0sQ0FBQyxHQUFHLENBQUM7TUFFZEEsTUFBTSxDQUFDb0YscUJBQXFCLENBQUNuRixJQUFJLENBQUM2QixNQUFNLENBQUMsQ0FBQ3RCLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDeEQsQ0FBQyxDQUFDO0lBRUZaLEVBQUUsQ0FBQyw0Q0FBNEMsRUFBRSxZQUFZO01BQzNELE1BQU1DLEtBQUssR0FBR2IsbUJBQW1CLENBQUMsQ0FBQztNQUNuQyxNQUFNOEIsV0FBVyxHQUFHO1FBQ2xCQyxhQUFhLEVBQUV6QixXQUFXLENBQUNpQixHQUFHO1FBQzlCSSxXQUFXLEVBQUVkLEtBQUssQ0FBQ2MsV0FBVztRQUM5QkMsWUFBWSxFQUFFZixLQUFLLENBQUNlLFlBQVk7UUFDaENJLGNBQWMsRUFBRSxDQUFDO1FBQ2pCQyxhQUFhLEVBQUU7TUFDakIsQ0FBQzs7TUFFRDtNQUNBLE1BQU1vRSxRQUFRLEdBQUc5QixLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMrQixJQUFJLENBQUMsQ0FBQyxDQUFDQyxHQUFHLENBQUMsTUFDbkNqSCxPQUFPLENBQUNFLEdBQUcsQ0FBQyxDQUNUNEMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQ3hCQyxHQUFHLENBQUMsZUFBZSxFQUFFLFVBQVU5QixTQUFTLEVBQUUsQ0FBQyxDQUMzQytCLElBQUksQ0FBQ1IsV0FBVyxDQUNyQixDQUFDO01BRUQsTUFBTTBFLFNBQVMsR0FBRyxNQUFNQyxPQUFPLENBQUNDLFVBQVUsQ0FBQ0wsUUFBUSxDQUFDOztNQUVwRDtNQUNBLE1BQU1NLG1CQUFtQixHQUFHSCxTQUFTLENBQUNJLE1BQU0sQ0FDMUNDLFFBQVEsSUFBSUEsUUFBUSxDQUFDL0QsTUFBTSxLQUFLLFdBQVcsSUFBSStELFFBQVEsQ0FBQ0MsS0FBSyxDQUFDaEUsTUFBTSxLQUFLLEdBQzNFLENBQUM7TUFFRDlCLE1BQU0sQ0FBQzJGLG1CQUFtQixDQUFDdkYsTUFBTSxDQUFDLENBQUNDLGVBQWUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119