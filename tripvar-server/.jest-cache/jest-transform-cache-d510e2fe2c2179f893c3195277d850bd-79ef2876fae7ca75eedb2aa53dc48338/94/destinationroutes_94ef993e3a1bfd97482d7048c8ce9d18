32bbf96fc36cd4c8c3f4a3ce76809812
/* istanbul ignore next */
function cov_1qabak7v7i() {
  var path = "/Users/mfarsx/dev/tripvar/tripvar-server/src/routes/destination.routes.js";
  var hash = "3ecdc6b8117e0de0711c52751e1661fab11a5232";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/mfarsx/dev/tripvar/tripvar-server/src/routes/destination.routes.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 16
        },
        end: {
          line: 1,
          column: 34
        }
      },
      "1": {
        start: {
          line: 2,
          column: 36
        },
        end: {
          line: 2,
          column: 65
        }
      },
      "2": {
        start: {
          line: 3,
          column: 45
        },
        end: {
          line: 3,
          column: 74
        }
      },
      "3": {
        start: {
          line: 4,
          column: 30
        },
        end: {
          line: 4,
          column: 78
        }
      },
      "4": {
        start: {
          line: 6,
          column: 15
        },
        end: {
          line: 6,
          column: 31
        }
      },
      "5": {
        start: {
          line: 9,
          column: 0
        },
        end: {
          line: 9,
          column: 58
        }
      },
      "6": {
        start: {
          line: 10,
          column: 0
        },
        end: {
          line: 10,
          column: 61
        }
      },
      "7": {
        start: {
          line: 13,
          column: 0
        },
        end: {
          line: 27,
          column: 2
        }
      },
      "8": {
        start: {
          line: 29,
          column: 0
        },
        end: {
          line: 43,
          column: 2
        }
      },
      "9": {
        start: {
          line: 45,
          column: 0
        },
        end: {
          line: 59,
          column: 2
        }
      },
      "10": {
        start: {
          line: 61,
          column: 0
        },
        end: {
          line: 61,
          column: 97
        }
      },
      "11": {
        start: {
          line: 63,
          column: 0
        },
        end: {
          line: 63,
          column: 24
        }
      }
    },
    fnMap: {},
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0
    },
    f: {},
    b: {},
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "3ecdc6b8117e0de0711c52751e1661fab11a5232"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1qabak7v7i = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1qabak7v7i();
const express =
/* istanbul ignore next */
(cov_1qabak7v7i().s[0]++, require('express'));
const {
  authenticate,
  authorize
} =
/* istanbul ignore next */
(cov_1qabak7v7i().s[1]++, require('../middleware/auth'));
const {
  validateRequest,
  validationRules
} =
/* istanbul ignore next */
(cov_1qabak7v7i().s[2]++, require('../config/security'));
const destinationController =
/* istanbul ignore next */
(cov_1qabak7v7i().s[3]++, require('../controllers/destination.controller'));
const router =
/* istanbul ignore next */
(cov_1qabak7v7i().s[4]++, express.Router());

// Public routes
/* istanbul ignore next */
cov_1qabak7v7i().s[5]++;
router.get('/', destinationController.getAllDestinations);
/* istanbul ignore next */
cov_1qabak7v7i().s[6]++;
router.get('/:id', destinationController.getDestinationById);

// Admin only routes
/* istanbul ignore next */
cov_1qabak7v7i().s[7]++;
router.post('/', authenticate, authorize('admin'), [validationRules.destinationTitle, validationRules.destinationDescription, validationRules.destinationImageUrl, validationRules.destinationRating, validationRules.destinationPrice, validationRules.destinationLocation, validationRules.destinationCategory], validateRequest, destinationController.createDestination);
/* istanbul ignore next */
cov_1qabak7v7i().s[8]++;
router.put('/:id', authenticate, authorize('admin'), [validationRules.destinationTitle.optional(), validationRules.destinationDescription.optional(), validationRules.destinationImageUrl.optional(), validationRules.destinationRating.optional(), validationRules.destinationPrice.optional(), validationRules.destinationLocation.optional(), validationRules.destinationCategory.optional()], validateRequest, destinationController.updateDestination);
/* istanbul ignore next */
cov_1qabak7v7i().s[9]++;
router.patch('/:id', authenticate, authorize('admin'), [validationRules.destinationTitle.optional(), validationRules.destinationDescription.optional(), validationRules.destinationImageUrl.optional(), validationRules.destinationRating.optional(), validationRules.destinationPrice.optional(), validationRules.destinationLocation.optional(), validationRules.destinationCategory.optional()], validateRequest, destinationController.updateDestination);
/* istanbul ignore next */
cov_1qabak7v7i().s[10]++;
router.delete('/:id', authenticate, authorize('admin'), destinationController.deleteDestination);
/* istanbul ignore next */
cov_1qabak7v7i().s[11]++;
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXFhYmFrN3Y3aSIsImFjdHVhbENvdmVyYWdlIiwiZXhwcmVzcyIsInMiLCJyZXF1aXJlIiwiYXV0aGVudGljYXRlIiwiYXV0aG9yaXplIiwidmFsaWRhdGVSZXF1ZXN0IiwidmFsaWRhdGlvblJ1bGVzIiwiZGVzdGluYXRpb25Db250cm9sbGVyIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwiZ2V0QWxsRGVzdGluYXRpb25zIiwiZ2V0RGVzdGluYXRpb25CeUlkIiwicG9zdCIsImRlc3RpbmF0aW9uVGl0bGUiLCJkZXN0aW5hdGlvbkRlc2NyaXB0aW9uIiwiZGVzdGluYXRpb25JbWFnZVVybCIsImRlc3RpbmF0aW9uUmF0aW5nIiwiZGVzdGluYXRpb25QcmljZSIsImRlc3RpbmF0aW9uTG9jYXRpb24iLCJkZXN0aW5hdGlvbkNhdGVnb3J5IiwiY3JlYXRlRGVzdGluYXRpb24iLCJwdXQiLCJvcHRpb25hbCIsInVwZGF0ZURlc3RpbmF0aW9uIiwicGF0Y2giLCJkZWxldGUiLCJkZWxldGVEZXN0aW5hdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJkZXN0aW5hdGlvbi5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IHsgYXV0aGVudGljYXRlLCBhdXRob3JpemUgfSA9IHJlcXVpcmUoJy4uL21pZGRsZXdhcmUvYXV0aCcpO1xuY29uc3QgeyB2YWxpZGF0ZVJlcXVlc3QsIHZhbGlkYXRpb25SdWxlcyB9ID0gcmVxdWlyZSgnLi4vY29uZmlnL3NlY3VyaXR5Jyk7XG5jb25zdCBkZXN0aW5hdGlvbkNvbnRyb2xsZXIgPSByZXF1aXJlKCcuLi9jb250cm9sbGVycy9kZXN0aW5hdGlvbi5jb250cm9sbGVyJyk7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbi8vIFB1YmxpYyByb3V0ZXNcbnJvdXRlci5nZXQoJy8nLCBkZXN0aW5hdGlvbkNvbnRyb2xsZXIuZ2V0QWxsRGVzdGluYXRpb25zKTtcbnJvdXRlci5nZXQoJy86aWQnLCBkZXN0aW5hdGlvbkNvbnRyb2xsZXIuZ2V0RGVzdGluYXRpb25CeUlkKTtcblxuLy8gQWRtaW4gb25seSByb3V0ZXNcbnJvdXRlci5wb3N0KCcvJyxcbiAgYXV0aGVudGljYXRlLFxuICBhdXRob3JpemUoJ2FkbWluJyksXG4gIFtcbiAgICB2YWxpZGF0aW9uUnVsZXMuZGVzdGluYXRpb25UaXRsZSxcbiAgICB2YWxpZGF0aW9uUnVsZXMuZGVzdGluYXRpb25EZXNjcmlwdGlvbixcbiAgICB2YWxpZGF0aW9uUnVsZXMuZGVzdGluYXRpb25JbWFnZVVybCxcbiAgICB2YWxpZGF0aW9uUnVsZXMuZGVzdGluYXRpb25SYXRpbmcsXG4gICAgdmFsaWRhdGlvblJ1bGVzLmRlc3RpbmF0aW9uUHJpY2UsXG4gICAgdmFsaWRhdGlvblJ1bGVzLmRlc3RpbmF0aW9uTG9jYXRpb24sXG4gICAgdmFsaWRhdGlvblJ1bGVzLmRlc3RpbmF0aW9uQ2F0ZWdvcnlcbiAgXSxcbiAgdmFsaWRhdGVSZXF1ZXN0LFxuICBkZXN0aW5hdGlvbkNvbnRyb2xsZXIuY3JlYXRlRGVzdGluYXRpb25cbik7XG5cbnJvdXRlci5wdXQoJy86aWQnLFxuICBhdXRoZW50aWNhdGUsXG4gIGF1dGhvcml6ZSgnYWRtaW4nKSxcbiAgW1xuICAgIHZhbGlkYXRpb25SdWxlcy5kZXN0aW5hdGlvblRpdGxlLm9wdGlvbmFsKCksXG4gICAgdmFsaWRhdGlvblJ1bGVzLmRlc3RpbmF0aW9uRGVzY3JpcHRpb24ub3B0aW9uYWwoKSxcbiAgICB2YWxpZGF0aW9uUnVsZXMuZGVzdGluYXRpb25JbWFnZVVybC5vcHRpb25hbCgpLFxuICAgIHZhbGlkYXRpb25SdWxlcy5kZXN0aW5hdGlvblJhdGluZy5vcHRpb25hbCgpLFxuICAgIHZhbGlkYXRpb25SdWxlcy5kZXN0aW5hdGlvblByaWNlLm9wdGlvbmFsKCksXG4gICAgdmFsaWRhdGlvblJ1bGVzLmRlc3RpbmF0aW9uTG9jYXRpb24ub3B0aW9uYWwoKSxcbiAgICB2YWxpZGF0aW9uUnVsZXMuZGVzdGluYXRpb25DYXRlZ29yeS5vcHRpb25hbCgpXG4gIF0sXG4gIHZhbGlkYXRlUmVxdWVzdCxcbiAgZGVzdGluYXRpb25Db250cm9sbGVyLnVwZGF0ZURlc3RpbmF0aW9uXG4pO1xuXG5yb3V0ZXIucGF0Y2goJy86aWQnLFxuICBhdXRoZW50aWNhdGUsXG4gIGF1dGhvcml6ZSgnYWRtaW4nKSxcbiAgW1xuICAgIHZhbGlkYXRpb25SdWxlcy5kZXN0aW5hdGlvblRpdGxlLm9wdGlvbmFsKCksXG4gICAgdmFsaWRhdGlvblJ1bGVzLmRlc3RpbmF0aW9uRGVzY3JpcHRpb24ub3B0aW9uYWwoKSxcbiAgICB2YWxpZGF0aW9uUnVsZXMuZGVzdGluYXRpb25JbWFnZVVybC5vcHRpb25hbCgpLFxuICAgIHZhbGlkYXRpb25SdWxlcy5kZXN0aW5hdGlvblJhdGluZy5vcHRpb25hbCgpLFxuICAgIHZhbGlkYXRpb25SdWxlcy5kZXN0aW5hdGlvblByaWNlLm9wdGlvbmFsKCksXG4gICAgdmFsaWRhdGlvblJ1bGVzLmRlc3RpbmF0aW9uTG9jYXRpb24ub3B0aW9uYWwoKSxcbiAgICB2YWxpZGF0aW9uUnVsZXMuZGVzdGluYXRpb25DYXRlZ29yeS5vcHRpb25hbCgpXG4gIF0sXG4gIHZhbGlkYXRlUmVxdWVzdCxcbiAgZGVzdGluYXRpb25Db250cm9sbGVyLnVwZGF0ZURlc3RpbmF0aW9uXG4pO1xuXG5yb3V0ZXIuZGVsZXRlKCcvOmlkJywgYXV0aGVudGljYXRlLCBhdXRob3JpemUoJ2FkbWluJyksIGRlc3RpbmF0aW9uQ29udHJvbGxlci5kZWxldGVEZXN0aW5hdGlvbik7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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