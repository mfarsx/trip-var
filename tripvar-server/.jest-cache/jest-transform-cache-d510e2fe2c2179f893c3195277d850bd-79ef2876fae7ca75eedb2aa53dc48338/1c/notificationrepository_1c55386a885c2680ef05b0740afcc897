fdfa17e83db50b59ce09c9653a4b1b73
/* istanbul ignore next */
function cov_2oretgr5w2() {
  var path = "/Users/mfarsx/dev/tripvar/tripvar-server/src/repositories/notification.repository.js";
  var hash = "4aeecf2e8259787eeab96574170cf3296caec34c";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/mfarsx/dev/tripvar/tripvar-server/src/repositories/notification.repository.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 23
        },
        end: {
          line: 1,
          column: 51
        }
      },
      "1": {
        start: {
          line: 5,
          column: 4
        },
        end: {
          line: 5,
          column: 17
        }
      },
      "2": {
        start: {
          line: 10,
          column: 4
        },
        end: {
          line: 16,
          column: 5
        }
      },
      "3": {
        start: {
          line: 11,
          column: 6
        },
        end: {
          line: 13,
          column: 33
        }
      },
      "4": {
        start: {
          line: 15,
          column: 6
        },
        end: {
          line: 15,
          column: 18
        }
      },
      "5": {
        start: {
          line: 21,
          column: 4
        },
        end: {
          line: 27,
          column: 5
        }
      },
      "6": {
        start: {
          line: 22,
          column: 6
        },
        end: {
          line: 24,
          column: 33
        }
      },
      "7": {
        start: {
          line: 26,
          column: 6
        },
        end: {
          line: 26,
          column: 18
        }
      },
      "8": {
        start: {
          line: 32,
          column: 4
        },
        end: {
          line: 39,
          column: 5
        }
      },
      "9": {
        start: {
          line: 33,
          column: 6
        },
        end: {
          line: 36,
          column: 33
        }
      },
      "10": {
        start: {
          line: 38,
          column: 6
        },
        end: {
          line: 38,
          column: 18
        }
      },
      "11": {
        start: {
          line: 44,
          column: 4
        },
        end: {
          line: 53,
          column: 5
        }
      },
      "12": {
        start: {
          line: 45,
          column: 6
        },
        end: {
          line: 50,
          column: 33
        }
      },
      "13": {
        start: {
          line: 52,
          column: 6
        },
        end: {
          line: 52,
          column: 18
        }
      },
      "14": {
        start: {
          line: 58,
          column: 4
        },
        end: {
          line: 66,
          column: 5
        }
      },
      "15": {
        start: {
          line: 59,
          column: 6
        },
        end: {
          line: 63,
          column: 8
        }
      },
      "16": {
        start: {
          line: 65,
          column: 6
        },
        end: {
          line: 65,
          column: 18
        }
      },
      "17": {
        start: {
          line: 71,
          column: 4
        },
        end: {
          line: 78,
          column: 5
        }
      },
      "18": {
        start: {
          line: 72,
          column: 6
        },
        end: {
          line: 75,
          column: 8
        }
      },
      "19": {
        start: {
          line: 77,
          column: 6
        },
        end: {
          line: 77,
          column: 18
        }
      },
      "20": {
        start: {
          line: 83,
          column: 4
        },
        end: {
          line: 93,
          column: 5
        }
      },
      "21": {
        start: {
          line: 84,
          column: 25
        },
        end: {
          line: 84,
          column: 35
        }
      },
      "22": {
        start: {
          line: 85,
          column: 6
        },
        end: {
          line: 85,
          column: 57
        }
      },
      "23": {
        start: {
          line: 87,
          column: 6
        },
        end: {
          line: 90,
          column: 9
        }
      },
      "24": {
        start: {
          line: 92,
          column: 6
        },
        end: {
          line: 92,
          column: 18
        }
      },
      "25": {
        start: {
          line: 98,
          column: 4
        },
        end: {
          line: 105,
          column: 5
        }
      },
      "26": {
        start: {
          line: 99,
          column: 6
        },
        end: {
          line: 102,
          column: 9
        }
      },
      "27": {
        start: {
          line: 104,
          column: 6
        },
        end: {
          line: 104,
          column: 18
        }
      },
      "28": {
        start: {
          line: 110,
          column: 4
        },
        end: {
          line: 114,
          column: 5
        }
      },
      "29": {
        start: {
          line: 111,
          column: 6
        },
        end: {
          line: 111,
          column: 56
        }
      },
      "30": {
        start: {
          line: 113,
          column: 6
        },
        end: {
          line: 113,
          column: 18
        }
      },
      "31": {
        start: {
          line: 119,
          column: 4
        },
        end: {
          line: 126,
          column: 5
        }
      },
      "32": {
        start: {
          line: 120,
          column: 6
        },
        end: {
          line: 123,
          column: 33
        }
      },
      "33": {
        start: {
          line: 125,
          column: 6
        },
        end: {
          line: 125,
          column: 18
        }
      },
      "34": {
        start: {
          line: 131,
          column: 4
        },
        end: {
          line: 154,
          column: 5
        }
      },
      "35": {
        start: {
          line: 132,
          column: 20
        },
        end: {
          line: 150,
          column: 8
        }
      },
      "36": {
        start: {
          line: 151,
          column: 6
        },
        end: {
          line: 151,
          column: 79
        }
      },
      "37": {
        start: {
          line: 153,
          column: 6
        },
        end: {
          line: 153,
          column: 18
        }
      },
      "38": {
        start: {
          line: 159,
          column: 4
        },
        end: {
          line: 180,
          column: 5
        }
      },
      "39": {
        start: {
          line: 160,
          column: 19
        },
        end: {
          line: 160,
          column: 37
        }
      },
      "40": {
        start: {
          line: 161,
          column: 28
        },
        end: {
          line: 165,
          column: 21
        }
      },
      "41": {
        start: {
          line: 167,
          column: 20
        },
        end: {
          line: 167,
          column: 69
        }
      },
      "42": {
        start: {
          line: 169,
          column: 6
        },
        end: {
          line: 177,
          column: 8
        }
      },
      "43": {
        start: {
          line: 179,
          column: 6
        },
        end: {
          line: 179,
          column: 18
        }
      },
      "44": {
        start: {
          line: 184,
          column: 0
        },
        end: {
          line: 184,
          column: 40
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 4,
            column: 2
          },
          end: {
            line: 4,
            column: 3
          }
        },
        loc: {
          start: {
            line: 4,
            column: 21
          },
          end: {
            line: 6,
            column: 3
          }
        },
        line: 4
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 9,
            column: 2
          },
          end: {
            line: 9,
            column: 3
          }
        },
        loc: {
          start: {
            line: 9,
            column: 27
          },
          end: {
            line: 17,
            column: 3
          }
        },
        line: 9
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 20,
            column: 2
          },
          end: {
            line: 20,
            column: 3
          }
        },
        loc: {
          start: {
            line: 20,
            column: 33
          },
          end: {
            line: 28,
            column: 3
          }
        },
        line: 20
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 31,
            column: 2
          },
          end: {
            line: 31,
            column: 3
          }
        },
        loc: {
          start: {
            line: 31,
            column: 25
          },
          end: {
            line: 40,
            column: 3
          }
        },
        line: 31
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 43,
            column: 2
          },
          end: {
            line: 43,
            column: 3
          }
        },
        loc: {
          start: {
            line: 43,
            column: 44
          },
          end: {
            line: 54,
            column: 3
          }
        },
        line: 43
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 57,
            column: 2
          },
          end: {
            line: 57,
            column: 3
          }
        },
        loc: {
          start: {
            line: 57,
            column: 35
          },
          end: {
            line: 67,
            column: 3
          }
        },
        line: 57
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 70,
            column: 2
          },
          end: {
            line: 70,
            column: 3
          }
        },
        loc: {
          start: {
            line: 70,
            column: 30
          },
          end: {
            line: 79,
            column: 3
          }
        },
        line: 70
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 82,
            column: 2
          },
          end: {
            line: 82,
            column: 3
          }
        },
        loc: {
          start: {
            line: 82,
            column: 45
          },
          end: {
            line: 94,
            column: 3
          }
        },
        line: 82
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 97,
            column: 2
          },
          end: {
            line: 97,
            column: 3
          }
        },
        loc: {
          start: {
            line: 97,
            column: 31
          },
          end: {
            line: 106,
            column: 3
          }
        },
        line: 97
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 109,
            column: 2
          },
          end: {
            line: 109,
            column: 3
          }
        },
        loc: {
          start: {
            line: 109,
            column: 34
          },
          end: {
            line: 115,
            column: 3
          }
        },
        line: 109
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 118,
            column: 2
          },
          end: {
            line: 118,
            column: 3
          }
        },
        loc: {
          start: {
            line: 118,
            column: 33
          },
          end: {
            line: 127,
            column: 3
          }
        },
        line: 118
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 130,
            column: 2
          },
          end: {
            line: 130,
            column: 3
          }
        },
        loc: {
          start: {
            line: 130,
            column: 24
          },
          end: {
            line: 155,
            column: 3
          }
        },
        line: 130
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 158,
            column: 2
          },
          end: {
            line: 158,
            column: 3
          }
        },
        loc: {
          start: {
            line: 158,
            column: 57
          },
          end: {
            line: 181,
            column: 3
          }
        },
        line: 158
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 82,
            column: 31
          },
          end: {
            line: 82,
            column: 43
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 82,
            column: 41
          },
          end: {
            line: 82,
            column: 43
          }
        }],
        line: 82
      },
      "1": {
        loc: {
          start: {
            line: 151,
            column: 13
          },
          end: {
            line: 151,
            column: 78
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 151,
            column: 13
          },
          end: {
            line: 151,
            column: 21
          }
        }, {
          start: {
            line: 151,
            column: 25
          },
          end: {
            line: 151,
            column: 78
          }
        }],
        line: 151
      },
      "2": {
        loc: {
          start: {
            line: 158,
            column: 35
          },
          end: {
            line: 158,
            column: 43
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 158,
            column: 42
          },
          end: {
            line: 158,
            column: 43
          }
        }],
        line: 158
      },
      "3": {
        loc: {
          start: {
            line: 158,
            column: 45
          },
          end: {
            line: 158,
            column: 55
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 158,
            column: 53
          },
          end: {
            line: 158,
            column: 55
          }
        }],
        line: 158
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0],
      "3": [0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "4aeecf2e8259787eeab96574170cf3296caec34c"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2oretgr5w2 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2oretgr5w2();
const BaseRepository =
/* istanbul ignore next */
(cov_2oretgr5w2().s[0]++, require('./base.repository'));
class NotificationRepository extends BaseRepository {
  constructor(model) {
    /* istanbul ignore next */
    cov_2oretgr5w2().f[0]++;
    cov_2oretgr5w2().s[1]++;
    super(model);
  }

  // Find notifications by user
  async findByUser(userId) {
    /* istanbul ignore next */
    cov_2oretgr5w2().f[1]++;
    cov_2oretgr5w2().s[2]++;
    try {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[3]++;
      return await this.model.find({
        user: userId
      }).sort({
        createdAt: -1
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[4]++;
      throw error;
    }
  }

  // Find unread notifications by user
  async findUnreadByUser(userId) {
    /* istanbul ignore next */
    cov_2oretgr5w2().f[2]++;
    cov_2oretgr5w2().s[5]++;
    try {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[6]++;
      return await this.model.find({
        user: userId,
        isRead: false
      }).sort({
        createdAt: -1
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[7]++;
      throw error;
    }
  }

  // Find notifications by type
  async findByType(type) {
    /* istanbul ignore next */
    cov_2oretgr5w2().f[3]++;
    cov_2oretgr5w2().s[8]++;
    try {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[9]++;
      return await this.model.find({
        type
      }).populate('user').sort({
        createdAt: -1
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[10]++;
      throw error;
    }
  }

  // Find notifications by date range
  async findByDateRange(startDate, endDate) {
    /* istanbul ignore next */
    cov_2oretgr5w2().f[4]++;
    cov_2oretgr5w2().s[11]++;
    try {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[12]++;
      return await this.model.find({
        createdAt: {
          $gte: startDate,
          $lte: endDate
        }
      }).populate('user').sort({
        createdAt: -1
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[13]++;
      throw error;
    }
  }

  // Mark notification as read
  async markAsRead(notificationId) {
    /* istanbul ignore next */
    cov_2oretgr5w2().f[5]++;
    cov_2oretgr5w2().s[14]++;
    try {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[15]++;
      return await this.model.findByIdAndUpdate(notificationId, {
        $set: {
          isRead: true,
          readAt: new Date()
        }
      }, {
        new: true
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[16]++;
      throw error;
    }
  }

  // Mark all notifications as read for a user
  async markAllAsRead(userId) {
    /* istanbul ignore next */
    cov_2oretgr5w2().f[6]++;
    cov_2oretgr5w2().s[17]++;
    try {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[18]++;
      return await this.model.updateMany({
        user: userId,
        isRead: false
      }, {
        $set: {
          isRead: true,
          readAt: new Date()
        }
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[19]++;
      throw error;
    }
  }

  // Delete old notifications
  async deleteOldNotifications(daysOld =
  /* istanbul ignore next */
  (cov_2oretgr5w2().b[0][0]++, 30)) {
    /* istanbul ignore next */
    cov_2oretgr5w2().f[7]++;
    cov_2oretgr5w2().s[20]++;
    try {
      const cutoffDate =
      /* istanbul ignore next */
      (cov_2oretgr5w2().s[21]++, new Date());
      /* istanbul ignore next */
      cov_2oretgr5w2().s[22]++;
      cutoffDate.setDate(cutoffDate.getDate() - daysOld);
      /* istanbul ignore next */
      cov_2oretgr5w2().s[23]++;
      return await this.model.deleteMany({
        createdAt: {
          $lt: cutoffDate
        },
        isRead: true
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[24]++;
      throw error;
    }
  }

  // Get notification count for user
  async getUnreadCount(userId) {
    /* istanbul ignore next */
    cov_2oretgr5w2().f[8]++;
    cov_2oretgr5w2().s[25]++;
    try {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[26]++;
      return await this.model.countDocuments({
        user: userId,
        isRead: false
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[27]++;
      throw error;
    }
  }

  // Create bulk notifications
  async createBulk(notifications) {
    /* istanbul ignore next */
    cov_2oretgr5w2().f[9]++;
    cov_2oretgr5w2().s[28]++;
    try {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[29]++;
      return await this.model.insertMany(notifications);
    } catch (error) {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[30]++;
      throw error;
    }
  }

  // Find notifications by priority
  async findByPriority(priority) {
    /* istanbul ignore next */
    cov_2oretgr5w2().f[10]++;
    cov_2oretgr5w2().s[31]++;
    try {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[32]++;
      return await this.model.find({
        priority
      }).populate('user').sort({
        createdAt: -1
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[33]++;
      throw error;
    }
  }

  // Get notification statistics
  async getStatistics() {
    /* istanbul ignore next */
    cov_2oretgr5w2().f[11]++;
    cov_2oretgr5w2().s[34]++;
    try {
      const stats =
      /* istanbul ignore next */
      (cov_2oretgr5w2().s[35]++, await this.model.aggregate([{
        $group: {
          _id: null,
          totalNotifications: {
            $sum: 1
          },
          unreadCount: {
            $sum: {
              $cond: ['$isRead', 0, 1]
            }
          },
          byType: {
            $push: {
              type: '$type',
              isRead: '$isRead'
            }
          }
        }
      }]));
      /* istanbul ignore next */
      cov_2oretgr5w2().s[36]++;
      return /* istanbul ignore next */(cov_2oretgr5w2().b[1][0]++, stats[0]) ||
      /* istanbul ignore next */
      (cov_2oretgr5w2().b[1][1]++, {
        totalNotifications: 0,
        unreadCount: 0,
        byType: []
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[37]++;
      throw error;
    }
  }

  // Find notifications with pagination
  async findWithPagination(userId, page =
  /* istanbul ignore next */
  (cov_2oretgr5w2().b[2][0]++, 1), limit =
  /* istanbul ignore next */
  (cov_2oretgr5w2().b[3][0]++, 10)) {
    /* istanbul ignore next */
    cov_2oretgr5w2().f[12]++;
    cov_2oretgr5w2().s[38]++;
    try {
      const skip =
      /* istanbul ignore next */
      (cov_2oretgr5w2().s[39]++, (page - 1) * limit);
      const notifications =
      /* istanbul ignore next */
      (cov_2oretgr5w2().s[40]++, await this.model.find({
        user: userId
      }).sort({
        createdAt: -1
      }).skip(skip).limit(limit));
      const total =
      /* istanbul ignore next */
      (cov_2oretgr5w2().s[41]++, await this.model.countDocuments({
        user: userId
      }));
      /* istanbul ignore next */
      cov_2oretgr5w2().s[42]++;
      return {
        notifications,
        pagination: {
          page,
          limit,
          total,
          pages: Math.ceil(total / limit)
        }
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_2oretgr5w2().s[43]++;
      throw error;
    }
  }
}
/* istanbul ignore next */
cov_2oretgr5w2().s[44]++;
module.exports = NotificationRepository;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMm9yZXRncjV3MiIsImFjdHVhbENvdmVyYWdlIiwiQmFzZVJlcG9zaXRvcnkiLCJzIiwicmVxdWlyZSIsIk5vdGlmaWNhdGlvblJlcG9zaXRvcnkiLCJjb25zdHJ1Y3RvciIsIm1vZGVsIiwiZiIsImZpbmRCeVVzZXIiLCJ1c2VySWQiLCJmaW5kIiwidXNlciIsInNvcnQiLCJjcmVhdGVkQXQiLCJlcnJvciIsImZpbmRVbnJlYWRCeVVzZXIiLCJpc1JlYWQiLCJmaW5kQnlUeXBlIiwidHlwZSIsInBvcHVsYXRlIiwiZmluZEJ5RGF0ZVJhbmdlIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsIiRndGUiLCIkbHRlIiwibWFya0FzUmVhZCIsIm5vdGlmaWNhdGlvbklkIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCIkc2V0IiwicmVhZEF0IiwiRGF0ZSIsIm5ldyIsIm1hcmtBbGxBc1JlYWQiLCJ1cGRhdGVNYW55IiwiZGVsZXRlT2xkTm90aWZpY2F0aW9ucyIsImRheXNPbGQiLCJiIiwiY3V0b2ZmRGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwiZGVsZXRlTWFueSIsIiRsdCIsImdldFVucmVhZENvdW50IiwiY291bnREb2N1bWVudHMiLCJjcmVhdGVCdWxrIiwibm90aWZpY2F0aW9ucyIsImluc2VydE1hbnkiLCJmaW5kQnlQcmlvcml0eSIsInByaW9yaXR5IiwiZ2V0U3RhdGlzdGljcyIsInN0YXRzIiwiYWdncmVnYXRlIiwiJGdyb3VwIiwiX2lkIiwidG90YWxOb3RpZmljYXRpb25zIiwiJHN1bSIsInVucmVhZENvdW50IiwiJGNvbmQiLCJieVR5cGUiLCIkcHVzaCIsImZpbmRXaXRoUGFnaW5hdGlvbiIsInBhZ2UiLCJsaW1pdCIsInNraXAiLCJ0b3RhbCIsInBhZ2luYXRpb24iLCJwYWdlcyIsIk1hdGgiLCJjZWlsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIm5vdGlmaWNhdGlvbi5yZXBvc2l0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEJhc2VSZXBvc2l0b3J5ID0gcmVxdWlyZSgnLi9iYXNlLnJlcG9zaXRvcnknKTtcblxuY2xhc3MgTm90aWZpY2F0aW9uUmVwb3NpdG9yeSBleHRlbmRzIEJhc2VSZXBvc2l0b3J5IHtcbiAgY29uc3RydWN0b3IobW9kZWwpIHtcbiAgICBzdXBlcihtb2RlbCk7XG4gIH1cblxuICAvLyBGaW5kIG5vdGlmaWNhdGlvbnMgYnkgdXNlclxuICBhc3luYyBmaW5kQnlVc2VyKHVzZXJJZCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb2RlbFxuICAgICAgICAuZmluZCh7IHVzZXI6IHVzZXJJZCB9KVxuICAgICAgICAuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpbmQgdW5yZWFkIG5vdGlmaWNhdGlvbnMgYnkgdXNlclxuICBhc3luYyBmaW5kVW5yZWFkQnlVc2VyKHVzZXJJZCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb2RlbFxuICAgICAgICAuZmluZCh7IHVzZXI6IHVzZXJJZCwgaXNSZWFkOiBmYWxzZSB9KVxuICAgICAgICAuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpbmQgbm90aWZpY2F0aW9ucyBieSB0eXBlXG4gIGFzeW5jIGZpbmRCeVR5cGUodHlwZSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb2RlbFxuICAgICAgICAuZmluZCh7IHR5cGUgfSlcbiAgICAgICAgLnBvcHVsYXRlKCd1c2VyJylcbiAgICAgICAgLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBGaW5kIG5vdGlmaWNhdGlvbnMgYnkgZGF0ZSByYW5nZVxuICBhc3luYyBmaW5kQnlEYXRlUmFuZ2Uoc3RhcnREYXRlLCBlbmREYXRlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1vZGVsXG4gICAgICAgIC5maW5kKHtcbiAgICAgICAgICBjcmVhdGVkQXQ6IHsgJGd0ZTogc3RhcnREYXRlLCAkbHRlOiBlbmREYXRlIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnBvcHVsYXRlKCd1c2VyJylcbiAgICAgICAgLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBNYXJrIG5vdGlmaWNhdGlvbiBhcyByZWFkXG4gIGFzeW5jIG1hcmtBc1JlYWQobm90aWZpY2F0aW9uSWQpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9kZWwuZmluZEJ5SWRBbmRVcGRhdGUoXG4gICAgICAgIG5vdGlmaWNhdGlvbklkLFxuICAgICAgICB7ICRzZXQ6IHsgaXNSZWFkOiB0cnVlLCByZWFkQXQ6IG5ldyBEYXRlKCkgfSB9LFxuICAgICAgICB7IG5ldzogdHJ1ZSB9XG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBNYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWQgZm9yIGEgdXNlclxuICBhc3luYyBtYXJrQWxsQXNSZWFkKHVzZXJJZCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb2RlbC51cGRhdGVNYW55KFxuICAgICAgICB7IHVzZXI6IHVzZXJJZCwgaXNSZWFkOiBmYWxzZSB9LFxuICAgICAgICB7ICRzZXQ6IHsgaXNSZWFkOiB0cnVlLCByZWFkQXQ6IG5ldyBEYXRlKCkgfSB9XG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBEZWxldGUgb2xkIG5vdGlmaWNhdGlvbnNcbiAgYXN5bmMgZGVsZXRlT2xkTm90aWZpY2F0aW9ucyhkYXlzT2xkID0gMzApIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY3V0b2ZmRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICBjdXRvZmZEYXRlLnNldERhdGUoY3V0b2ZmRGF0ZS5nZXREYXRlKCkgLSBkYXlzT2xkKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9kZWwuZGVsZXRlTWFueSh7XG4gICAgICAgIGNyZWF0ZWRBdDogeyAkbHQ6IGN1dG9mZkRhdGUgfSxcbiAgICAgICAgaXNSZWFkOiB0cnVlXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IG5vdGlmaWNhdGlvbiBjb3VudCBmb3IgdXNlclxuICBhc3luYyBnZXRVbnJlYWRDb3VudCh1c2VySWQpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9kZWwuY291bnREb2N1bWVudHMoe1xuICAgICAgICB1c2VyOiB1c2VySWQsXG4gICAgICAgIGlzUmVhZDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBDcmVhdGUgYnVsayBub3RpZmljYXRpb25zXG4gIGFzeW5jIGNyZWF0ZUJ1bGsobm90aWZpY2F0aW9ucykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5tb2RlbC5pbnNlcnRNYW55KG5vdGlmaWNhdGlvbnMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBGaW5kIG5vdGlmaWNhdGlvbnMgYnkgcHJpb3JpdHlcbiAgYXN5bmMgZmluZEJ5UHJpb3JpdHkocHJpb3JpdHkpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubW9kZWxcbiAgICAgICAgLmZpbmQoeyBwcmlvcml0eSB9KVxuICAgICAgICAucG9wdWxhdGUoJ3VzZXInKVxuICAgICAgICAuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdldCBub3RpZmljYXRpb24gc3RhdGlzdGljc1xuICBhc3luYyBnZXRTdGF0aXN0aWNzKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdGF0cyA9IGF3YWl0IHRoaXMubW9kZWwuYWdncmVnYXRlKFtcbiAgICAgICAge1xuICAgICAgICAgICRncm91cDoge1xuICAgICAgICAgICAgX2lkOiBudWxsLFxuICAgICAgICAgICAgdG90YWxOb3RpZmljYXRpb25zOiB7ICRzdW06IDEgfSxcbiAgICAgICAgICAgIHVucmVhZENvdW50OiB7XG4gICAgICAgICAgICAgICRzdW06IHtcbiAgICAgICAgICAgICAgICAkY29uZDogWyckaXNSZWFkJywgMCwgMV1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJ5VHlwZToge1xuICAgICAgICAgICAgICAkcHVzaDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICckdHlwZScsXG4gICAgICAgICAgICAgICAgaXNSZWFkOiAnJGlzUmVhZCdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXSk7XG4gICAgICByZXR1cm4gc3RhdHNbMF0gfHwgeyB0b3RhbE5vdGlmaWNhdGlvbnM6IDAsIHVucmVhZENvdW50OiAwLCBieVR5cGU6IFtdIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpbmQgbm90aWZpY2F0aW9ucyB3aXRoIHBhZ2luYXRpb25cbiAgYXN5bmMgZmluZFdpdGhQYWdpbmF0aW9uKHVzZXJJZCwgcGFnZSA9IDEsIGxpbWl0ID0gMTApIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2tpcCA9IChwYWdlIC0gMSkgKiBsaW1pdDtcbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbnMgPSBhd2FpdCB0aGlzLm1vZGVsXG4gICAgICAgIC5maW5kKHsgdXNlcjogdXNlcklkIH0pXG4gICAgICAgIC5zb3J0KHsgY3JlYXRlZEF0OiAtMSB9KVxuICAgICAgICAuc2tpcChza2lwKVxuICAgICAgICAubGltaXQobGltaXQpO1xuXG4gICAgICBjb25zdCB0b3RhbCA9IGF3YWl0IHRoaXMubW9kZWwuY291bnREb2N1bWVudHMoeyB1c2VyOiB1c2VySWQgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5vdGlmaWNhdGlvbnMsXG4gICAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgICBwYWdlLFxuICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgIHRvdGFsLFxuICAgICAgICAgIHBhZ2VzOiBNYXRoLmNlaWwodG90YWwgLyBsaW1pdClcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTm90aWZpY2F0aW9uUmVwb3NpdG9yeTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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