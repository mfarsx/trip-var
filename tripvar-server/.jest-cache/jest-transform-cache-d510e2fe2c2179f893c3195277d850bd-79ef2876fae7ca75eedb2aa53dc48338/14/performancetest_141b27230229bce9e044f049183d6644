d0d175344cdd2b8f384aacc1544e7df1
const request = require('supertest');
const app = require('./app.test');
const {
  setupTestEnvironment,
  cleanupTestEnvironment,
  clearDatabase,
  createTestUser,
  createTestDestination,
  generateTestToken,
  expectSuccessResponse
} = require('./setup');
describe('Performance Tests', () => {
  let user, destination, token;
  beforeAll(async () => {
    await setupTestEnvironment();
  });
  afterAll(async () => {
    await cleanupTestEnvironment();
  });
  beforeEach(async () => {
    await clearDatabase();

    // Create test data
    user = await createTestUser();
    destination = await createTestDestination();
    token = generateTestToken(user);
  });
  describe('Response Time Tests', () => {
    it('should respond to destination list within acceptable time', async () => {
      const startTime = Date.now();
      const response = await request(app).get('/api/v1/destinations').expect(200);
      const responseTime = Date.now() - startTime;
      expectSuccessResponse(response, 200);
      expect(responseTime).toBeLessThan(1000); // Should respond within 1 second
    });
    it('should respond to authentication within acceptable time', async () => {
      const startTime = Date.now();
      const response = await request(app).post('/api/v1/auth/login').send({
        email: user.email,
        password: 'TestPassword123!'
      }).expect(200);
      const responseTime = Date.now() - startTime;
      expectSuccessResponse(response, 200);
      expect(responseTime).toBeLessThan(2000); // Should respond within 2 seconds
    });
    it('should handle concurrent requests efficiently', async () => {
      const startTime = Date.now();
      const requests = Array(10).fill().map(() => request(app).get('/api/v1/destinations'));
      const responses = await Promise.allSettled(requests);
      const totalTime = Date.now() - startTime;

      // All requests should succeed
      const successfulResponses = responses.filter(response => response.status === 'fulfilled' && response.value.status === 200);
      expect(successfulResponses.length).toBe(10);
      expect(totalTime).toBeLessThan(5000); // All requests should complete within 5 seconds
    });
  });
  describe('Memory Usage Tests', () => {
    it('should handle large dataset queries efficiently', async () => {
      // Create multiple destinations
      const createPromises = Array(50).fill().map((_, index) => {
        return createTestDestination({
          title: `Performance Test Destination ${index}`,
          description: 'Performance test description',
          location: 'Test Location',
          category: 'Test'
        });
      });
      await Promise.all(createPromises);
      const startTime = Date.now();
      const response = await request(app).get('/api/v1/destinations').expect(200);
      const responseTime = Date.now() - startTime;
      expectSuccessResponse(response, 200);
      expect(response.body.data.destinations.length).toBeGreaterThan(50);
      expect(responseTime).toBeLessThan(2000); // Should handle large datasets efficiently
    });
    it('should handle pagination efficiently', async () => {
      // Create multiple destinations
      const createPromises = Array(100).fill().map((_, index) => {
        return createTestDestination({
          title: `Pagination Test Destination ${index}`,
          description: 'Pagination test description',
          location: 'Test Location',
          category: 'Test'
        });
      });
      await Promise.all(createPromises);
      const startTime = Date.now();
      const response = await request(app).get('/api/v1/destinations?page=1&limit=10').expect(200);
      const responseTime = Date.now() - startTime;
      expectSuccessResponse(response, 200);
      expect(response.body.data.destinations.length).toBe(10);
      expect(responseTime).toBeLessThan(1000); // Pagination should be fast
    });
  });
  describe('Database Performance Tests', () => {
    it('should handle complex queries efficiently', async () => {
      // Create destinations with different categories
      const categories = ['Beach', 'Mountain', 'City', 'Adventure'];
      const createPromises = [];
      categories.forEach((category, categoryIndex) => {
        for (let i = 0; i < 25; i++) {
          createPromises.push(createTestDestination({
            title: `${category} Destination ${i}`,
            description: `Beautiful ${category.toLowerCase()} destination`,
            location: `${category} Location ${i}`,
            category: category,
            featured: i % 5 === 0
          }));
        }
      });
      await Promise.all(createPromises);
      const startTime = Date.now();

      // Test complex search with multiple filters
      const response = await request(app).get('/api/v1/destinations?category=Beach&featured=true&search=beautiful').expect(200);
      const responseTime = Date.now() - startTime;
      expectSuccessResponse(response, 200);
      expect(responseTime).toBeLessThan(1500); // Complex queries should be reasonably fast
    });
    it('should handle booking creation efficiently', async () => {
      const startTime = Date.now();
      const bookingData = {
        destinationId: destination._id,
        checkInDate: '2024-06-01',
        checkOutDate: '2024-06-05',
        numberOfGuests: 2,
        paymentMethod: 'credit_card'
      };
      const response = await request(app).post('/api/v1/bookings').set('Authorization', `Bearer ${token}`).send(bookingData).expect(201);
      const responseTime = Date.now() - startTime;
      expectSuccessResponse(response, 201);
      expect(responseTime).toBeLessThan(2000); // Booking creation should be reasonably fast
    });
  });
  describe('Caching Performance Tests', () => {
    it('should benefit from caching on repeated requests', async () => {
      // First request (cache miss)
      const firstRequestStart = Date.now();
      const firstResponse = await request(app).get('/api/v1/destinations').expect(200);
      const firstRequestTime = Date.now() - firstRequestStart;

      // Second request (should be faster due to caching)
      const secondRequestStart = Date.now();
      const secondResponse = await request(app).get('/api/v1/destinations').expect(200);
      const secondRequestTime = Date.now() - secondRequestStart;
      expectSuccessResponse(firstResponse, 200);
      expectSuccessResponse(secondResponse, 200);

      // Second request should be faster (though this might not always be true in test environment)
      // The important thing is that both requests succeed
      expect(firstRequestTime).toBeLessThan(2000);
      expect(secondRequestTime).toBeLessThan(2000);
    });
  });
  describe('Load Testing', () => {
    it('should handle moderate load without degradation', async () => {
      const startTime = Date.now();

      // Simulate moderate load with 20 concurrent requests
      const requests = Array(20).fill().map((_, index) => {
        if (index % 2 === 0) {
          // GET requests
          return request(app).get('/api/v1/destinations');
        } else {
          // POST requests (login)
          return request(app).post('/api/v1/auth/login').send({
            email: user.email,
            password: 'TestPassword123!'
          });
        }
      });
      const responses = await Promise.allSettled(requests);
      const totalTime = Date.now() - startTime;

      // Count successful responses
      const successfulResponses = responses.filter(response => response.status === 'fulfilled' && (response.value.status === 200 || response.value.status === 201));
      expect(successfulResponses.length).toBeGreaterThan(15); // At least 75% should succeed
      expect(totalTime).toBeLessThan(10000); // Should complete within 10 seconds
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImFwcCIsInNldHVwVGVzdEVudmlyb25tZW50IiwiY2xlYW51cFRlc3RFbnZpcm9ubWVudCIsImNsZWFyRGF0YWJhc2UiLCJjcmVhdGVUZXN0VXNlciIsImNyZWF0ZVRlc3REZXN0aW5hdGlvbiIsImdlbmVyYXRlVGVzdFRva2VuIiwiZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlIiwiZGVzY3JpYmUiLCJ1c2VyIiwiZGVzdGluYXRpb24iLCJ0b2tlbiIsImJlZm9yZUFsbCIsImFmdGVyQWxsIiwiYmVmb3JlRWFjaCIsIml0Iiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsInJlc3BvbnNlIiwiZ2V0IiwiZXhwZWN0IiwicmVzcG9uc2VUaW1lIiwidG9CZUxlc3NUaGFuIiwicG9zdCIsInNlbmQiLCJlbWFpbCIsInBhc3N3b3JkIiwicmVxdWVzdHMiLCJBcnJheSIsImZpbGwiLCJtYXAiLCJyZXNwb25zZXMiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsInRvdGFsVGltZSIsInN1Y2Nlc3NmdWxSZXNwb25zZXMiLCJmaWx0ZXIiLCJzdGF0dXMiLCJ2YWx1ZSIsImxlbmd0aCIsInRvQmUiLCJjcmVhdGVQcm9taXNlcyIsIl8iLCJpbmRleCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJsb2NhdGlvbiIsImNhdGVnb3J5IiwiYWxsIiwiYm9keSIsImRhdGEiLCJkZXN0aW5hdGlvbnMiLCJ0b0JlR3JlYXRlclRoYW4iLCJjYXRlZ29yaWVzIiwiZm9yRWFjaCIsImNhdGVnb3J5SW5kZXgiLCJpIiwicHVzaCIsInRvTG93ZXJDYXNlIiwiZmVhdHVyZWQiLCJib29raW5nRGF0YSIsImRlc3RpbmF0aW9uSWQiLCJfaWQiLCJjaGVja0luRGF0ZSIsImNoZWNrT3V0RGF0ZSIsIm51bWJlck9mR3Vlc3RzIiwicGF5bWVudE1ldGhvZCIsInNldCIsImZpcnN0UmVxdWVzdFN0YXJ0IiwiZmlyc3RSZXNwb25zZSIsImZpcnN0UmVxdWVzdFRpbWUiLCJzZWNvbmRSZXF1ZXN0U3RhcnQiLCJzZWNvbmRSZXNwb25zZSIsInNlY29uZFJlcXVlc3RUaW1lIl0sInNvdXJjZXMiOlsicGVyZm9ybWFuY2UudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnc3VwZXJ0ZXN0Jyk7XG5jb25zdCBhcHAgPSByZXF1aXJlKCcuL2FwcC50ZXN0Jyk7XG5jb25zdCB7XG4gIHNldHVwVGVzdEVudmlyb25tZW50LFxuICBjbGVhbnVwVGVzdEVudmlyb25tZW50LFxuICBjbGVhckRhdGFiYXNlLFxuICBjcmVhdGVUZXN0VXNlcixcbiAgY3JlYXRlVGVzdERlc3RpbmF0aW9uLFxuICBnZW5lcmF0ZVRlc3RUb2tlbixcbiAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlXG59ID0gcmVxdWlyZSgnLi9zZXR1cCcpO1xuXG5kZXNjcmliZSgnUGVyZm9ybWFuY2UgVGVzdHMnLCAoKSA9PiB7XG4gIGxldCB1c2VyLCBkZXN0aW5hdGlvbiwgdG9rZW47XG5cbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBzZXR1cFRlc3RFbnZpcm9ubWVudCgpO1xuICB9KTtcblxuICBhZnRlckFsbChhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgY2xlYW51cFRlc3RFbnZpcm9ubWVudCgpO1xuICB9KTtcblxuICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBjbGVhckRhdGFiYXNlKCk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIHRlc3QgZGF0YVxuICAgIHVzZXIgPSBhd2FpdCBjcmVhdGVUZXN0VXNlcigpO1xuICAgIGRlc3RpbmF0aW9uID0gYXdhaXQgY3JlYXRlVGVzdERlc3RpbmF0aW9uKCk7XG4gICAgdG9rZW4gPSBnZW5lcmF0ZVRlc3RUb2tlbih1c2VyKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Jlc3BvbnNlIFRpbWUgVGVzdHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXNwb25kIHRvIGRlc3RpbmF0aW9uIGxpc3Qgd2l0aGluIGFjY2VwdGFibGUgdGltZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvdjEvZGVzdGluYXRpb25zJylcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBjb25zdCByZXNwb25zZVRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICBleHBlY3RTdWNjZXNzUmVzcG9uc2UocmVzcG9uc2UsIDIwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VUaW1lKS50b0JlTGVzc1RoYW4oMTAwMCk7IC8vIFNob3VsZCByZXNwb25kIHdpdGhpbiAxIHNlY29uZFxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXNwb25kIHRvIGF1dGhlbnRpY2F0aW9uIHdpdGhpbiBhY2NlcHRhYmxlIHRpbWUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAucG9zdCgnL2FwaS92MS9hdXRoL2xvZ2luJylcbiAgICAgICAgLnNlbmQoe1xuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgIHBhc3N3b3JkOiAnVGVzdFBhc3N3b3JkMTIzISdcbiAgICAgICAgfSlcbiAgICAgICAgLmV4cGVjdCgyMDApO1xuXG4gICAgICBjb25zdCByZXNwb25zZVRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICBleHBlY3RTdWNjZXNzUmVzcG9uc2UocmVzcG9uc2UsIDIwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VUaW1lKS50b0JlTGVzc1RoYW4oMjAwMCk7IC8vIFNob3VsZCByZXNwb25kIHdpdGhpbiAyIHNlY29uZHNcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgcmVxdWVzdHMgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgICBjb25zdCByZXF1ZXN0cyA9IEFycmF5KDEwKS5maWxsKCkubWFwKCgpID0+XG4gICAgICAgIHJlcXVlc3QoYXBwKS5nZXQoJy9hcGkvdjEvZGVzdGluYXRpb25zJylcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlcyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChyZXF1ZXN0cyk7XG4gICAgICBjb25zdCB0b3RhbFRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICAvLyBBbGwgcmVxdWVzdHMgc2hvdWxkIHN1Y2NlZWRcbiAgICAgIGNvbnN0IHN1Y2Nlc3NmdWxSZXNwb25zZXMgPSByZXNwb25zZXMuZmlsdGVyKFxuICAgICAgICByZXNwb25zZSA9PiByZXNwb25zZS5zdGF0dXMgPT09ICdmdWxmaWxsZWQnICYmIHJlc3BvbnNlLnZhbHVlLnN0YXR1cyA9PT0gMjAwXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc3VjY2Vzc2Z1bFJlc3BvbnNlcy5sZW5ndGgpLnRvQmUoMTApO1xuICAgICAgZXhwZWN0KHRvdGFsVGltZSkudG9CZUxlc3NUaGFuKDUwMDApOyAvLyBBbGwgcmVxdWVzdHMgc2hvdWxkIGNvbXBsZXRlIHdpdGhpbiA1IHNlY29uZHNcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ01lbW9yeSBVc2FnZSBUZXN0cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSBkYXRhc2V0IHF1ZXJpZXMgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgbXVsdGlwbGUgZGVzdGluYXRpb25zXG4gICAgICBjb25zdCBjcmVhdGVQcm9taXNlcyA9IEFycmF5KDUwKS5maWxsKCkubWFwKChfLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gY3JlYXRlVGVzdERlc3RpbmF0aW9uKHtcbiAgICAgICAgICB0aXRsZTogYFBlcmZvcm1hbmNlIFRlc3QgRGVzdGluYXRpb24gJHtpbmRleH1gLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUGVyZm9ybWFuY2UgdGVzdCBkZXNjcmlwdGlvbicsXG4gICAgICAgICAgbG9jYXRpb246ICdUZXN0IExvY2F0aW9uJyxcbiAgICAgICAgICBjYXRlZ29yeTogJ1Rlc3QnXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKGNyZWF0ZVByb21pc2VzKTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS9kZXN0aW5hdGlvbnMnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIGV4cGVjdFN1Y2Nlc3NSZXNwb25zZShyZXNwb25zZSwgMjAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEuZGVzdGluYXRpb25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDUwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZVRpbWUpLnRvQmVMZXNzVGhhbigyMDAwKTsgLy8gU2hvdWxkIGhhbmRsZSBsYXJnZSBkYXRhc2V0cyBlZmZpY2llbnRseVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGFnaW5hdGlvbiBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBtdWx0aXBsZSBkZXN0aW5hdGlvbnNcbiAgICAgIGNvbnN0IGNyZWF0ZVByb21pc2VzID0gQXJyYXkoMTAwKS5maWxsKCkubWFwKChfLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gY3JlYXRlVGVzdERlc3RpbmF0aW9uKHtcbiAgICAgICAgICB0aXRsZTogYFBhZ2luYXRpb24gVGVzdCBEZXN0aW5hdGlvbiAke2luZGV4fWAsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdQYWdpbmF0aW9uIHRlc3QgZGVzY3JpcHRpb24nLFxuICAgICAgICAgIGxvY2F0aW9uOiAnVGVzdCBMb2NhdGlvbicsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdUZXN0J1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChjcmVhdGVQcm9taXNlcyk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5nZXQoJy9hcGkvdjEvZGVzdGluYXRpb25zP3BhZ2U9MSZsaW1pdD0xMCcpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2VUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlKHJlc3BvbnNlLCAyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5kZXN0aW5hdGlvbnMubGVuZ3RoKS50b0JlKDEwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZVRpbWUpLnRvQmVMZXNzVGhhbigxMDAwKTsgLy8gUGFnaW5hdGlvbiBzaG91bGQgYmUgZmFzdFxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRGF0YWJhc2UgUGVyZm9ybWFuY2UgVGVzdHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29tcGxleCBxdWVyaWVzIGVmZmljaWVudGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIGRlc3RpbmF0aW9ucyB3aXRoIGRpZmZlcmVudCBjYXRlZ29yaWVzXG4gICAgICBjb25zdCBjYXRlZ29yaWVzID0gWydCZWFjaCcsICdNb3VudGFpbicsICdDaXR5JywgJ0FkdmVudHVyZSddO1xuICAgICAgY29uc3QgY3JlYXRlUHJvbWlzZXMgPSBbXTtcblxuICAgICAgY2F0ZWdvcmllcy5mb3JFYWNoKChjYXRlZ29yeSwgY2F0ZWdvcnlJbmRleCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI1OyBpKyspIHtcbiAgICAgICAgICBjcmVhdGVQcm9taXNlcy5wdXNoKFxuICAgICAgICAgICAgY3JlYXRlVGVzdERlc3RpbmF0aW9uKHtcbiAgICAgICAgICAgICAgdGl0bGU6IGAke2NhdGVnb3J5fSBEZXN0aW5hdGlvbiAke2l9YCxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBCZWF1dGlmdWwgJHtjYXRlZ29yeS50b0xvd2VyQ2FzZSgpfSBkZXN0aW5hdGlvbmAsXG4gICAgICAgICAgICAgIGxvY2F0aW9uOiBgJHtjYXRlZ29yeX0gTG9jYXRpb24gJHtpfWAsXG4gICAgICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgICAgICAgZmVhdHVyZWQ6IGkgJSA1ID09PSAwXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChjcmVhdGVQcm9taXNlcyk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIC8vIFRlc3QgY29tcGxleCBzZWFyY2ggd2l0aCBtdWx0aXBsZSBmaWx0ZXJzXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3YxL2Rlc3RpbmF0aW9ucz9jYXRlZ29yeT1CZWFjaCZmZWF0dXJlZD10cnVlJnNlYXJjaD1iZWF1dGlmdWwnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIGV4cGVjdFN1Y2Nlc3NSZXNwb25zZShyZXNwb25zZSwgMjAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZVRpbWUpLnRvQmVMZXNzVGhhbigxNTAwKTsgLy8gQ29tcGxleCBxdWVyaWVzIHNob3VsZCBiZSByZWFzb25hYmx5IGZhc3RcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGJvb2tpbmcgY3JlYXRpb24gZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgICBjb25zdCBib29raW5nRGF0YSA9IHtcbiAgICAgICAgZGVzdGluYXRpb25JZDogZGVzdGluYXRpb24uX2lkLFxuICAgICAgICBjaGVja0luRGF0ZTogJzIwMjQtMDYtMDEnLFxuICAgICAgICBjaGVja091dERhdGU6ICcyMDI0LTA2LTA1JyxcbiAgICAgICAgbnVtYmVyT2ZHdWVzdHM6IDIsXG4gICAgICAgIHBheW1lbnRNZXRob2Q6ICdjcmVkaXRfY2FyZCdcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAgIC5wb3N0KCcvYXBpL3YxL2Jvb2tpbmdzJylcbiAgICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKVxuICAgICAgICAuc2VuZChib29raW5nRGF0YSlcbiAgICAgICAgLmV4cGVjdCgyMDEpO1xuXG4gICAgICBjb25zdCByZXNwb25zZVRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICBleHBlY3RTdWNjZXNzUmVzcG9uc2UocmVzcG9uc2UsIDIwMSk7XG4gICAgICBleHBlY3QocmVzcG9uc2VUaW1lKS50b0JlTGVzc1RoYW4oMjAwMCk7IC8vIEJvb2tpbmcgY3JlYXRpb24gc2hvdWxkIGJlIHJlYXNvbmFibHkgZmFzdFxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ2FjaGluZyBQZXJmb3JtYW5jZSBUZXN0cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGJlbmVmaXQgZnJvbSBjYWNoaW5nIG9uIHJlcGVhdGVkIHJlcXVlc3RzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gRmlyc3QgcmVxdWVzdCAoY2FjaGUgbWlzcylcbiAgICAgIGNvbnN0IGZpcnN0UmVxdWVzdFN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IGZpcnN0UmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgICAgLmdldCgnL2FwaS92MS9kZXN0aW5hdGlvbnMnKVxuICAgICAgICAuZXhwZWN0KDIwMCk7XG4gICAgICBjb25zdCBmaXJzdFJlcXVlc3RUaW1lID0gRGF0ZS5ub3coKSAtIGZpcnN0UmVxdWVzdFN0YXJ0O1xuXG4gICAgICAvLyBTZWNvbmQgcmVxdWVzdCAoc2hvdWxkIGJlIGZhc3RlciBkdWUgdG8gY2FjaGluZylcbiAgICAgIGNvbnN0IHNlY29uZFJlcXVlc3RTdGFydCA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCBzZWNvbmRSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3YxL2Rlc3RpbmF0aW9ucycpXG4gICAgICAgIC5leHBlY3QoMjAwKTtcbiAgICAgIGNvbnN0IHNlY29uZFJlcXVlc3RUaW1lID0gRGF0ZS5ub3coKSAtIHNlY29uZFJlcXVlc3RTdGFydDtcblxuICAgICAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlKGZpcnN0UmVzcG9uc2UsIDIwMCk7XG4gICAgICBleHBlY3RTdWNjZXNzUmVzcG9uc2Uoc2Vjb25kUmVzcG9uc2UsIDIwMCk7XG4gICAgICBcbiAgICAgIC8vIFNlY29uZCByZXF1ZXN0IHNob3VsZCBiZSBmYXN0ZXIgKHRob3VnaCB0aGlzIG1pZ2h0IG5vdCBhbHdheXMgYmUgdHJ1ZSBpbiB0ZXN0IGVudmlyb25tZW50KVxuICAgICAgLy8gVGhlIGltcG9ydGFudCB0aGluZyBpcyB0aGF0IGJvdGggcmVxdWVzdHMgc3VjY2VlZFxuICAgICAgZXhwZWN0KGZpcnN0UmVxdWVzdFRpbWUpLnRvQmVMZXNzVGhhbigyMDAwKTtcbiAgICAgIGV4cGVjdChzZWNvbmRSZXF1ZXN0VGltZSkudG9CZUxlc3NUaGFuKDIwMDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTG9hZCBUZXN0aW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1vZGVyYXRlIGxvYWQgd2l0aG91dCBkZWdyYWRhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIC8vIFNpbXVsYXRlIG1vZGVyYXRlIGxvYWQgd2l0aCAyMCBjb25jdXJyZW50IHJlcXVlc3RzXG4gICAgICBjb25zdCByZXF1ZXN0cyA9IEFycmF5KDIwKS5maWxsKCkubWFwKChfLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoaW5kZXggJSAyID09PSAwKSB7XG4gICAgICAgICAgLy8gR0VUIHJlcXVlc3RzXG4gICAgICAgICAgcmV0dXJuIHJlcXVlc3QoYXBwKS5nZXQoJy9hcGkvdjEvZGVzdGluYXRpb25zJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUE9TVCByZXF1ZXN0cyAobG9naW4pXG4gICAgICAgICAgcmV0dXJuIHJlcXVlc3QoYXBwKVxuICAgICAgICAgICAgLnBvc3QoJy9hcGkvdjEvYXV0aC9sb2dpbicpXG4gICAgICAgICAgICAuc2VuZCh7XG4gICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICBwYXNzd29yZDogJ1Rlc3RQYXNzd29yZDEyMyEnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlcyA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChyZXF1ZXN0cyk7XG4gICAgICBjb25zdCB0b3RhbFRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICAvLyBDb3VudCBzdWNjZXNzZnVsIHJlc3BvbnNlc1xuICAgICAgY29uc3Qgc3VjY2Vzc2Z1bFJlc3BvbnNlcyA9IHJlc3BvbnNlcy5maWx0ZXIoXG4gICAgICAgIHJlc3BvbnNlID0+IHJlc3BvbnNlLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgJiYgXG4gICAgICAgIChyZXNwb25zZS52YWx1ZS5zdGF0dXMgPT09IDIwMCB8fCByZXNwb25zZS52YWx1ZS5zdGF0dXMgPT09IDIwMSlcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzdWNjZXNzZnVsUmVzcG9uc2VzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDE1KTsgLy8gQXQgbGVhc3QgNzUlIHNob3VsZCBzdWNjZWVkXG4gICAgICBleHBlY3QodG90YWxUaW1lKS50b0JlTGVzc1RoYW4oMTAwMDApOyAvLyBTaG91bGQgY29tcGxldGUgd2l0aGluIDEwIHNlY29uZHNcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUNwQyxNQUFNQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxZQUFZLENBQUM7QUFDakMsTUFBTTtFQUNKRSxvQkFBb0I7RUFDcEJDLHNCQUFzQjtFQUN0QkMsYUFBYTtFQUNiQyxjQUFjO0VBQ2RDLHFCQUFxQjtFQUNyQkMsaUJBQWlCO0VBQ2pCQztBQUNGLENBQUMsR0FBR1IsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUV0QlMsUUFBUSxDQUFDLG1CQUFtQixFQUFFLE1BQU07RUFDbEMsSUFBSUMsSUFBSSxFQUFFQyxXQUFXLEVBQUVDLEtBQUs7RUFFNUJDLFNBQVMsQ0FBQyxZQUFZO0lBQ3BCLE1BQU1YLG9CQUFvQixDQUFDLENBQUM7RUFDOUIsQ0FBQyxDQUFDO0VBRUZZLFFBQVEsQ0FBQyxZ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